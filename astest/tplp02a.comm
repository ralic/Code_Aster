# MODIF  DATE 30/08/2010   AUTEUR PELLET J.PELLET 
# TITRE   : CARRE ORTHOTROPE
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
#
# MAILLES : QUAD4
#

DEBUT(  CODE=_F( NOM = 'TPLP02A',NIV_PUB_WEB='INTERNET'))

#
# LECTURE DU MAILLAGE ----------------------------------------------
#

MAIL=LIRE_MAILLAGE()

MAIL=DEFI_GROUP( reuse=MAIL,   MAILLAGE=MAIL,
         CREA_GROUP_MA=_F(  NOM = 'TOUT', TOUT = 'OUI'))

#
# DEFINITION DES CHARGEMENTS ET DU MATERIAU ------------------------
#
# FLUX EN BAS: Y = -0.1
#

FLUX_BAS=DEFI_FONCTION(  NOM_PARA='X',
                             VALE=( -0.1E0,  60.E0,
                                     0.1E0,  60.E0, ),
                             PROL_DROITE='CONSTANT',
                            PROL_GAUCHE='CONSTANT'
                          )

#
# FLUX EN HAUT: Y = 0.1
#

FLUX_HAU=DEFI_FONCTION(  NOM_PARA='X',
                             VALE=( -0.1E0,  -60.E0,
                                     0.1E0,  -60.E0, ),
                             PROL_DROITE='CONSTANT',
                            PROL_GAUCHE='CONSTANT'
                          )

#
# CONVECTION A DROITE: X = 0.1
#

HCV_DROI=DEFI_FONCTION(  NOM_PARA='Y',
                             VALE=( -0.1E0,  15.E0,
                                     0.1E0,  15.E0, ),
                             PROL_DROITE='CONSTANT',
                            PROL_GAUCHE='CONSTANT'
                          )

TEX_DROI=DEFI_FONCTION(  NOM_PARA='Y',
                             VALE=( -0.1E0,   23.E0,
                                     0.1E0,    7.E0, ),
                             PROL_DROITE='LINEAIRE',
                            PROL_GAUCHE='LINEAIRE'
                          )

#
# CONVECTION A GAUCHE: X = -0.1
#

HCV_GAUC=DEFI_FONCTION(  NOM_PARA='Y',
                             VALE=( -0.1E0,  15.E0,
                                     0.1E0,  15.E0, ),
                             PROL_DROITE='CONSTANT',
                            PROL_GAUCHE='CONSTANT'
                          )

TEX_GAUC=DEFI_FONCTION(  NOM_PARA='Y',
                             VALE=( -0.1E0,  38.E0,
                                     0.1E0,  22.E0, ),
                             PROL_DROITE='LINEAIRE',
                            PROL_GAUCHE='LINEAIRE'
                          )

#
# AFFECTATIONS: MATERIAU  MODELE  CHARGEMENT ----------------------
#


ACIER=DEFI_MATERIAU( THER_ORTH=_F(  LAMBDA_L = 1.E0,
                                       LAMBDA_T = 0.75E0,
                                       LAMBDA_N = 1.E0,
                                             RHO_CP = 1.0))

CHMAT=AFFE_MATERIAU(   MAILLAGE=MAIL,
                     AFFE=_F( TOUT = 'OUI',  MATER = ACIER))

MOTH=AFFE_MODELE(  MAILLAGE=MAIL,
               AFFE=_F( TOUT = 'OUI', MODELISATION = 'PLAN',
                                   PHENOMENE = 'THERMIQUE'))

ESSAI=AFFE_CARA_ELEM(  MODELE=MOTH,
                             MASSIF=_F(
                              GROUP_MA = 'TOUT',
                           ANGL_REP = (0.,0.,))
                           )

CHTH=AFFE_CHAR_THER_F(  MODELE=MOTH,FLUX_REP=(
                      _F( GROUP_MA = 'GR_HAUT',     FLUN = FLUX_HAU),
                      _F( GROUP_MA = 'GR_BAS',      FLUN = FLUX_BAS)),ECHANGE=(
                       _F( GROUP_MA = 'GR_DROI',   COEF_H = HCV_DROI,
                                                  TEMP_EXT = TEX_DROI),
                       _F( GROUP_MA = 'GR_GAUC',   COEF_H = HCV_GAUC,
                                                  TEMP_EXT = TEX_GAUC))
         )

#
# RESOLUTION -----------------------------------------------------------
#


TEMPE=THER_LINEAIRE(   MODELE=MOTH,
                            CHAM_MATER=CHMAT,
                             CARA_ELEM=ESSAI,
                            EXCIT=_F(  CHARGE = CHTH)
                         )

#
# ANALYSE DES RESULTATS ------------------------------------------------
#

TEMPE=CALC_ELEM(reuse=TEMPE,RESULTAT=TEMPE,


                 OPTION='FLUX_ELNO_TEMP',
                 );

TEST_RESU(RESU=(

#
#------  POINT O(0,0)
#
   _F( RESULTAT = TEMPE, NUME_ORDRE=0, NOM_CHAM='TEMP',
   NOEUD = 'N61',  NOM_CMP = 'TEMP', VALE = 22.5, PRECISION = 1.E-2),
#
#------  POINT A(-0.1,-0.1)
#
   _F( RESULTAT = TEMPE, NUME_ORDRE=0, NOM_CHAM='TEMP',
   NOEUD = 'N1',   NOM_CMP = 'TEMP', VALE = 35.0, PRECISION = 1.E-2),
#
#------  POINT B(0.1,-0.1)
#
   _F( RESULTAT = TEMPE, NUME_ORDRE=0, NOM_CHAM='TEMP',
   NOEUD = 'N111', NOM_CMP = 'TEMP', VALE = 26.0, PRECISION = 1.E-2),
#
#------  POINT C(0.1,0.1)
#
   _F( RESULTAT = TEMPE, NUME_ORDRE=0, NOM_CHAM='TEMP',
   NOEUD = 'N121', NOM_CMP = 'TEMP', VALE = 10.0, PRECISION = 1.E-2),
#
#------  POINT D(-0.1,0.1)
#
   _F( RESULTAT = TEMPE, NUME_ORDRE=0, NOM_CHAM='TEMP',
   NOEUD = 'N11',  NOM_CMP = 'TEMP', VALE = 19.0, PRECISION = 1.E-2),
#
#------  POINT E(0.,-0.1)
#
   _F( RESULTAT = TEMPE, NUME_ORDRE=0, NOM_CHAM='TEMP',
   NOEUD = 'N56',  NOM_CMP = 'TEMP', VALE = 30.5, PRECISION = 1.E-2),
#
#------  POINT F(-0.1,0.)
#
   _F( RESULTAT = TEMPE, NUME_ORDRE=0, NOM_CHAM='TEMP',
   NOEUD = 'N116', NOM_CMP = 'TEMP', VALE = 18.0, PRECISION = 1.E-2),
#
#------  POINT G(0.,0.1)
#
   _F( RESULTAT = TEMPE, NUME_ORDRE=0, NOM_CHAM='TEMP',
   NOEUD = 'N66',  NOM_CMP = 'TEMP', VALE = 14.5, PRECISION = 1.E-2),
#
#------  POINT H(-0.1,0.)
#
   _F( RESULTAT = TEMPE, NUME_ORDRE=0, NOM_CHAM='TEMP',
   NOEUD = 'N6',   NOM_CMP = 'TEMP', VALE = 27.0, PRECISION = 1.E-2),


#
#------- POINT A
#
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M10', NOEUD = 'N1',   NOM_CMP = 'FLUX', VALE = 45.E0,  PRECISION = 1.E-2),
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M10', NOEUD = 'N1',   NOM_CMP = 'FLUY', VALE = 60.E0,  PRECISION = 1.E-2),
#
#------- POINT B
#
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M1',  NOEUD = 'N111',   NOM_CMP = 'FLUX', VALE = 45.E0,  PRECISION = 1.E-2),
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M1',  NOEUD = 'N111',   NOM_CMP = 'FLUY', VALE = 60.E0,  PRECISION = 1.E-2),
#
#------- POINT C
#
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M91', NOEUD = 'N121',   NOM_CMP = 'FLUX', VALE = 45.E0,  PRECISION = 1.E-2),
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M91', NOEUD = 'N121',   NOM_CMP = 'FLUY', VALE = 60.E0,  PRECISION = 1.E-2),
#
#------- POINT D
#
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M100', NOEUD = 'N11',   NOM_CMP = 'FLUX', VALE = 45.E0,  PRECISION = 1.E-2),
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M100', NOEUD = 'N11',   NOM_CMP = 'FLUY', VALE = 60.E0,  PRECISION = 1.E-2),
#
#------- POINT O
#
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M45',  NOEUD = 'N61',   NOM_CMP = 'FLUX', VALE = 45.E0,  PRECISION = 1.E-2),
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M45',  NOEUD = 'N61',   NOM_CMP = 'FLUY', VALE = 60.E0,  PRECISION = 1.E-2),

   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M56',  NOEUD = 'N61',   NOM_CMP = 'FLUX', VALE = 45.E0,  PRECISION = 1.E-2),
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M56',  NOEUD = 'N61',   NOM_CMP = 'FLUY', VALE = 60.E0,  PRECISION = 1.E-2),
#
#------- POINT E
#
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M6',   NOEUD = 'N56',   NOM_CMP = 'FLUX', VALE = 45.E0,  PRECISION = 1.E-2),
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M5',   NOEUD = 'N56',   NOM_CMP = 'FLUY', VALE = 60.E0,  PRECISION = 1.E-2),
#
#------- POINT F
#
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M51',   NOEUD = 'N116', NOM_CMP = 'FLUX', VALE = 45.E0,  PRECISION = 1.E-2),
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M41',   NOEUD = 'N116', NOM_CMP = 'FLUY', VALE = 60.E0,  PRECISION = 1.E-2),
#
#------- POINT G
#
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M95',   NOEUD = 'N66', NOM_CMP = 'FLUX', VALE = 45.E0,  PRECISION = 1.E-2),
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M96',   NOEUD = 'N66', NOM_CMP = 'FLUY', VALE = 60.E0,  PRECISION = 1.E-2),
#
#------- POINT H
#
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M60',   NOEUD = 'N6', NOM_CMP = 'FLUX', VALE = 45.E0,  PRECISION = 1.E-2),
   _F( RESULTAT = TEMPE,  NUME_ORDRE=0, NOM_CHAM='FLUX_ELNO_TEMP',
   MAILLE = 'M50',   NOEUD = 'N6', NOM_CMP = 'FLUY', VALE = 60.E0,  PRECISION = 1.E-2))
   )

FIN()
#
#
