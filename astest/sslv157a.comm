# MODIF  DATE 13/03/2012   AUTEUR PELLET J.PELLET 
# TITRE LIAISON DE TYPE RBE3 ENTRE UN CUBE ET UN DISCRET
# sslv157a.para = tps_job 60 mem_job 64Mo ncpus 1 liste_test R
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2012  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY  
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY  
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR     
# (AT YOUR OPTION) ANY LATER VERSION.                                                    
#                                                                       
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT   
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF            
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU      
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                              
#                                                                       
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE     
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,         
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.        
# ======================================================================

DEBUT(CODE=_F(NOM='SSLV157A',
              NIV_PUB_WEB='INTERNET',VISU_EFICAS='OUI',),DEBUG=_F(SDVERI='OUI'))

MAIL=LIRE_MAILLAGE(FORMAT='ASTER',VERI_MAIL=_F(VERIF='OUI',),)

MODMECA=AFFE_MODELE(MAILLAGE=MAIL,
                    AFFE=(
             _F(GROUP_MA='GMA00001',PHENOMENE='MECANIQUE',MODELISATION='3D',), # MASSIF
             _F(GROUP_MA='GMA00003',PHENOMENE='MECANIQUE',MODELISATION='DIS_TR',), # DISCRET
                  ),)

MAT00001=DEFI_MATERIAU(ELAS=_F(E=210000.0, NU=0.3,),)
              
CHMAT=AFFE_MATERIAU(MAILLAGE=MAIL,
                    AFFE=(
                          _F(GROUP_MA='GMA00002', MATER=MAT00001,),
                         )
                    )

CINE1=AFFE_CHAR_CINE(MODELE=MODMECA,
                        MECA_IMPO=(
                                 _F(GROUP_NO='GNO00001',DZ=0.0,),  
                                 _F(GROUP_NO='GNO00002',DX=0.0,DY=0.0,DZ=0.0,),  
                                 _F(GROUP_NO='GNO00003',DX=0.0,DZ=0.0,),  
        ),)


BRBE3=AFFE_CHAR_MECA(MODELE=MODMECA,
        LIAISON_RBE3=(
                _F(
                      NOEUD_MAIT='N000009',
                      DDL_MAIT=('DX','DY','DZ','DRX','DRY','DRZ'),
                      NOEUD_ESCL=('N000002','N000003','N000006','N000007',),
                      DDL_ESCL=('DX-DY-DZ','DX-DY-DZ','DX-DY-DZ','DX-DY-DZ'),
                      COEF_ESCL=(1.,1.,1.,1.)
                ),
        ), 
)


CHARGE1=AFFE_CHAR_MECA(MODELE=MODMECA,
        FORCE_NODALE=(
                  _F(GROUP_NO='GNO00004',FX=-0.123456701636,FY=-0.246913403273,FZ=-0.370370090008,),),
                       )                      
                       
CAEL=AFFE_CARA_ELEM(MODELE=MODMECA,
        DISCRET=(
                _F(CARA='K_TR_D_N', GROUP_MA='GMA00003',VALE=(0,0,0,0,0,0),),
              )              
                  )                       


RES_RBE3=MECA_STATIQUE(MODELE=MODMECA,
                    OPTION='SANS',
                    CHAM_MATER=CHMAT,
                    CARA_ELEM=CAEL,
                    EXCIT=(
                           _F(CHARGE=CHARGE1,),
                           _F(CHARGE=CINE1,),
                           _F(CHARGE=BRBE3,),
                           ),)

TEST_RESU(
     RESU = (         
          _F(RESULTAT=RES_RBE3,NOM_CHAM='DEPL',NOEUD='N000007',NUME_ORDRE=1,REFERENCE='SOURCE_EXTERNE',PRECISION=3e-6, CRITERE='RELATIF', NOM_CMP='DX',  VALE= 2.09288E-05),
          _F(RESULTAT=RES_RBE3,NOM_CHAM='DEPL',NOEUD='N000006',NUME_ORDRE=1,REFERENCE='SOURCE_EXTERNE',PRECISION=1e-6, CRITERE='RELATIF', NOM_CMP='DY',  VALE=-7.29517E-06),          
          _F(RESULTAT=RES_RBE3,NOM_CHAM='DEPL',NOEUD='N000002',NUME_ORDRE=1,REFERENCE='SOURCE_EXTERNE',PRECISION=1e-10,CRITERE='ABSOLU',  NOM_CMP='DZ',  VALE= 0.00000E+00),         
          _F(RESULTAT=RES_RBE3,NOM_CHAM='DEPL',NOEUD='N000002',NUME_ORDRE=1,REFERENCE='SOURCE_EXTERNE',PRECISION=1e-6, CRITERE='RELATIF', NOM_CMP='DX',  VALE=-6.23697E-06),
          _F(RESULTAT=RES_RBE3,NOM_CHAM='DEPL',NOEUD='N000002',NUME_ORDRE=1,REFERENCE='SOURCE_EXTERNE',PRECISION=2e-6, CRITERE='RELATIF', NOM_CMP='DY',  VALE=-2.45257E-05),          
          _F(RESULTAT=RES_RBE3,NOM_CHAM='DEPL',NOEUD='N000007',NUME_ORDRE=1,REFERENCE='SOURCE_EXTERNE',PRECISION=1e-6, CRITERE='RELATIF', NOM_CMP='DZ',  VALE=-2.79835E-05),
          _F(RESULTAT=RES_RBE3,NOM_CHAM='DEPL',NOEUD='N000009',NUME_ORDRE=1,REFERENCE='SOURCE_EXTERNE',PRECISION=1e-6, CRITERE='RELATIF', NOM_CMP='DX',  VALE= 8.655062E-05),
          _F(RESULTAT=RES_RBE3,NOM_CHAM='DEPL',NOEUD='N000009',NUME_ORDRE=1,REFERENCE='SOURCE_EXTERNE',PRECISION=1e-6, CRITERE='RELATIF', NOM_CMP='DY',  VALE= 3.349630E-05 ),
          _F(RESULTAT=RES_RBE3,NOM_CHAM='DEPL',NOEUD='N000009',NUME_ORDRE=1,REFERENCE='SOURCE_EXTERNE',PRECISION=1e-6, CRITERE='RELATIF', NOM_CMP='DZ',  VALE=-7.131093E-05),
          _F(RESULTAT=RES_RBE3,NOM_CHAM='DEPL',NOEUD='N000009',NUME_ORDRE=1,REFERENCE='SOURCE_EXTERNE',PRECISION=1e-6, CRITERE='RELATIF', NOM_CMP='DRX', VALE=-1.834213E-05),
          _F(RESULTAT=RES_RBE3,NOM_CHAM='DEPL',NOEUD='N000009',NUME_ORDRE=1,REFERENCE='SOURCE_EXTERNE',PRECISION=1e-6, CRITERE='RELATIF', NOM_CMP='DRY', VALE= 1.222809E-05),
          _F(RESULTAT=RES_RBE3,NOM_CHAM='DEPL',NOEUD='N000009',NUME_ORDRE=1,REFERENCE='SOURCE_EXTERNE',PRECISION=1e-6, CRITERE='RELATIF', NOM_CMP='DRZ', VALE=-1.493772E-05),
            )
    )     


FIN(FORMAT_HDF='OUI')
