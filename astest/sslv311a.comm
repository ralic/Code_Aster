# MODIF  DATE 11/10/2004   AUTEUR LEBOUVIE F.LEBOUVIER 
# TITRE  MURAKAMI 9.39 FISSURE EN QUART D'ELLIPSE AU COIN D'UN DISQUE
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
#        EPAIS EN ROTATION
#

DEBUT( CODE=_F( NOM = 'SSLV311A',NIV_PUB_WEB='INTERNET'))

MA=LIRE_MAILLAGE(VERI_MAIL=_F(VERIF='NON'),  )

MA=DEFI_GROUP( reuse=MA,        MAILLAGE=MA,
                       CREA_GROUP_NO=_F(  GROUP_MA = ( 'LFF',
                                                    'LEVREINF',
                                                    'SSUP_S',
                                                    'FACE2',
                                                  ))
                   )

MO=AFFE_MODELE(    MAILLAGE=MA,
                             AFFE=_F( TOUT = 'OUI',
                                   PHENOMENE = 'MECANIQUE',
                                   MODELISATION = '3D')
                     )

MAT1=DEFI_MATERIAU(    ELAS=_F(  E = 2.E11,
                                  NU = 0.3,
                                  RHO = 7800.)
                       )

CHMAT=AFFE_MATERIAU(    MAILLAGE=MA,
                               AFFE=_F( GROUP_MA = 'VMAT',
                                     MATER = MAT1)
                      )

#
# ------------------------------------------------------------------
#

CL=AFFE_CHAR_MECA(         MODELE=MO,DDL_IMPO=(
                              _F(  GROUP_NO = 'SSUP_S',
                                         DY = 0.),
                                       _F(  GROUP_NO = 'FACE2',
                                         DY = 0.),
                                       _F(  GROUP_NO = 'PA',
                                         DZ = 0.),
                                       _F(  GROUP_NO = 'PB',
                                         DZ = 0.)),
                           LIAISON_DDL=_F(  GROUP_NO = ( 'PA',    'PB',  ),
                                         DDL = ( 'DX',  'DX',),
                                         COEF_MULT = ( 1.,    1.,  ),
                                         COEF_IMPO = 0.)
                       )

CH=AFFE_CHAR_MECA(      MODELE=MO,
                          ROTATION=( 500., 0., 0., 1.,) )

CHAMDEPL=MECA_STATIQUE(        MODELE=MO,
                              CHAM_MATER=CHMAT,EXCIT=(
                                   _F( CHARGE = CL),
                                   _F( CHARGE = CH))
                           )

FISS1=DEFI_FOND_FISS(     MAILLAGE=MA,
                                    FOND_FISS=_F( NOEUD = ( 'N8823', 'N8826', 'N8890',
                                                            'N8883', 'N8889', 'N8783',
                                                            'N8789', 'N8615', 'N8621',
                                                            'N8405', 'N8411', 'N8159',
                                                            'N8165', 'N7932', 'N7938',
                                                            'N7654', 'N7660', 'N7223',
                                                            'N7229', 'N6699', 'N6705',
                                                            'N5962', 'N5968', 'N5160',
                                                            'N5163', 'N4879', 'N4882',
                                                            'N4375', 'N4380', 'N4381',
                                                            'N4384', 'N3879', 'N3882',
                                                  )),
                                    LEVRE_SUP=_F(  GROUP_MA = 'LEVREINF'),
                                    DTAN_ORIG=( 1.,  0.,  0.,),
                                    DTAN_EXTR=( 0.,  0.,  1.,)
                           )

#
#----------------------------------------------------------------------
#                           COURONNE 1
#----------------------------------------------------------------------
#
# DEFINITION DES RAYONS DES COURONNES DU CHAMPS THETA
#
#
RAY_INF1=DEFI_CONSTANTE(   VALE=0.00075)

RAY_SUP1=DEFI_CONSTANTE(   VALE=0.0025)

MOD_T1=DEFI_CONSTANTE(   VALE=1.)

THETA1=CALC_THETA(     MODELE=MO,
                         OPTION='COURONNE',
                        FOND_FISS=FISS1,
                       THETA_3D=_F(  TOUT = 'OUI',
                                  MODULE_FO = MOD_T1,
                                  R_INF_FO = RAY_INF1,
                                  R_SUP_FO = RAY_SUP1)
                    )

G0_C1=CALC_G_THETA_T(      RESULTAT=CHAMDEPL,
                           TOUT_ORDRE='OUI',
                           THETA=THETA1,
                       )

#
# CALCUL DE G LOCAL AVEC THETA_LEGENDRE
# -------------------------------------
GLO1_LE5=CALC_G_LOCAL_T(      RESULTAT=CHAMDEPL,
                              FOND_FISS=FISS1,
                              TOUT_ORDRE='OUI',
                              R_INF_FO=RAY_INF1,
                              R_SUP_FO=RAY_SUP1,
                              DEGRE=5,
                              LISSAGE_THETA='LEGENDRE',
                              LISSAGE_G='LEGENDRE'
                          )

#
# IMPRESSION DES RESULTATS
# ------------------------

TEST_TABLE(       TABLE=GLO1_LE5,
                   NOM_PARA='G_LOCAL',
                     FILTRE=_F(  NOM_PARA = 'NOEUD',
                              VALE_K = 'N8823'),
                       VALE=21599.,
                  PRECISION=0.12       )

TEST_TABLE(       TABLE=GLO1_LE5,
                   NOM_PARA='G_LOCAL',
                     FILTRE=_F(  NOM_PARA = 'NOEUD',
                              VALE_K = 'N8405'),
                       VALE=21118.,
                  PRECISION=0.08       )

TEST_TABLE(       TABLE=GLO1_LE5,
                   NOM_PARA='G_LOCAL',
                     FILTRE=_F(  NOM_PARA = 'NOEUD',
                              VALE_K = 'N6699'),
                       VALE=15365.,
                  PRECISION=0.085       )

TEST_TABLE(       TABLE=GLO1_LE5,
                   NOM_PARA='G_LOCAL',
                     FILTRE=_F(  NOM_PARA = 'NOEUD',
                              VALE_K = 'N4381'),
                       VALE=8767.,
                  PRECISION=0.07       )

FIN()
#
