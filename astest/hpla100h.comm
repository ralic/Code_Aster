# MODIF  DATE 16/05/2002   AUTEUR DURAND C.DURAND 
# TITRE CYLINDRE CREUX THERMOELASTIQUE PESANT EN ROTATION UNIFORME
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
#
#......................................................................
# MAILLAGE :  231 NOEUDS EXTERNES -- 200 QUAD4 + 80 SEG2
# PHENOMENE = 'MECANIQUE'   MODELISATION = 'DKT'
# PHENOMENE = 'THERMIQUE'   MODELISATION = 'COQUE'
#......................................................................
#
DEBUT(CODE=_F( NOM = 'HPLA100H',NIV_PUB_WEB='INTERNET') )

MA=LIRE_MAILLAGE(VERI_MAIL=_F(VERIF='NON'),  )

MA=DEFI_GROUP( reuse=MA,   MAILLAGE=MA,
               CREA_GROUP_MA=_F(  NOM = 'TOUT', TOUT = 'OUI'))

MO=AFFE_MODELE(  MAILLAGE=MA,
         AFFE=_F(  TOUT = 'OUI',PHENOMENE = 'MECANIQUE',
                           MODELISATION = 'DKT'))

MOTHER=AFFE_MODELE(  MAILLAGE=MA,
         AFFE=_F(  TOUT = 'OUI',PHENOMENE = 'THERMIQUE',
                           MODELISATION = 'COQUE'))

MAT1=DEFI_MATERIAU(ELAS_ORTH=_F(  E_L = 2.0E+5,    E_T = 2.0E+5,
 NU_LT = 0.3, G_LT = 7.69231E+4,   G_LN = 7.69231E+4,   G_TN = 7.69231E+4,
           RHO = 8.E-6, ALPHA_L = 1.E-05,     ALPHA_T = 1.E-05))

MAT=DEFI_COQU_MULT(COUCHE=(
            _F(  EPAIS = 0.5,  MATER = MAT1,  ORIENTATION = 0.),
            _F(  EPAIS = 0.5,  MATER = MAT1,  ORIENTATION = 0.)) )

MATHER=DEFI_MATERIAU(THER=_F( LAMBDA = 1.0, RHO_CP = 0.0) )

CHMAT=AFFE_MATERIAU(  MAILLAGE=MA,
                        AFFE=_F(  TOUT = 'OUI', MATER = MAT, TEMP_REF = 0.))

CHMATHE=AFFE_MATERIAU(  MAILLAGE=MA,
                        AFFE=_F(  TOUT = 'OUI', MATER = MATHER))

CARE=AFFE_CARA_ELEM( MODELE=MO,
                     COQUE=_F( GROUP_MA = 'TOUT',
                               EPAIS = 0.) )

CARETHE=AFFE_CARA_ELEM( MODELE=MOTHER,
                        COQUE=_F( GROUP_MA = 'TOUT',
                                  EPAIS = 1.00)       )

CHTHE=AFFE_CHAR_THER( 
            MODELE=MOTHER,
        TEMP_IMPO=_F( TOUT = 'OUI', TEMP_INF = -0.5,   TEMP_SUP = 0.5)
                       )

CHTH2=AFFE_CHAR_THER( 
            MODELE=MOTHER,
        TEMP_IMPO=_F( TOUT = 'OUI', TEMP_INF = 0.1,   TEMP_SUP = 0.1))

TEMPHOM=CREA_CHAMP( OPERATION='AFFE', TYPE_CHAM='NOEU_TEMP_R',
               MAILLAGE=MA,AFFE=(
              
                _F( 
                TOUT = 'OUI',
                NOM_CMP = 'TEMP_INF',
                VALE = 0.),
              
                _F( 
                TOUT = 'OUI',
                NOM_CMP = 'TEMP',
                VALE = 0.),
              
                _F( 
                TOUT = 'OUI',
                NOM_CMP = 'TEMP_SUP',
                VALE = 0.))
                )

TEMPLIN=THER_LINEAIRE(
                  MODELE=MOTHER,
              CHAM_MATER=CHMATHE,
               CARA_ELEM=CARETHE,
                  EXCIT=_F( CHARGE = CHTHE)
                         )

TEMPLI2=THER_LINEAIRE(
                  MODELE=MOTHER,
              CHAM_MATER=CHMATHE,
               CARA_ELEM=CARETHE,
                  EXCIT=_F( CHARGE = CHTH2)
                         )

TEMPLI2=CREA_RESU(reuse=TEMPLI2,  OPERATION='AFFE', TYPE_RESU='EVOL_THER',
                      NOM_CHAM='TEMP',
                       AFFE=_F(  CHAM_GD = TEMPHOM,
                                 INST = -1.)
                                 )

# ------------------------------------------------------------------

CHPES=AFFE_CHAR_MECA(  MODELE=MO,
           PESANTEUR=( 10.0,  0.,  0.,  -1., ),
         FORCE_ARETE=_F(  GROUP_MA = 'HAUT',        FZ = 8.E-4),DDL_IMPO=(
            _F(  GROUP_NO = 'LM',              DZ = 0.),
                _F(  GROUP_NO = 'KL',          DY = 0.,  DRX = 0.,        DRZ = 0.),
                _F(  GROUP_NO = 'MN',   DX = 0.,                 DRY = 0., DRZ = 0.))
                                                            )

CHDIL=AFFE_CHAR_MECA(  MODELE=MO,
           TEMP_CALCULEE=TEMPLIN,DDL_IMPO=(
           _F(  GROUP_NO = 'KNSANSKN',     DZ = 0.,  DRX = 0., DRY = 0.),
                    _F(  GROUP_NO = 'LMSANSLM',     DZ = 0.,  DRX = 0., DRY = 0.),
                    _F(  GROUP_NO = 'KL',   DY = 0.,          DRX = 0., DRZ = 0.),
                    _F(  GROUP_NO = 'MN',   DX = 0.,          DRY = 0., DRZ = 0.),
                    _F(  GROUP_NO = 'KETL',         DZ = 0.,  DRY = 0.),
                    _F(  GROUP_NO = 'METN',         DZ = 0.,  DRX = 0.))
                                                            )

CHDI2=AFFE_CHAR_MECA(  MODELE=MO,
           TEMP_CALCULEE=TEMPLI2,DDL_IMPO=(
           _F(  GROUP_NO = 'KNSANSKN',     DZ = 0.,  DRX = 0., DRY = 0.),
                    _F(  GROUP_NO = 'LMSANSLM',     DZ = 0.,  DRX = 0., DRY = 0.),
                    _F(  GROUP_NO = 'KL',   DY = 0.,          DRX = 0., DRZ = 0.),
                    _F(  GROUP_NO = 'MN',   DX = 0.,          DRY = 0., DRZ = 0.),
                    _F(  GROUP_NO = 'KETL',         DZ = 0.,  DRY = 0.),
                    _F(  GROUP_NO = 'METN',         DZ = 0.,  DRX = 0.))
                                                            )

# ------------------------------------------------------------------
DEPLPES=MECA_STATIQUE(
                 MODELE=MO,
              CARA_ELEM=CARE,
             CHAM_MATER=CHMAT,
                  EXCIT=_F( CHARGE = CHPES),
                 OPTION=('EFGE_ELNO_DEPL','SIGM_ELNO_DEPL',),
            NUME_COUCHE=1,
            NIVE_COUCHE='INF'
                        )

DEPLDIL=MECA_STATIQUE(
                 MODELE=MO,
             CHAM_MATER=CHMAT,
              CARA_ELEM=CARE,
                  EXCIT=_F( CHARGE = CHDIL),
                 OPTION=('EFGE_ELNO_DEPL','SIGM_ELNO_DEPL',),
            NUME_COUCHE=1,
            NIVE_COUCHE='INF'
                        )

DEPLDIL2=MECA_STATIQUE(
                 MODELE=MO,
             CHAM_MATER=CHMAT,
              CARA_ELEM=CARE,
                  EXCIT=_F( CHARGE = CHDIL),
                 OPTION=('EFGE_ELNO_DEPL','SIGM_ELNO_DEPL',),
             NUME_COUCHE=2,
            NIVE_COUCHE='SUP'
                        )

DEPLDI2=MECA_STATIQUE(
                 MODELE=MO,
             CHAM_MATER=CHMAT,
              CARA_ELEM=CARE,
                  EXCIT=_F( CHARGE = CHDI2),
                 OPTION=('EFGE_ELNO_DEPL','SIGM_ELNO_DEPL',),
            NUME_COUCHE=1,
            NIVE_COUCHE='INF'
                        )

#---------------------------------------------------------------------


TEST_RESU(RESU=(
              
      # DEPLACEMENTS
             _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF', PRECISION = 2.E-2,
              NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               NOEUD = 'N160',     NOM_CMP = 'DX',  VALE = -2.40000E-8),
             _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF', PRECISION = 2.E-2,
              NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               NOEUD = 'N1',      NOM_CMP = 'DY',  VALE = -2.40000E-8),
             _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF',   PRECISION = 2.E-3,
              NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               NOEUD = 'N226',     NOM_CMP = 'DZ',  VALE = 5.00000E-9),
             _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF',   PRECISION = 2.E-3,
              NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               NOEUD = 'N6',      NOM_CMP = 'DZ',  VALE = 5.00000E-9),
             _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF',   PRECISION = 2.E-2,
              NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               NOEUD = 'N226',     NOM_CMP = 'DRY', VALE = -2.40000E-9),
             _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF',   PRECISION = 2.E-2,
              NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               NOEUD = 'N6',      NOM_CMP = 'DRX', VALE = 2.40000E-9),
#
             _F(  RESULTAT = DEPLDI2,  CRITERE = 'RELATIF',   PRECISION = 1.E-3,
               NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               NOEUD = 'N203',      NOM_CMP = 'DX',  VALE = 26.0000E-6),
             _F(  RESULTAT = DEPLDI2,  CRITERE = 'RELATIF',   PRECISION = 1.E-3,
               NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               NOEUD = 'N11',      NOM_CMP = 'DY',  VALE = 26.0000E-6),
#
    # EFFORTS GENERALISES
             _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF',   PRECISION = 6.E-2,
        NUME_ORDRE = 1,     MAILLE = 'M181', NOM_CHAM = 'EFGE_ELNO_DEPL',
               NOEUD = 'N160', NOM_CMP = 'NYY',   VALE = 8.00000E-4),
             _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF',   PRECISION = 6.E-2,
        NUME_ORDRE = 1,     MAILLE = 'M200', NOM_CHAM = 'EFGE_ELNO_DEPL',
               NOEUD = 'N1', NOM_CMP = 'NYY',   VALE = 8.00000E-4),
#
             _F(  RESULTAT = DEPLDIL,  CRITERE = 'RELATIF',   PRECISION = 1.E-3,
        NUME_ORDRE = 1,     MAILLE = 'M1', NOM_CHAM = 'EFGE_ELNO_DEPL',
               NOEUD = 'N203', NOM_CMP = 'MYY',   VALE = -2.38095E-1),
             _F(  RESULTAT = DEPLDIL,  CRITERE = 'RELATIF',   PRECISION = 1.E-3,
        NUME_ORDRE = 1,     MAILLE = 'M20', NOM_CHAM = 'EFGE_ELNO_DEPL',
               NOEUD = 'N11', NOM_CMP = 'MYY',   VALE = -2.38095E-1),
#
             _F(  RESULTAT = DEPLDI2,  CRITERE = 'RELATIF',   PRECISION = 1.E-3,
        NUME_ORDRE = 1,     MAILLE = 'M1', NOM_CHAM = 'EFGE_ELNO_DEPL',
               NOEUD = 'N203', NOM_CMP = 'NYY',   VALE = -0.20000E+0),
             _F(  RESULTAT = DEPLDI2,  CRITERE = 'RELATIF',   PRECISION = 1.E-3,
        NUME_ORDRE = 1,     MAILLE = 'M20', NOM_CHAM = 'EFGE_ELNO_DEPL',
               NOEUD = 'N11', NOM_CMP = 'NYY',   VALE = -0.20000E+0),
#
     # CONTRAINTES EN PEAU MOYENNE
            _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF',   PRECISION = 6.E-2,
        NUME_ORDRE = 1,     MAILLE = 'M181', NOM_CHAM = 'SIGM_ELNO_DEPL',
              NOEUD = 'N160', NOM_CMP = 'SIYY',  VALE = 8.00000E-4),
            _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF',   PRECISION = 6.E-2,
        NUME_ORDRE = 1,     MAILLE = 'M200', NOM_CHAM = 'SIGM_ELNO_DEPL',
              NOEUD = 'N1', NOM_CMP = 'SIYY',  VALE = 8.00000E-4),
#
            _F(  RESULTAT = DEPLDIL,  CRITERE = 'RELATIF',   PRECISION = 1.E-3,
        NUME_ORDRE = 1,     MAILLE = 'M1', NOM_CHAM = 'SIGM_ELNO_DEPL',
              NOEUD = 'N203', NOM_CMP = 'SIYY',  VALE = 1.428571E+0),
            _F(  RESULTAT = DEPLDIL,  CRITERE = 'RELATIF',   PRECISION = 1.E-3,
        NUME_ORDRE = 1,     MAILLE = 'M20', NOM_CHAM = 'SIGM_ELNO_DEPL',
              NOEUD = 'N11', NOM_CMP = 'SIYY',  VALE = 1.428571E+0),
#
            _F(  RESULTAT = DEPLDIL2,  CRITERE = 'RELATIF',   PRECISION = 1.E-3,
        NUME_ORDRE = 1,     MAILLE = 'M1', NOM_CHAM = 'SIGM_ELNO_DEPL',
              NOEUD = 'N203', NOM_CMP = 'SIYY',  VALE = -1.428571E+0),
            _F(  RESULTAT = DEPLDIL2,  CRITERE = 'RELATIF',   PRECISION = 1.E-3,
        NUME_ORDRE = 1,     MAILLE = 'M20', NOM_CHAM = 'SIGM_ELNO_DEPL',
              NOEUD = 'N11', NOM_CMP = 'SIYY',  VALE = -1.428571E+0),
#
            _F(  RESULTAT = DEPLDI2,  CRITERE = 'RELATIF',   PRECISION = 1.E-3,
        NUME_ORDRE = 1,     MAILLE = 'M1', NOM_CHAM = 'SIGM_ELNO_DEPL',
              NOEUD = 'N203', NOM_CMP = 'SIYY',  VALE = -0.20000E+0),
            _F(  RESULTAT = DEPLDI2,  CRITERE = 'RELATIF',   PRECISION = 1.E-3,
        NUME_ORDRE = 1,     MAILLE = 'M20', NOM_CHAM = 'SIGM_ELNO_DEPL',
              NOEUD = 'N11', NOM_CMP = 'SIYY',  VALE = -0.20000E+0))
            )

FIN()
#
