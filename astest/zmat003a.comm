# TITRE TEST COUPLAGE ZMAT-ASTER, SIMILAIRE A HSNV127B, APPEL A ZMAT
# person_in_charge: jean-michel.proix at edf.fr
# ======================================================================
# COPYRIGHT (C) 1991 - 2012  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
# UTILISATION DE LA LOI VISCOPLASTIQUE VISC_CIN1_CHAB
# PLAQUE CARREE EN TRACTION BIAXIALE
# ELEMENT VOLUMIQUE
#.....................................................................

DEBUT(   CODE=_F(  NOM = 'ZMAT003A',NIV_PUB_WEB='INTERNET'))

MAYA=LIRE_MAILLAGE( )

MODEL=AFFE_MODELE(    MAILLAGE=MAYA,
                                VERIF='MAILLE',
                                 AFFE=_F(  TOUT = 'OUI',
                                        PHENOMENE = 'MECANIQUE',
                                        MODELISATION = '3D')
                         )

ACIER=DEFI_MATERIAU(        ELAS=_F(  E = 195000.,
                                      NU = 0.3),
# Les parametres sont dans le fichier ZMAT
#                           CIN1_CHAB=_F( R_0 = 30.,
#                                      R_I = 300.,
#                                      B   = 100.,
#                                      C_I = 0.,
#                                      K   = 0.,
#                                      W   = 0.,
#                                      G_0 = 0.,
#                                      A_I = 0.),
#                           LEMAITRE=_F( N = 3.5,
#                                       UN_SUR_K = 0.0016666667)
                       )

MATER=AFFE_MATERIAU(   MAILLAGE=MAYA,
                                 AFFE=_F(  TOUT = 'OUI',
                                        MATER = ACIER)
                         )


SIGMA_F=DEFI_FONCTION(

                 NOM_PARA='INST',
               PROL_DROITE='EXCLU',
              PROL_GAUCHE='EXCLU',

                VALE=(
                0.0,    0.0,
                10.,    242.0,
                60.,    242.0,
                )
              )

TAU_F=DEFI_FONCTION(

                 NOM_PARA='INST',
               PROL_DROITE='EXCLU',
              PROL_GAUCHE='EXCLU',

                VALE=(
                0.0,    0.0,
                10.,    146.0,
                60.,    146.0,
                )
              )

TRACTION=AFFE_CHAR_MECA(

                      MODELE=MODEL,

                FORCE_FACE=_F(
                MAILLE = 'GAUCHE',
                FX = -1.)
              )

CISAIL=AFFE_CHAR_MECA(

                      MODELE=MODEL,FORCE_FACE=(

                _F( MAILLE = 'GAUCHE',          FY = -1.),
                _F( MAILLE = 'DROITE',          FY = 1.),
                _F( MAILLE = 'HAUT',    FX = 1.),
                _F( MAILLE = 'BAS',     FX = -1.))
              )

LIAISON=AFFE_CHAR_MECA(

               MODELE=MODEL,DDL_IMPO=(

                _F( NOEUD = 'NO4',     DX = 0.,  DY = 0.),
                _F( NOEUD = 'NO8',     DX = 0.,  DY = 0.,  DZ = 0.),
                _F( NOEUD = 'NO2',     DX = 0.),
                _F( NOEUD = 'NO6',     DX = 0.))
              )

CAT=DEFI_LIST_REEL(    DEBUT=0.0,INTERVALLE=(
                          _F(  JUSQU_A = 10.,    NOMBRE = 20),
                          _F(  JUSQU_A = 60.,    NOMBRE = 25))
                      )

CALCNL=STAT_NON_LINE(
                            MODELE=MODEL,
                        CHAM_MATER=MATER,
                         COMPORTEMENT=_F(
                RELATION = 'ZMAT',
                UNITE = 33,
                NB_VARI = 26,
                ITER_INTE_MAXI = 1000,
                DEFORMATION = 'PETIT'),
                         INCREMENT=_F(
                LIST_INST = CAT,
                NUME_INST_FIN = 40),
                            NEWTON=_F(
                MATRICE = 'TANGENTE',
                PREDICTION = 'ELASTIQUE',
                REAC_ITER = 1),
                       CONVERGENCE=_F(
                RESI_GLOB_RELA = 1.E-6,
                ITER_GLOB_MAXI = 60),EXCIT=(
                             _F(
                CHARGE = LIAISON), _F(
                CHARGE = TRACTION,
                FONC_MULT = SIGMA_F), _F(
                CHARGE = CISAIL,
                FONC_MULT = TAU_F)),
                     RECH_LINEAIRE=_F(
                ITER_LINE_MAXI = 3)

              )


FIN()
