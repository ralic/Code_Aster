# MODIF  DATE 08/03/2011   AUTEUR MASSIN P.MASSIN 
# TITRE PLAQUE CIRCULAIRE POSEE SOUS PRESSION  147 SHB20
# ssls101d.para = tps_job 60 mem_job 128Mo ncpus 1 liste_test S
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2011  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY  
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY  
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR     
# (AT YOUR OPTION) ANY LATER VERSION.                                                    
#                                                                       
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT   
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF            
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU      
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                              
#                                                                       
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE     
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,         
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.        
# ======================================================================

DEBUT(CODE=_F(NOM='SSLS101D',
              NIV_PUB_WEB='INTERNET',),
      DEBUG=_F(SDVERI='OUI',),);

#----------------------------------------------------------------------
#                        ! y
#                        !
# POINTS: O            C **
#         A              *   *
#         B              *     * B
#         C            E *   F   *
#         D              *        *
#         E              *         *
#         F              O ___D____A  ----> x
#----------------------------------------------------------------------
T = 0.05;

R = 1.0;

P = 1.0;


MATER=DEFI_MATERIAU(ELAS=_F(E=1.0,
                            NU=0.3,
                            RHO=1.0,),);

#
#MAIL1=LIRE_MAILLAGE();
#
#MODKT=AFFE_MODELE(MAILLAGE=MAIL1,
#                  AFFE=_F(GROUP_MA='QUAD',
#                          PHENOMENE='MECANIQUE',
#                          MODELISATION='DKT',),);
#
#MAIL1=MODI_MAILLAGE(reuse =MAIL1,
#                    MAILLAGE=MAIL1,
#                    ORIE_NORM_COQUE=_F(GROUP_MA='QUAD',
#                                       VECT_NORM=(0.0,0.0,1.0,),
#                                       NOEUD='O',),
#                    );
#
#MAIL2=CREA_MAILLAGE(MAILLAGE=MAIL1,
#                    COQU_VOLU=_F(NOM='VOLUH',
#                                 GROUP_MA='QUAD',
#                                 EPAIS=T,
#                                 PREF_MAILLE='MH',
#                                 PREF_NOEUD='NH',
#                                 PLAN='INF',),
#                    INFO=2,);
#
#MAILL=CREA_MAILLAGE(MAILLAGE=MAIL2,
#                    COQU_VOLU=_F(NOM='VOLUB',
#                                 GROUP_MA='QUAD',
#                                 EPAIS=T,
#                                 PREF_MAILLE='MB',
#                                 PREF_NOEUD='NB',
#                                 PLAN='SUP',),
#                    INFO=2,);
#
#MAILL=DEFI_GROUP(reuse =MAILL,
#                 MAILLAGE=MAILL,
#                 CREA_GROUP_NO=(_F(OPTION='PLAN',
#                                   NOM='PLANY0',
#                                   NOEUD_CENTRE='O',
#                                   VECT_NORMALE=(0.0,1.0,0.0,),
#                                   PRECISION=0.001,),
#                                _F(OPTION='PLAN',
#                                   NOM='PLANX0',
#                                   NOEUD_CENTRE='O',
#                                   VECT_NORMALE=(1.0,0.0,0.0,),
#                                   PRECISION=0.001,),),);

PRE_GIBI();

MAILL=LIRE_MAILLAGE();

MAILL=MODI_MAILLAGE(reuse =MAILL,
                    MAILLAGE=MAILL,
                    ORIE_SHB=_F(GROUP_MA='VOL2',),
                    INFO=2,);

CHMAT=AFFE_MATERIAU(MAILLAGE=MAILL,
                    AFFE=_F(GROUP_MA='VOL1',
                            MATER=MATER,),);

MODEL=AFFE_MODELE(MAILLAGE=MAILL,
                  INFO=2,
                  AFFE=_F(TOUT='OUI',
                          PHENOMENE='MECANIQUE',
                          MODELISATION='SHB',),);

CINE=AFFE_CHAR_MECA(MODELE=MODEL,
                    DDL_IMPO=(_F(GROUP_MA='CONT',
                                 DZ=0.0,),
                              _F(GROUP_MA='SURF1',
                                 DY=0.0,),
                              _F(GROUP_MA='SURF2',
                                 DX=0.0,),),);

PRES=AFFE_CHAR_MECA(MODELE=MODEL,
                    FORCE_FACE=_F(GROUP_MA='SS1',
                                  FZ=-1.0,),);

CHF3=AFFE_CHAR_MECA(MODELE=MODEL,
                    FORCE_INTERNE=_F(GROUP_MA='VOL1',
                                     FZ=-10.0,),);

FZC=DEFI_CONSTANTE(VALE=-10.0,);

CHFC=AFFE_CHAR_MECA_F(MODELE=MODEL,
                      FORCE_INTERNE=_F(GROUP_MA='VOL1',
                                       FZ=FZC,),);

CHPE=AFFE_CHAR_MECA(MODELE=MODEL,
                      PESANTEUR=_F(GRAVITE= 10.,
                                   DIRECTION=(0., 0., -10., ), ),) 

MATELEM=CALC_MATR_ELEM(OPTION='RIGI_MECA',
                       MODELE=MODEL,
                       CHAM_MATER=CHMAT,
                       CHARGE=CINE,);

VEPR=CALC_VECT_ELEM(OPTION='CHAR_MECA',
                    CHARGE=(CINE,PRES,),
                    CHAM_MATER=CHMAT,);

VEF3=CALC_VECT_ELEM(OPTION='CHAR_MECA',
                    CHARGE=(CINE,CHF3,),
                    CHAM_MATER=CHMAT,);

VEFC=CALC_VECT_ELEM(OPTION='CHAR_MECA',
                    CHARGE=(CINE,CHFC,),
                    CHAM_MATER=CHMAT,);

VEPE=CALC_VECT_ELEM(OPTION='CHAR_MECA',
                    CHARGE=(CINE,CHPE,),
                    CHAM_MATER=CHMAT,);

NU=NUME_DDL(MATR_RIGI=MATELEM,);

MATASS=ASSE_MATRICE(MATR_ELEM=MATELEM,
                    NUME_DDL=NU,);

VEPRAS=ASSE_VECTEUR(VECT_ELEM=VEPR,
                    NUME_DDL=NU,);

VEF3AS=ASSE_VECTEUR(VECT_ELEM=VEF3,
                    NUME_DDL=NU,);

VEFCAS=ASSE_VECTEUR(VECT_ELEM=VEFC,
                    NUME_DDL=NU,);

VEPEAS=ASSE_VECTEUR(VECT_ELEM=VEPE,
                    NUME_DDL=NU,);

MATASS=FACTORISER(reuse =MATASS,
                  MATR_ASSE=MATASS,);

DEPR=RESOUDRE(MATR=MATASS,
              CHAM_NO=VEPRAS,);

DEF3=RESOUDRE(MATR=MATASS,
              CHAM_NO=VEF3AS,);

DEFC=RESOUDRE(MATR=MATASS,
              CHAM_NO=VEFCAS,);

DEPE=RESOUDRE(MATR=MATASS,
              CHAM_NO=VEPEAS,);

#--------------------------------------------------------------------

TEST_RESU(CHAM_NO=(_F(CHAM_GD=DEPR,
                      GROUP_NO='PO',
                      NOM_CMP='DZ',
                      VALE=-695.6256,
                      CRITERE='RELATIF',
                      PRECISION=0.012,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEPR,
                      GROUP_NO='PA',
                      NOM_CMP='DZ',
                      VALE=0.0,
                      CRITERE='ABSOLU',
                      PRECISION=1e-10,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEPR,
                      GROUP_NO='PB',
                      NOM_CMP='DZ',
                      VALE=0.0,
                      CRITERE='ABSOLU',
                      PRECISION=1e-10,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEPR,
                      GROUP_NO='PC',
                      NOM_CMP='DZ',
                      VALE=0.0,
                      CRITERE='ABSOLU',
                      PRECISION=1e-10,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEPR,
                      GROUP_NO='PD',
                      NOM_CMP='DZ',
                      VALE=-489.727,
                      CRITERE='RELATIF',
                      PRECISION=0.013,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEPR,
                      GROUP_NO='PE',
                      NOM_CMP='DZ',
                      VALE=-489.727,
                      CRITERE='RELATIF',
                      PRECISION=0.013,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEPR,
                      GROUP_NO='PF',
                      NOM_CMP='DZ',
                      VALE=-435.8974,
                      CRITERE='RELATIF',
                      PRECISION=0.015,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEF3,
                      GROUP_NO='PO',
                      NOM_CMP='DZ',
                      VALE=-695.6256,
                      CRITERE='RELATIF',
                      PRECISION=0.012,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEF3,
                      GROUP_NO='PA',
                      NOM_CMP='DZ',
                      VALE=0.0,
                      CRITERE='ABSOLU',
                      PRECISION=1e-10,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEF3,
                      GROUP_NO='PB',
                      NOM_CMP='DZ',
                      VALE=0.0,
                      CRITERE='ABSOLU',
                      PRECISION=1e-10,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEF3,
                      GROUP_NO='PC',
                      NOM_CMP='DZ',
                      VALE=0.0,
                      CRITERE='ABSOLU',
                      PRECISION=1e-10,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEF3,
                      GROUP_NO='PD',
                      NOM_CMP='DZ',
                      VALE=-489.727,
                      CRITERE='RELATIF',
                      PRECISION=0.013,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEF3,
                      GROUP_NO='PE',
                      NOM_CMP='DZ',
                      VALE=-489.727,
                      CRITERE='RELATIF',
                      PRECISION=0.013,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEF3,
                      GROUP_NO='PF',
                      NOM_CMP='DZ',
                      VALE=-435.8974,
                      CRITERE='RELATIF',
                      PRECISION=0.015,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEFC,
                      GROUP_NO='PO',
                      NOM_CMP='DZ',
                      VALE=-695.6256,
                      CRITERE='RELATIF',
                      PRECISION=0.012,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEFC,
                      GROUP_NO='PA',
                      NOM_CMP='DZ',
                      VALE=0.0,
                      CRITERE='ABSOLU',
                      PRECISION=1e-10,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEFC,
                      GROUP_NO='PB',
                      NOM_CMP='DZ',
                      VALE=0.0,
                      CRITERE='ABSOLU',
                      PRECISION=1e-10,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEFC,
                      GROUP_NO='PC',
                      NOM_CMP='DZ',
                      VALE=0.0,
                      CRITERE='ABSOLU',
                      PRECISION=1e-10,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEFC,
                      GROUP_NO='PD',
                      NOM_CMP='DZ',
                      VALE=-489.727,
                      CRITERE='RELATIF',
                      PRECISION=0.013,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEFC,
                      GROUP_NO='PE',
                      NOM_CMP='DZ',
                      VALE=-489.727,
                      CRITERE='RELATIF',
                      PRECISION=0.013,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEFC,
                      GROUP_NO='PF',
                      NOM_CMP='DZ',
                      VALE=-435.8974,
                      CRITERE='RELATIF',
                      PRECISION=0.014,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEPE,
                      GROUP_NO='PO',
                      NOM_CMP='DZ',
                      VALE=-695.6256,
                      CRITERE='RELATIF',
                      PRECISION=0.012,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEPE,
                      GROUP_NO='PA',
                      NOM_CMP='DZ',
                      VALE=0.0,
                      CRITERE='ABSOLU',
                      PRECISION=1e-10,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEPE,
                      GROUP_NO='PB',
                      NOM_CMP='DZ',
                      VALE=0.0,
                      CRITERE='ABSOLU',
                      PRECISION=1e-10,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEPE,
                      GROUP_NO='PC',
                      NOM_CMP='DZ',
                      VALE=0.0,
                      CRITERE='ABSOLU',
                      PRECISION=1e-10,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEPE,
                      GROUP_NO='PD',
                      NOM_CMP='DZ',
                      VALE=-489.727,
                      CRITERE='RELATIF',
                      PRECISION=0.013,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEPE,
                      GROUP_NO='PE',
                      NOM_CMP='DZ',
                      VALE=-489.727,
                      CRITERE='RELATIF',
                      PRECISION=0.013,
                      REFERENCE='ANALYTIQUE',),
                   _F(CHAM_GD=DEPE,
                      GROUP_NO='PF',
                      NOM_CMP='DZ',
                      VALE=-435.8974,
                      CRITERE='RELATIF',
                      PRECISION=0.014,
                      REFERENCE='ANALYTIQUE',),),);


FIN();
