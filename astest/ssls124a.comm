# MODIF  DATE 20/10/2011   AUTEUR SELLENET N.SELLENET 
# RESPONSABLE PROIX J.M.PROIX
# TITRE PLAQUE EN FLEXION AVEC DIVERS ELANCEMENTS. MODELISATION SHB8 MAILLAGE REGULIER
# ssls124a.para = tps_job 60 mem_job 32Mo ncpus 1 liste_test S
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2011  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
# ELEMENT SHB8PS - A.COMBESCURE - S.BAGUET -INSA LYON 2003

DEBUT(CODE=_F(NOM='SSLS124A',
              NIV_PUB_WEB='INTERNET',),
      DEBUG=_F(SDVERI='OUI',),);
YG = 200000000000.0;

L = 100.0;

b = 10.0;

F = 1.0;


MAT=DEFI_MATERIAU(ELAS=_F(E=YG,
                          NU=0.0,),);

# CAS 1 :
h = 10.0;

MAIL31=LIRE_MAILLAGE(FORMAT='MED',UNITE=21,);

MAIL31=MODI_MAILLAGE(reuse =MAIL31,
                     MAILLAGE=MAIL31,
                     ORIE_SHB=_F(GROUP_MA='GEOTOT',),);

MAIL31=DEFI_GROUP(reuse =MAIL31,
                  MAILLAGE=MAIL31,
                  CREA_GROUP_NO=(_F(GROUP_MA='SUENCAS',),
                                 _F(GROUP_MA='SUDEPIM',),
                                 _F(GROUP_MA='LI15',),
                                 _F(GROUP_MA='LI21',),
                                 _F(GROUP_MA='LI87',),),);

CHMAT31=AFFE_MATERIAU(MAILLAGE=MAIL31,
                      AFFE=_F(TOUT='OUI',
                              MATER=MAT,),);

MODMEC31=AFFE_MODELE(MAILLAGE=MAIL31,
                     AFFE=_F(TOUT='OUI',
                             PHENOMENE='MECANIQUE',
                             MODELISATION='SHB',),);

CHARG31=AFFE_CHAR_MECA(MODELE=MODMEC31,
                       DDL_IMPO=(_F(GROUP_MA='SUENCAS',
                                    DX=0.0,),
                                 _F(GROUP_MA='LI15',
                                    DY=0.0,),
                                 _F(GROUP_MA='LI21',
                                    DZ=0.0,),),
                       FORCE_ARETE=_F(GROUP_MA='LI87',
                                      FZ=(F / b),),);

RESU31=MECA_STATIQUE(MODELE=MODMEC31,
                     CHAM_MATER=CHMAT31,
                     EXCIT=_F(CHARGE=CHARG31,),);

RESU31=CALC_ELEM(reuse =RESU31,
                 RESULTAT=RESU31,
                 OPTION=('SIGM_ELNO','SIEQ_ELGA','SIEQ_ELNO',),);
Iy = ((((b * h) * h) * h) / 12.0);

Uz = ((((((F * L) * L) * L) / 3.0) / YG) / Iy);


# point de gauss maille m1 situe a x=5
moment1 = ((L - 5.0) * F);


# coordonnees des points de Gauss
z1 = (0.45309 * h);

z2 = (0.26925 * h);

z3 = 0.0;

z4 = (-0.26925 * h);

z5 = (-0.45309 * h);

Sig1 = ((moment1 * z1) / Iy);

Sig2 = ((moment1 * z2) / Iy);

Sig3 = ((moment1 * z3) / Iy);

Sig4 = ((moment1 * z4) / Iy);

Sig5 = ((moment1 * z5) / Iy);


TEST_RESU(RESU=(_F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='P7',
                   VALE=Uz,
                   PRECISION=0.01,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='P8',
                   VALE=Uz,
                   PRECISION=0.01,
                   REFERENCE='ANALYTIQUE',),),);

#CONTRAINTES REPERE LOCAL

TEST_RESU(RESU=(_F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIEF_ELGA',
                   NOM_CMP='SIYY',
                   MAILLE='M1',
                   POINT=1,
                   VALE=Sig1,
                   PRECISION=0.001,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIEF_ELGA',
                   NOM_CMP='SIYY',
                   MAILLE='M1',
                   POINT=2,
                   VALE=Sig2,
                   PRECISION=0.001,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIEF_ELGA',
                   NOM_CMP='SIYY',
                   MAILLE='M1',
                   POINT=3,
                   VALE=Sig3,
                   CRITERE='ABSOLU',
                   PRECISION=1e-09,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIEF_ELGA',
                   NOM_CMP='SIYY',
                   MAILLE='M1',
                   POINT=4,
                   VALE=Sig4,
                   PRECISION=0.001,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIEF_ELGA',
                   NOM_CMP='SIYY',
                   MAILLE='M1',
                   POINT=5,
                   VALE=Sig5,
                   PRECISION=0.001,
                   REFERENCE='ANALYTIQUE',),),);

TEST_RESU(RESU=(_F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIGM_ELNO',
                   NOM_CMP='SIYY',
                   MAILLE='M1',
                   NOEUD='N43',
                   VALE=Sig1,
                   PRECISION=0.001,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIGM_ELNO',
                   NOM_CMP='SIYY',
                   MAILLE='M1',
                   NOEUD='N39',
                   VALE=Sig5,
                   PRECISION=0.001,
                   REFERENCE='ANALYTIQUE',),),);

#

TEST_RESU(RESU=(_F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIEQ_ELGA',
                   NOM_CMP='VMIS_SG',
                   MAILLE='M1',
                   POINT=1,
                   VALE=Sig1,
                   PRECISION=0.02,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIEQ_ELGA',
                   NOM_CMP='VMIS_SG',
                   MAILLE='M1',
                   POINT=2,
                   VALE=Sig2,
                   PRECISION=0.02,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIEQ_ELGA',
                   NOM_CMP='VMIS_SG',
                   MAILLE='M1',
                   POINT=3,
                   VALE=Sig3,
                   CRITERE='ABSOLU',
                   PRECISION=0.02,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIEQ_ELGA',
                   NOM_CMP='VMIS_SG',
                   MAILLE='M1',
                   POINT=4,
                   VALE=Sig4,
                   PRECISION=0.02,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIEQ_ELGA',
                   NOM_CMP='VMIS_SG',
                   MAILLE='M1',
                   POINT=5,
                   VALE=Sig5,
                   PRECISION=0.02,
                   REFERENCE='ANALYTIQUE',),),);

#

TEST_RESU(RESU=(_F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIEQ_ELNO',
                   NOM_CMP='VMIS_SG',
                   MAILLE='M1',
                   NOEUD='N43',
                   VALE=Sig1,
                   PRECISION=0.01,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU31,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIEQ_ELNO',
                   NOM_CMP='VMIS_SG',
                   MAILLE='M1',
                   NOEUD='N39',
                   VALE=Sig5,
                   PRECISION=0.01,
                   REFERENCE='ANALYTIQUE',),),);

# CAS 2 :
h = 1.0;

MAIL32=LIRE_MAILLAGE(FORMAT='MED',UNITE=22,);

MAIL32=MODI_MAILLAGE(reuse =MAIL32,
                     MAILLAGE=MAIL32,
                     ORIE_SHB=_F(GROUP_MA='GEOTOT',),);

MAIL32=DEFI_GROUP(reuse =MAIL32,
                  MAILLAGE=MAIL32,
                  CREA_GROUP_NO=(_F(GROUP_MA='SUENCAS',),
                                 _F(GROUP_MA='SUDEPIM',),
                                 _F(GROUP_MA='LI15',),
                                 _F(GROUP_MA='LI21',),
                                 _F(GROUP_MA='LI87',),),);

CHMAT32=AFFE_MATERIAU(MAILLAGE=MAIL32,
                      AFFE=_F(TOUT='OUI',
                              MATER=MAT,),);

MODMEC32=AFFE_MODELE(MAILLAGE=MAIL32,
                     AFFE=_F(TOUT='OUI',
                             PHENOMENE='MECANIQUE',
                             MODELISATION='SHB',),);

CHARG32=AFFE_CHAR_MECA(MODELE=MODMEC32,
                       DDL_IMPO=(_F(GROUP_MA='SUENCAS',
                                    DX=0.0,),
                                 _F(GROUP_MA='LI15',
                                    DY=0.0,),
                                 _F(GROUP_MA='LI21',
                                    DZ=0.0,),),
                       FORCE_ARETE=_F(GROUP_MA='LI87',
                                      FZ=(F / b),),);

RESU32=MECA_STATIQUE(MODELE=MODMEC32,
                     CHAM_MATER=CHMAT32,
                     EXCIT=_F(CHARGE=CHARG32,),);
Iy = ((((b * h) * h) * h) / 12.0);

Uz = ((((((F * L) * L) * L) / 3.0) / YG) / Iy);


TEST_RESU(RESU=(_F(RESULTAT=RESU32,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='P7',
                   VALE=Uz,
                   PRECISION=0.01,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU32,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='P8',
                   VALE=Uz,
                   PRECISION=0.01,
                   REFERENCE='ANALYTIQUE',),),);

# CAS 3 :
h = 0.1;

MAIL33=LIRE_MAILLAGE(FORMAT='MED',UNITE=23,);

MAIL33=MODI_MAILLAGE(reuse =MAIL33,
                     MAILLAGE=MAIL33,
                     ORIE_SHB=_F(GROUP_MA='GEOTOT',),);

MAIL33=DEFI_GROUP(reuse =MAIL33,
                  MAILLAGE=MAIL33,
                  CREA_GROUP_NO=(_F(GROUP_MA='SUENCAS',),
                                 _F(GROUP_MA='SUDEPIM',),
                                 _F(GROUP_MA='LI15',),
                                 _F(GROUP_MA='LI21',),
                                 _F(GROUP_MA='LI87',),),);

CHMAT33=AFFE_MATERIAU(MAILLAGE=MAIL33,
                      AFFE=_F(TOUT='OUI',
                              MATER=MAT,),);

MODMEC33=AFFE_MODELE(MAILLAGE=MAIL33,
                     AFFE=_F(TOUT='OUI',
                             PHENOMENE='MECANIQUE',
                             MODELISATION='SHB',),);

CHARG33=AFFE_CHAR_MECA(MODELE=MODMEC33,
                       DDL_IMPO=(_F(GROUP_MA='SUENCAS',
                                    DX=0.0,),
                                 _F(GROUP_MA='LI15',
                                    DY=0.0,),
                                 _F(GROUP_MA='LI21',
                                    DZ=0.0,),),
                       FORCE_ARETE=_F(GROUP_MA='LI87',
                                      FZ=(F / b),),);

RESU33=MECA_STATIQUE(MODELE=MODMEC33,
                     CHAM_MATER=CHMAT33,
                     EXCIT=_F(CHARGE=CHARG33,),
                     SOLVEUR=_F(METHODE='MULT_FRONT',
                                NPREC=11,),);
Iy = ((((b * h) * h) * h) / 12.0);

Uz = ((((((F * L) * L) * L) / 3.0) / YG) / Iy);


TEST_RESU(RESU=(_F(RESULTAT=RESU33,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='P7',
                   VALE=Uz,
                   PRECISION=0.01,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU33,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='P8',
                   VALE=Uz,
                   PRECISION=0.01,
                   REFERENCE='ANALYTIQUE',),),);

# CAS 4 :
h = 0.05;

MAIL34=LIRE_MAILLAGE(FORMAT='MED',UNITE=24,);

MAIL34=MODI_MAILLAGE(reuse =MAIL34,
                     MAILLAGE=MAIL34,
                     ORIE_SHB=_F(GROUP_MA='GEOTOT',),);

MAIL34=DEFI_GROUP(reuse =MAIL34,
                  MAILLAGE=MAIL34,
                  CREA_GROUP_NO=(_F(GROUP_MA='SUENCAS',),
                                 _F(GROUP_MA='SUDEPIM',),
                                 _F(GROUP_MA='LI15',),
                                 _F(GROUP_MA='LI21',),
                                 _F(GROUP_MA='LI87',),),);

CHMAT34=AFFE_MATERIAU(MAILLAGE=MAIL34,
                      AFFE=_F(TOUT='OUI',
                              MATER=MAT,),);

MODMEC34=AFFE_MODELE(MAILLAGE=MAIL34,
                     AFFE=_F(TOUT='OUI',
                             PHENOMENE='MECANIQUE',
                             MODELISATION='SHB',),);

CHARG34=AFFE_CHAR_MECA(MODELE=MODMEC34,
                       DDL_IMPO=(_F(GROUP_MA='SUENCAS',
                                    LIAISON='ENCASTRE',),),
                       FORCE_ARETE=_F(GROUP_MA='LI87',
                                      FZ=(F / b),),);

RESU34=MECA_STATIQUE(MODELE=MODMEC34,
                     CHAM_MATER=CHMAT34,
                     EXCIT=_F(CHARGE=CHARG34,),
                     SOLVEUR=_F(METHODE='MULT_FRONT',
                                NPREC=18,),);
Iy = ((((b * h) * h) * h) / 12.0);

Uz = ((((((F * L) * L) * L) / 3.0) / YG) / Iy);


TEST_RESU(RESU=(_F(RESULTAT=RESU34,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='P7',
                   VALE=Uz,
                   PRECISION=0.011,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU34,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='P8',
                   VALE=Uz,
                   PRECISION=0.011,
                   REFERENCE='ANALYTIQUE',),),);

# CAS 5 :
h = 0.02;

MAIL35=LIRE_MAILLAGE(FORMAT='MED',UNITE=25,);

MAIL35=MODI_MAILLAGE(reuse =MAIL35,
                     MAILLAGE=MAIL35,
                     ORIE_SHB=_F(GROUP_MA='GEOTOT',),);

MAIL35=DEFI_GROUP(reuse =MAIL35,
                  MAILLAGE=MAIL35,
                  CREA_GROUP_NO=(_F(GROUP_MA='SUENCAS',),
                                 _F(GROUP_MA='SUDEPIM',),
                                 _F(GROUP_MA='LI15',),
                                 _F(GROUP_MA='LI21',),
                                 _F(GROUP_MA='LI87',),),);

CHMAT35=AFFE_MATERIAU(MAILLAGE=MAIL35,
                      AFFE=_F(TOUT='OUI',
                              MATER=MAT,),);

MODMEC35=AFFE_MODELE(MAILLAGE=MAIL35,
                     AFFE=_F(TOUT='OUI',
                             PHENOMENE='MECANIQUE',
                             MODELISATION='SHB',),);

CHARG35=AFFE_CHAR_MECA(MODELE=MODMEC35,
                       DDL_IMPO=(_F(GROUP_MA='SUENCAS',
                                    LIAISON='ENCASTRE',),),
                       FORCE_ARETE=_F(GROUP_MA='LI87',
                                      FZ=(F / b),),);

RESU35=MECA_STATIQUE(MODELE=MODMEC35,
                     CHAM_MATER=CHMAT35,
                     EXCIT=_F(CHARGE=CHARG35,),
                     SOLVEUR=_F(METHODE='MULT_FRONT',
                                NPREC=18,),);
Iy = ((((b * h) * h) * h) / 12.0);

Uz = ((((((F * L) * L) * L) / 3.0) / YG) / Iy);


TEST_RESU(RESU=(_F(RESULTAT=RESU35,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='P7',
                   VALE=Uz,
                   PRECISION=0.08,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU35,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='P8',
                   VALE=Uz,
                   PRECISION=0.08,
                   REFERENCE='ANALYTIQUE',),),);

FIN();
