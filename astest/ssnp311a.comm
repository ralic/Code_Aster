# MODIF  DATE 17/02/2009   AUTEUR SELLENET N.SELLENET 
# TITRE BIBLIO_131 FISSURE EN MODE 2 D'UNE EPROUVETTE ELASTOPLASTIQUE
# ssnp311a.para = tps_job 190 mem_job 128Mo ncpus 1 liste_test V
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
#

DEBUT( CODE=_F( NOM = 'SSNP311A',NIV_PUB_WEB='INTERNET'))

PRE_GIBI()

MA=LIRE_MAILLAGE(VERI_MAIL=_F(VERIF='OUI'),  )

MO=AFFE_MODELE(    MAILLAGE=MA,
                                AFFE=_F(  TOUT = 'OUI',
                                       PHENOMENE = 'MECANIQUE',
                                       MODELISATION = 'D_PLAN')
                        )

#
TRAC1=DEFI_FONCTION(       NOM_PARA='EPSI',
                                     VALE=(0.0046,  334.6,
                                           0.0061,  410.7,
                                           0.0075,  431.6,
                                           0.01,    443.5,
                                           0.03,    480.0,
                                           0.0550,  500.1,
                                           3.0,     505.2,
                                          ),
                              PROL_DROITE='LINEAIRE'
                         )

#
MAT1=DEFI_MATERIAU(        ELAS=_F(  E = 74200.,
                                          NU = 0.32,
                                          ALPHA = 0.),
                               TRACTION=_F(  SIGM = TRAC1)
                           )

# EP = 6.36
MAT2=DEFI_MATERIAU(    ELAS=_F(  E = 809748.,
                                      NU = 0.3,
                                      ALPHA = 0.)
                           )

CHMAT=AFFE_MATERIAU(    MAILLAGE=MA,AFFE=(
                                   _F(  GROUP_MA = 'EPROUVET',
                                          MATER = MAT1),
                                   _F(  GROUP_MA = 'PORTEPRO',
                                          MATER = MAT2))
                           )

# CONDITIONS AUX LIMITES FIXES
CLF=AFFE_CHAR_MECA(        MODELE=MO,DDL_IMPO=(
                                  _F(  GROUP_NO = 'PC0',
                                             DX = 0.),
                                           _F(  GROUP_NO = 'PC0',
                                             DY = 0.),
                                           _F(  GROUP_NO = 'PC1',
                                             DX = 0.)),LIAISON_DDL=(
                               _F(  GROUP_NO = ( 'PPEF1', 'PEF1', ),
                                             DDL = ( 'DX',  'DX', ),
                                             COEF_MULT = ( 1.,    -1.,  ),
                                             COEF_IMPO = 0.),
                                           _F(  GROUP_NO = ( 'PPEF1', 'PEF1', ),
                                             DDL = ( 'DY',  'DY', ),
                                             COEF_MULT = ( 1.,    -1.,  ),
                                             COEF_IMPO = 0.),
                                           _F(  GROUP_NO = ( 'PPEF2', 'PEF2', ),
                                             DDL = ( 'DX',  'DX', ),
                                             COEF_MULT = ( 1.,    -1.,  ),
                                             COEF_IMPO = 0.),
                                           _F(  GROUP_NO = ( 'PPEF2', 'PEF2', ),
                                             DDL = ( 'DY',  'DY', ),
                                             COEF_MULT = ( 1.,    -1.,  ),
                                             COEF_IMPO = 0.),
                                           _F(  GROUP_NO = ( 'PPEF3', 'PEF3', ),
                                             DDL = ( 'DX',  'DX', ),
                                             COEF_MULT = ( 1.,    -1.,  ),
                                             COEF_IMPO = 0.),
                                           _F(  GROUP_NO = ( 'PPEF3', 'PEF3', ),
                                             DDL = ( 'DY',  'DY', ),
                                             COEF_MULT = ( 1.,    -1.,  ),
                                             COEF_IMPO = 0.),
                                           _F(  GROUP_NO = ( 'PPEF4', 'PEF4', ),
                                             DDL = ( 'DX',  'DX', ),
                                             COEF_MULT = ( 1.,    -1.,  ),
                                             COEF_IMPO = 0.),
                                           _F(  GROUP_NO = ( 'PPEF4', 'PEF4', ),
                                             DDL = ( 'DY',  'DY', ),
                                             COEF_MULT = ( 1.,    -1.,  ),
                                             COEF_IMPO = 0.),
                                           _F(  GROUP_NO = ( 'PPEF5', 'PEF5', ),
                                             DDL = ( 'DX',  'DX', ),
                                             COEF_MULT = ( 1.,    -1.,  ),
                                             COEF_IMPO = 0.),
                                           _F(  GROUP_NO = ( 'PPEF5', 'PEF5', ),
                                             DDL = ( 'DY',  'DY', ),
                                             COEF_MULT = ( 1.,    -1.,  ),
                                             COEF_IMPO = 0.),
                                           _F(  GROUP_NO = ( 'PPEF6', 'PEF6', ),
                                             DDL = ( 'DX',  'DX', ),
                                             COEF_MULT = ( 1.,    -1.,  ),
                                             COEF_IMPO = 0.),
                                           _F(  GROUP_NO = ( 'PPEF6', 'PEF6', ),
                                             DDL = ( 'DY',  'DY', ),
                                             COEF_MULT = ( 1.,    -1.,  ),
                                             COEF_IMPO = 0.))
                           )

# CONDITIONS AUX LIMITES VARIABLES
CLV=AFFE_CHAR_MECA(          MODELE=MO,
                                FORCE_NODALE=_F(  GROUP_NO = 'PC1',
                                               FY = 1.)
                            )

#
RAMPE=DEFI_FONCTION(       NOM_PARA='INST',
                                      VALE=( 0.,  0.,  1.,  1., ),
                               PROL_GAUCHE='LINEAIRE',
                                PROL_DROITE='LINEAIRE'
                           )

# EP =6.36
L_INST=DEFI_LIST_REEL(         DEBUT=0.,INTERVALLE=(
                            _F( JUSQU_A = 1850.95, NOMBRE = 12),
                            _F( JUSQU_A = 3084.90, NOMBRE = 16),
                            _F( JUSQU_A = 3701.90, NOMBRE = 20),
                            _F( JUSQU_A = 3948.75, NOMBRE = 16))
                        )

# EP =6.44
#L_INST = DEFI_LIST_REEL ( DEBUT      : 0.
#                          INTERVALLE : (JUSQU_A: 1827.95 NOMBRE: 12 )
#                          INTERVALLE : (JUSQU_A: 3046.58 NOMBRE: 16 )
#                          INTERVALLE : (JUSQU_A: 3655.90 NOMBRE: 20 )
#                          INTERVALLE : (JUSQU_A: 3899.68 NOMBRE: 16 )
#                        ) ;
#

CHAMDEPL=STAT_NON_LINE( 
                            MODELE=MO,
                        CHAM_MATER=CHMAT,EXCIT=(
                             _F( 
                CHARGE = CLF), _F( 
                CHARGE = CLV,
                FONC_MULT = RAMPE)),
                         COMP_INCR=_F( 
                RELATION = 'VMIS_ISOT_TRAC',
                GROUP_MA = (
                  'EPROUVET',  )),
                         COMP_ELAS=_F( 
                RELATION = 'ELAS',
                GROUP_MA = (
                  'PORTEPRO',  )),
                         INCREMENT=_F( 
                LIST_INST = L_INST),
                            NEWTON=_F( 
                MATRICE = 'TANGENTE',
                REAC_ITER = 5)
              )

CHAMDEPL=CALC_ELEM( reuse=CHAMDEPL,
                            OPTION=(
                  'SIEF_ELNO_ELGA',  'VARI_ELNO_ELGA',),
                          RESULTAT=CHAMDEPL,
                            MODELE=MO,
                        CHAM_MATER=CHMAT
              )

#
FOND=DEFI_FOND_FISS(    MAILLAGE=MA,
                           FOND_FISS=_F( GROUP_NO = ('P0',)),
                           NORMALE=(0., -1., 0.,)
                      )

#
THETA0=CALC_THETA(       MODELE=MO,
                         THETA_2D=_F(  GROUP_NO = ('P0',),
                                   MODULE = 1.,
                                   R_INF = 1.00,
                                   R_SUP = 2.00),
                        DIRECTION=(0., -1., 0.,)
                     )

#
THETA1=CALC_THETA(       MODELE=MO,
                         THETA_2D=_F(  GROUP_NO = ('P0',),
                                   MODULE = 1.,
                                   R_INF = 2.00,
                                   R_SUP = 3.00),
                        DIRECTION=(0., -1., 0.,)
                     )

#
THETA2=CALC_THETA(       MODELE=MO,
                         THETA_2D=_F(  GROUP_NO = ('P0',),
                                   MODULE = 1.,
                                   R_INF = 3.00,
                                   R_SUP = 4.00),
                        DIRECTION=(0., -1., 0.,)
                     )

#
THETA3=CALC_THETA(       MODELE=MO,
                         THETA_2D=_F(  GROUP_NO = ('P0',),
                                   MODULE = 1.,
                                   R_INF = 4.00,
                                   R_SUP = 5.00),
                        DIRECTION=(0., -1., 0.,)
                     )

#
# CALC_G POUR LES INSTANTS 22, 36, 50, 64
#
G220=CALC_G(        RESULTAT=CHAMDEPL,
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),
                    THETA=_F(THETA=THETA0),
                    SYME_CHAR='SANS',
                    NUME_ORDRE=22
              )

#
G360=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA0),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),
                    SYME_CHAR='SANS',
                    NUME_ORDRE=36
              )

#
G500=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA0),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),
                    SYME_CHAR='SANS',
                    NUME_ORDRE=50
              )

#
G640=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA0),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),
                    SYME_CHAR='SANS',
                    NUME_ORDRE=64
              )

#
G221=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA1),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),
                    SYME_CHAR='SANS',
                    NUME_ORDRE=22
              )

#
G361=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA1),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),
                    SYME_CHAR='SANS',
                    NUME_ORDRE=36
              )

#
G501=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA1),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),
                    SYME_CHAR='SANS',
                    NUME_ORDRE=50
              )

#
G641=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA1),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),
                    SYME_CHAR='SANS',
                    NUME_ORDRE=64
              )

#
G222=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA2),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),                            
                    SYME_CHAR='SANS',
                    NUME_ORDRE=22
              )

#
G362=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA2),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),                            
                    SYME_CHAR='SANS',
                    NUME_ORDRE=36
              )

#
G502=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA2),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),                            
                    SYME_CHAR='SANS',
                    NUME_ORDRE=50
              )

#
G642=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA2),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),                            
                    SYME_CHAR='SANS',
                    NUME_ORDRE=64
              )

#
G223=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA3),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),                            
                    SYME_CHAR='SANS',
                  NUME_ORDRE=22
              )

#
G363=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA3),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),                            
                    SYME_CHAR='SANS',
                    NUME_ORDRE=36
              )

#
G503=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA3),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),                            
                    SYME_CHAR='SANS',
                    NUME_ORDRE=50
              )

#
G643=CALC_G(        RESULTAT=CHAMDEPL,
                    THETA=_F(THETA=THETA3),
                    COMP_ELAS=_F(  RELATION = 'ELAS_VMIS_TRAC'),                            
                    SYME_CHAR='SANS',
                    NUME_ORDRE=64
              )

#
##
## TESTS DES RESULTATS COURONNE 0
## -----------------------------------
#

TEST_TABLE(        TABLE=G220,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 22),
                        NOM_PARA='G',
                            VALE=6.7451,
                       PRECISION=0.05
                  )

TEST_TABLE(        TABLE=G360,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 36),
                        NOM_PARA='G',
                            VALE=12.473,
                       PRECISION=0.07
                  )

TEST_TABLE(        TABLE=G500,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 50),
                        NOM_PARA='G',
                            VALE=18.433,
                       PRECISION=0.09
                  )

TEST_TABLE(        TABLE=G640,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 64),
                        NOM_PARA='G',
                            VALE=24.601,
                       PRECISION=0.10
                  )

#
##
## TESTS DES RESULTATS COURONNE 1
## -----------------------------------
#

TEST_TABLE(        TABLE=G221,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 22),
                        NOM_PARA='G',
                            VALE=6.7451,
                       PRECISION=0.05
                  )

TEST_TABLE(        TABLE=G361,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 36),
                        NOM_PARA='G',
                            VALE=12.473,
                       PRECISION=0.07
                  )

TEST_TABLE(        TABLE=G501,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 50),
                        NOM_PARA='G',
                            VALE=18.433,
                       PRECISION=0.09
                  )

TEST_TABLE(        TABLE=G641,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 64),
                        NOM_PARA='G',
                            VALE=24.601,
                       PRECISION=0.10
                  )

#
##
## TESTS DES RESULTATS COURONNE 2
## -----------------------------------
#

TEST_TABLE(        TABLE=G222,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 22),
                        NOM_PARA='G',
                            VALE=6.7451,
                       PRECISION=0.05
                  )

TEST_TABLE(        TABLE=G362,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 36),
                        NOM_PARA='G',
                            VALE=12.473,
                       PRECISION=0.07
                  )

TEST_TABLE(        TABLE=G502,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 50),
                        NOM_PARA='G',
                            VALE=18.433,
                       PRECISION=0.10
                  )

TEST_TABLE(        TABLE=G642,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 64),
                        NOM_PARA='G',
                            VALE=24.601,
                       PRECISION=0.10
                  )

#
##
## TESTS DES RESULTATS COURONNE 3
## -----------------------------------
#

TEST_TABLE(        TABLE=G223,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 22),
                        NOM_PARA='G',
                            VALE=6.7451,
                       PRECISION=0.05
                  )

TEST_TABLE(        TABLE=G363,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 36),
                        NOM_PARA='G',
                            VALE=12.473,
                       PRECISION=0.07
                  )

TEST_TABLE(        TABLE=G503,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 50),
                        NOM_PARA='G',
                            VALE=18.433,
                       PRECISION=0.10
                  )

TEST_TABLE(        TABLE=G643,
                          FILTRE=_F(  NOM_PARA = 'NUME_ORDRE',
                                   VALE_I = 64),
                        NOM_PARA='G',
                            VALE=24.601,
                       PRECISION=0.10
                  )

FIN()
