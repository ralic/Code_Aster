# MODIF  DATE 07/11/2006   AUTEUR CIBHHLV L.VIVAN 
# RESPONSABLE ADBHHPM P.MASSIN
# DATE   : 08/06/2000
# AUTEUR : F. LEBOUVIER (DELTACAD)
# TITRE  : CYLINDRE ORTHOTROPE COURT SOUMIS A UNE LIGNE DE CHARGE 
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
#---------------------------------------------------------------------
#  - CALCUL QUASI-STATIQUE D'UN CYLINDRE LONG REPOSANT A SES 
#    EXTREMITES SUR DES DIAPHRAGMES RIGIDES
#  - MODELISATION AVEC DES ELEMENTS 'DKT'(TRIA3) '
#---------------------------------------------------------------------

DEBUT(CODE=_F(NOM='SSLS502C',
              NIV_PUB_WEB='INTERNET',),);

PRE_GIBI();

MAIL=LIRE_MAILLAGE(VERI_MAIL=_F(VERIF='OUI',),);

MO=AFFE_MODELE(MAILLAGE=MAIL,
               AFFE=_F(TOUT='OUI',
                       PHENOMENE='MECANIQUE',
                       MODELISATION='DKT',),);

MAIL=DEFI_GROUP(reuse =MAIL,
                MAILLAGE=MAIL,
                CREA_GROUP_NO=_F(GROUP_MA='CD',
                                 OPTION='NOEUD_ORDO',
                                 NOM='CD',
                                 GROUP_NO_ORIG='C',
                                 GROUP_NO_EXTR='D',),);

CAR_ELE=AFFE_CARA_ELEM(MODELE=MO,
                       COQUE=_F(GROUP_MA='TOUT_ELT',
                                EPAIS=0.0061,
                                ANGL_REP=(0.0,0.0,),),);

MAT=DEFI_MATERIAU(ELAS_COQUE=_F(MEMB_L=18692840.0,
                                MEMB_LT=6739280.0,
                                MEMB_T=113441700.0,
                                MEMB_G_LT=7625000.0,
                                FLEX_L=57.96338137,
                                FLEX_LT=20.89738407,
                                FLEX_T=351.7638047,
                                FLEX_G_LT=23.64385417,
                                CISA_L=10000000000.0,
                                CISA_T=10000000000.0,),);

CHAM_MAT=AFFE_MATERIAU(MAILLAGE=MAIL,
                       AFFE=_F(TOUT='OUI',
                               MATER=MAT,),);

CHA=AFFE_CHAR_MECA(MODELE=MO,
                   DDL_IMPO=(_F(GROUP_MA='BA',
                                DX=0.0,
                                DZ=0.0,
                                DRY=0.0,),
                             _F(GROUP_MA=('AD','BC',),
                                DX=0.0,
                                DRY=0.0,
                                DRZ=0.0,),
                             _F(GROUP_MA='CD',
                                DY=0.0,
                                DRX=0.0,
                                DRZ=0.0,),),
                   FORCE_ARETE=_F(GROUP_MA='BC',
                                  FZ=-448.276,),);

RESU=MECA_STATIQUE(MODELE=MO,
                   CHAM_MATER=CHAM_MAT,
                   CARA_ELEM=CAR_ELE,
                   EXCIT=_F(CHARGE=CHA,),);

RESU=CALC_ELEM(reuse =RESU,
               RESULTAT=RESU,
               TOUT_ORDRE='OUI',
               OPTION='SIGM_ELNO_DEPL',
               REPE_COQUE =_F( NUME_COUCHE=1,
                               NIVE_COUCHE='SUP',),);

DEP_DZ=POST_RELEVE_T(ACTION=_F(INTITULE='TAB_DZ ',
                               GROUP_NO='CD',
                               RESULTAT=RESU,
                               NOM_CHAM='DEPL',
                               NOM_CMP='DZ',
                               OPERATION='EXTRACTION',),);

DEP_NORM=POST_RELEVE_T(ACTION=_F(INTITULE='TAB_NORM',
                                 GROUP_NO='CD',
                                 RESULTAT=RESU,
                                 NOM_CHAM='DEPL',
                                 NOM_CMP=('DX','DY','DZ',),
                                 REPERE='CYLINDRIQUE',
                                 ORIGINE=(0.0,0.0,0.0,),
                                 AXE_Z=(0.0,1.0,0.0,),
                                 OPERATION='EXTRACTION',),);

SIGMA=POST_RELEVE_T(ACTION=_F(INTITULE='TAB_SIGM ',
                              GROUP_NO='CD',
                              RESULTAT=RESU,
                              NOM_CHAM='SIGM_ELNO_DEPL',
                              TOUT_CMP='OUI',
                              OPERATION='EXTRACTION',),);

DEPZ=RECU_FONCTION(TABLE=DEP_DZ,
                   PARA_X='ABSC_CURV',
                   PARA_Y='DZ',);

DEPNOR=RECU_FONCTION(TABLE=DEP_NORM,
                     PARA_X='ABSC_CURV',
                     PARA_Y='DX',);

SIGX=RECU_FONCTION(TABLE=SIGMA,
                   PARA_X='ABSC_CURV',
                   PARA_Y='SIXX',);

SIGY=RECU_FONCTION(TABLE=SIGMA,
                   PARA_X='ABSC_CURV',
                   PARA_Y='SIYY',);

IMPR_FONCTION(UNITE=8,
            FORMAT='TABLEAU',
            TITRE='dep_norm fonction de abscisse curviligne',
            COURBE=(_F(FONCTION=DEPZ,),
                    _F(FONCTION=DEPNOR,),),);

IMPR_FONCTION(UNITE=8,
            FORMAT='TABLEAU',
            TITRE='sigma XX fonction de abscisse curviligne',
            COURBE=_F(FONCTION=SIGX,),);

IMPR_FONCTION(UNITE=8,
            FORMAT='TABLEAU',
            TITRE='sigma YY fonction de abscisse curviligne',
            COURBE=_F(FONCTION=SIGY,),);

IMPR_TABLE(TABLE=SIGMA,
           NOM_PARA=('NOEUD','SIXX','SIYY',),);
#
#---------------------------------------------------------------------
#          TEST REFERENCE EXPERIMENTALE 
#---------------------------------------------------------------------

TEST_RESU(RESU=(_F(RESULTAT=RESU,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   GROUP_NO='F',
                   VALE=0.00135,
                   PRECISION=0.05,
                   REFERENCE='SOURCE_EXTERNE',),
                _F(RESULTAT=RESU,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='C',
                   VALE=-0.00246,
                   PRECISION=0.05,
                   REFERENCE='SOURCE_EXTERNE',),
                _F(RESULTAT=RESU,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='D',
                   VALE=0.00035,
                   PRECISION=0.52,
                   REFERENCE='SOURCE_EXTERNE',),),);

TEST_RESU(RESU=_F(RESULTAT=RESU,
                  NUME_ORDRE=1,
                  NOM_CHAM='SIGM_ELNO_DEPL',
                  NOM_CMP='SIXX',
                  MAILLE='M368',
                  GROUP_NO='F',
                  VALE=1900000.0,
                  PRECISION=0.15,
                  REFERENCE='SOURCE_EXTERNE',),);

TEST_RESU(RESU=_F(RESULTAT=RESU,
                  NUME_ORDRE=1,
                  NOM_CHAM='SIGM_ELNO_DEPL',
                  NOM_CMP='SIYY',
                  MAILLE='M368',
                  GROUP_NO='F',
                  VALE=1550000.0,
                  PRECISION=0.15,
                  REFERENCE='SOURCE_EXTERNE',),);
#
#---------------------------------------------------------------------
#          TEST REFERENCE BATOZ
#---------------------------------------------------------------------

TEST_RESU(RESU=(_F(RESULTAT=RESU,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   GROUP_NO='F',
                   VALE=0.001325,
                   PRECISION=0.1,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='C',
                   VALE=-0.00245,
                   PRECISION=0.05,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DZ',
                   GROUP_NO='D',
                   VALE=0.00051,
                   PRECISION=0.05,
                   REFERENCE='ANALYTIQUE',),),);
#
#---------------------------------------------------------------------
#              TEST SIGMA
#---------------------------------------------------------------------

TEST_RESU(RESU=(_F(RESULTAT=RESU,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIGM_ELNO_DEPL',
                   NOM_CMP='SIXX',
                   MAILLE='M368',
                   GROUP_NO='F',
                   VALE=1680000.0,
                   PRECISION=0.05,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIGM_ELNO_DEPL',
                   NOM_CMP='SIYY',
                   MAILLE='M368',
                   GROUP_NO='F',
                   VALE=1800000.0,
                   PRECISION=0.01,
                   REFERENCE='ANALYTIQUE',),),);

FIN();
