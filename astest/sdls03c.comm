# MODIF  DATE 22/10/2007   AUTEUR PELLET J.PELLET 
# TITRE PLAQUE RECTANGULAIRE MINCE SIMPLEMENT APPUYEE DKT - DST
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
#======================================================================


DEBUT(CODE=_F(NOM='SDLS03C',NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='OUI'))

MA=LIRE_MAILLAGE( )

MA=DEFI_GROUP( reuse=MA,   MAILLAGE=MA,
  CREA_GROUP_MA=_F(  NOM = 'TOUT', TOUT = 'OUI'))

#====================================================================
MAT=DEFI_MATERIAU( ELAS=_F(  E = 2.1E+11,  NU = 0.3,  RHO = 7800.) )

CHMAT=AFFE_MATERIAU(  MAILLAGE=MA,
                       AFFE=_F(  TOUT = 'OUI',      MATER = MAT) )

#====================================================================
# ---- PLAQUE DKT APPUYEE SUR LES BORDS

MO=AFFE_MODELE(      MAILLAGE=MA,
                      AFFE=_F(  TOUT = 'OUI',  PHENOMENE = 'MECANIQUE',
                             MODELISATION = 'DKT')   )

CH=AFFE_CHAR_MECA(   MODELE=MO,DDL_IMPO=(
                       _F(  GROUP_NO = 'BORD',  DZ = 0.),
                       _F( NOEUD = 'N1', DX = 0., DY = 0.),
                       _F( NOEUD = 'N11', DY = 0.)) )

CA=AFFE_CARA_ELEM(   MODELE=MO,
                       COQUE=_F(
       GROUP_MA = 'TOUT',
  EPAIS = 0.01)  )

MACRO_MATR_ASSE(   MODELE=MO,            CARA_ELEM=CA,
                         CHARGE=CH,           CHAM_MATER=CHMAT,
                         NUME_DDL=CO("NUM"),MATR_ASSE=(
                        _F( MATRICE = CO("MATR"),  OPTION = 'RIGI_MECA'),
                                  _F( MATRICE = CO("MATM"),  OPTION = 'MASS_MECA'))
                     )

# --------------------------------------------------------------------
MODE_5=MODE_ITER_SIMULT(  MATR_A=MATR,   MATR_B=MATM,
                              METHODE='TRI_DIAG',
                            CALC_FREQ=_F(   OPTION = 'PLUS_PETITE',
                                         NMAX_FREQ = 6)
                          )

TEST_RESU(RESU=(
   _F(   RESULTAT = MODE_5, REFERENCE = 'ANALYTIQUE',   PARA = 'FREQ',
           CRITERE = 'RELATIF',   PRECISION = 0.5E-2,
           NUME_MODE = 1,       VALE = 35.63),
   _F(   RESULTAT = MODE_5, REFERENCE = 'ANALYTIQUE',   PARA = 'FREQ',
           CRITERE = 'RELATIF',   PRECISION = 1.1E-2,
           NUME_MODE = 2,       VALE = 68.51),
   _F(   RESULTAT = MODE_5, REFERENCE = 'ANALYTIQUE',   PARA = 'FREQ',
           CRITERE = 'RELATIF',   PRECISION = 0.9E-2,
           NUME_MODE = 3,       VALE = 109.62),
   _F(   RESULTAT = MODE_5, REFERENCE = 'ANALYTIQUE',   PARA = 'FREQ',
           CRITERE = 'RELATIF',   PRECISION = 1.2E-2,
           NUME_MODE = 4,       VALE = 123.32),
   _F(   RESULTAT = MODE_5, REFERENCE = 'ANALYTIQUE',   PARA = 'FREQ',
           CRITERE = 'RELATIF',   PRECISION = 1.8E-2,
           NUME_MODE = 5,       VALE = 142.51),
   _F(   RESULTAT = MODE_5, REFERENCE = 'ANALYTIQUE',   PARA = 'FREQ',
           CRITERE = 'RELATIF',   PRECISION = 2.9E-2,
           NUME_MODE = 6,       VALE = 197.32)) )

# --------------------------------------------------------------------

MODE_6=MODE_ITER_SIMULT(  MATR_A=MATR,
                          MATR_B=MATM,
                          METHODE='JACOBI',
                          NMAX_ITER_BATHE = 30,
                          OPTION='SANS',
                          CALC_FREQ=_F(   OPTION = 'PLUS_PETITE',
                                          NMAX_FREQ = 6,)
                          )

TEST_RESU(RESU=(
   _F(   RESULTAT = MODE_6, REFERENCE = 'ANALYTIQUE', PARA = 'FREQ',
           CRITERE = 'RELATIF',   PRECISION = 0.5E-2,
           NUME_MODE = 1,       VALE = 35.63),
   _F(   RESULTAT = MODE_6, REFERENCE = 'ANALYTIQUE', PARA = 'FREQ',
           CRITERE = 'RELATIF',   PRECISION = 1.1E-2,
           NUME_MODE = 2,       VALE = 68.51),
   _F(   RESULTAT = MODE_6, REFERENCE = 'ANALYTIQUE', PARA = 'FREQ',
           CRITERE = 'RELATIF',   PRECISION = 0.9E-2,
           NUME_MODE = 3,       VALE = 109.62),
   _F(   RESULTAT = MODE_6, REFERENCE = 'ANALYTIQUE', PARA = 'FREQ',
           CRITERE = 'RELATIF',   PRECISION = 1.2E-2,
           NUME_MODE = 4,       VALE = 123.32),
   _F(   RESULTAT = MODE_6, REFERENCE = 'ANALYTIQUE', PARA = 'FREQ',
           CRITERE = 'RELATIF',   PRECISION = 1.8E-2,
           NUME_MODE = 5,       VALE = 142.51),
   _F(   RESULTAT = MODE_6, REFERENCE = 'ANALYTIQUE', PARA = 'FREQ',
           CRITERE = 'RELATIF',   PRECISION = 2.9E-2,
           NUME_MODE = 6,       VALE = 197.32)) )

FIN()
#
