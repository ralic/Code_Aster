# MODIF  DATE 01/04/2003   AUTEUR DURAND C.DURAND 
# TITRE COUDE EN FLEXION EN ELASTOPLASTICITE
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
# GEOMETRIE PROCHE DU CPP N4


import Gnuplot
import Numeric

#===========================================
# FONCTION PYTHON "EXTRACT"

def EXTRACT(Table,Para,Champ):
# Definition des variables
  __Result = [[None]*2]
  __nb_temp = 0
# Boucle de lecture sur les temps
  while 1: 
#   Si on n'a pas lu tous les temps
    try:
#     alors on lit les 2 champs abscisse et ordonnee
        __Result[__nb_temp][0] = Table[Para,__nb_temp+1]
        __Result[__nb_temp][1] = Table[Champ,__nb_temp+1]
        __nb_temp = __nb_temp + 1  
#     on ajoute une ligne supplementaire a __Result
        __Result.append([None]*2)
#   Si on a lu tous les temps alors on sort de la boucle
    except KeyError:
      break
# on renvoie le resultat en fin
  __Rep = __Result[0:__nb_temp]
  F=Numeric.zeros((len(__Rep),2),Numeric.Float)   #on transforme __Rep en array Numeric
  for i in range(len(__Rep)):
   for j in range(2) :
      F[i][j] = __Rep[i][j]
  del(__Rep)
  del(__Result)
  return F



# ===========================================================================
#           CORPS DE LA MACRO "MACR_ROTA_GLOBALE"
#           -------------------------------------
# USAGE :
#  RESULTAT : resultat
#  GROUP_NO_ORIG : un groupe d'un noeud definissant l'entree du coude (A)
#  GROUP_NO_EXTR : un groupe d'un noeud definissant la sortie du coude (B)
# 
#              /
#           A /
#            (______
#            B
#  
# ===========================================================================
# script PYTHON : rotation globale sur une tuyauterie


def macr_rota_globale_ops(self,RESULTAT,GROUP_NO_ORIG,GROUP_NO_EXTR,**args):


  """
     Ecriture de la macro MACR_ROTA_GLOBALE
  """
  import os
  from Accas import _F
  from Noyau.N_utils import AsType
  ier=0

  # On importe les definitions des commandes a utiliser dans la macro
  POST_RELEVE_T  = self.get_cmd('POST_RELEVE_T')
  DEFI_LIST_REEL = self.get_cmd('DEFI_LIST_REEL')
  DEFI_FONCTION  = self.get_cmd('DEFI_FONCTION')

  # La macro compte pour 1 dans la numerotation des commandes
  self.icmd=1

  # Le concept sortant (de type fonction) est nomme ROTGD dans 
  # le contexte de la macro

  self.DeclareOut('ROTGD',self.sd)

  # Commandes de la macro
  
  __ROTAB=POST_RELEVE_T(ACTION=_F(INTITULE='__ROTAB',
                                GROUP_NO=GROUP_NO_ORIG,
                                RESULTAT=RESULTAT,
                                NOM_CHAM='DEPL',
                                NOM_CMP=('DRX','DRY','DRZ',),
                                OPERATION='EXTRACTION',),
                                )

  __ROTAC=POST_RELEVE_T(ACTION=_F(INTITULE='__ROTAC',
                                GROUP_NO=GROUP_NO_EXTR,
                                RESULTAT=RESULTAT,
                                NOM_CHAM='DEPL',
                                NOM_CMP=('DRX','DRY','DRZ',),
                                OPERATION='EXTRACTION',),);
  
  __DRXC  = EXTRACT(__ROTAC,'INST','DRX')
  __DRYC  = EXTRACT(__ROTAC,'INST','DRY')
  __DRZC  = EXTRACT(__ROTAC,'INST','DRZ')
  __DRXB  = EXTRACT(__ROTAB,'INST','DRX')
  __DRYB  = EXTRACT(__ROTAB,'INST','DRY')
  __DRZB  = EXTRACT(__ROTAB,'INST','DRZ')
  __DRXBC = __DRXC-__DRXB
  __DRYBC = __DRYC-__DRYB
  __DRZBC = __DRZC-__DRZB
  __ROTG  = __DRXBC*__DRXBC
  __ROTG  = __ROTG+__DRYBC*__DRYBC
  __ROTG  = __ROTG+__DRZBC*__DRZBC
  __ROTG  = __ROTG**(0.5)
  
  __livalr = []
  __livali = []
  for i in range(len(__ROTG)):
    __livalr.append(__ROTG[i,1])
    __livali.append(__DRXC[i,0])

  print __livalr
  print __livali

  __LROTG = DEFI_LIST_REEL(VALE=__livalr)
  __LINST = DEFI_LIST_REEL(VALE=__livali)

  ROTGD = DEFI_FONCTION(NOM_PARA='INST',
                        VALE_PARA=__LINST,
                        VALE_FONC=__LROTG,
                       )

  return ier



# ===========================================================================
#           CATALOGUE DE LA MACRO "MACR_ROTA_GLOBALE"
#           -----------------------------------------
# USAGE :
#  RESULTAT : resultat
#  GROUP_NO_ORIG : un groupe d'un noeud definissant l'entree du coude (A)
#  GROUP_NO_EXTR : un groupe d'un noeud definissant la sortie du coude (B)
# 
#              /
#           A /
#            (______
#            B
#  
# ===========================================================================

MACR_ROTA_GLOBALE=MACRO(nom="MACR_ROTA_GLOBALE",op=macr_rota_globale_ops,sd_prod=fonction,
                       docu="",reentrant='n',
                       fr="calcul de la rotation globale dans un coude.",
         RESULTAT        =SIMP(statut='o',typ=(evol_elas,evol_noli,evol_ther) ),
         GROUP_NO_ORIG   =SIMP(statut='o',typ=grno,max=1),
         GROUP_NO_EXTR   =SIMP(statut='o',typ=grno,max=1),
)  ;




# ======================================================================

DEBUT( CODE=_F( NOM = 'SSNL117B',NIV_PUB_WEB='INTERNET'),)


MOMENTMZ=1.

PRESSION=0.

EP=0.077

RMOY=0.3955

RMOYN=DEFI_VALEUR(  R8=EVAL("""- RMOY""") )

REXT=DEFI_VALEUR(  R8=EVAL("""RMOY + (EP/2.) """) )

RC=1.25

YOUNG=2.E11

POISSON=0.3

SIGY=200.E6

H=2.E10

MLSURMLS=0.8

RINT=DEFI_VALEUR(  R8=EVAL("""RMOY - (EP/2.) """) )

LAMBDA=DEFI_VALEUR(  R8=EVAL("""EP*RC/RMOY/RMOY """) )

SURF=DEFI_VALEUR( R8=EVAL("""PI* (REXT*REXT-RINT*RINT) """) )

IY=DEFI_VALEUR(R8=EVAL("""PI*(REXT**4-RINT**4)/4."""))

IZ=IY

IX=DEFI_VALEUR(  R8=EVAL("""IY + IZ """) )

MEDR=DEFI_VALEUR(  R8=EVAL("""SIGY*IY/REXT """) )

MPDR=DEFI_VALEUR(  R8=EVAL("""4.0*MEDR/PI """) )

MPX=DEFI_VALEUR(  R8=EVAL("""SIGY*IX/REXT """) )

GAMMA=DEFI_VALEUR(  R8=EVAL("""RC/RMOY""") )

STHETA1=DEFI_VALEUR(  R8=EVAL("""1.89/(LAMBDA**(0.666667)) """) )

STHETA2=DEFI_VALEUR(  R8=EVAL("""0.96/(LAMBDA**(0.333333))/GAMMA """) )

STHETA=DEFI_VALEUR(  R8=EVAL("""STHETA1 - STHETA2 """) )

MEFL=DEFI_VALEUR(  R8=EVAL("""MEDR / STHETA """) )

MPFL=DEFI_VALEUR(  R8=EVAL("""MPDR * MLSURMLS """) )

PRE_GIBI()

M1=LIRE_MAILLAGE()

M1=DEFI_GROUP( reuse=M1,   MAILLAGE=M1,
  CREA_GROUP_MA=_F(  NOM = 'TOUT', TOUT = 'OUI'))

MA=CREA_MAILLAGE(     MAILLAGE=M1,
       MODI_MAILLE=_F(  OPTION = 'SEG3_4', TOUT = 'OUI')
)

MA=DEFI_GROUP(reuse=MA,  MAILLAGE=MA,
                 CREA_GROUP_NO=_F( GROUP_MA = 'AD'))

MO=AFFE_MODELE(        MAILLAGE=MA,
     AFFE=_F(  TOUT = 'OUI',   PHENOMENE = 'MECANIQUE',
     MODELISATION = 'TUYAU_3M')
               )

CAREL=AFFE_CARA_ELEM(   MODELE=MO,
          POUTRE=( _F( GROUP_MA = 'TOUT', SECTION = 'CERCLE', TUYAU_NCOU=1,
                       CARA = (   'R',  'EP', ), VALE = (  REXT,  EP, ),MODI_METRIQUE = 'OUI'),
                   _F( GROUP_MA = 'BC', SECTION = 'CERCLE', TUYAU_NCOU=3,
                       CARA = (   'R',  'EP', ), VALE = (  REXT,  EP, ),MODI_METRIQUE = 'OUI'),),

          ORIENTATION=_F( GROUP_NO = 'D', CARA = 'GENE_TUYAU', VALE = (0., 0., 1.,))
                              )

MAT=DEFI_MATERIAU(    ELAS=_F( E = YOUNG, NU = POISSON),
                         ECRO_LINE=_F( D_SIGM_EPSI = H, SY = SIGY)
                        )

CHMAT=AFFE_MATERIAU(   MAILLAGE=MA,
                       AFFE=_F( TOUT = 'OUI', MATER = MAT))

EFOND=DEFI_VALEUR(  R8=EVAL("""PI*PRESSION*RINT*RINT """) )

CHART=AFFE_CHAR_MECA(  MODELE=MO,
     DDL_IMPO=_F( GROUP_NO = 'A', DX = 0., DY = 0., DZ = 0., DRX = 0., DRY = 0., DRZ = 0.),
     FORCE_NODALE=_F( GROUP_NO = 'D', MZ = MOMENTMZ)
    )

CHARP=AFFE_CHAR_MECA(   MODELE=MO,
     FORCE_NODALE=_F( GROUP_NO = 'D', FX = EFOND),
        FORCE_TUYAU=_F(  TOUT = 'OUI',
                   PRES = PRESSION)
                  )

FONCT=DEFI_FONCTION(   NOM_PARA='INST',
                      VALE=( 0., 0., MPFL, MPFL, ) )

LINST=DEFI_LIST_REEL(DEBUT=0.,INTERVALLE=(
               _F( JUSQU_A = MEFL, NOMBRE = 1),
               _F( JUSQU_A = MPFL, NOMBRE = 10))
                        )

U1=STAT_NON_LINE(
                            MODELE=MO,
                        CHAM_MATER=CHMAT,
                         CARA_ELEM=CAREL,EXCIT=(
                             _F(
                CHARGE = CHART,
                FONC_MULT = FONCT), _F(
                CHARGE = CHARP)),
                         INCREMENT=_F(
                LIST_INST = LINST,
                NUME_INST_FIN = 8),COMP_INCR=(
                         _F( GROUP_MA = 'BC',  RELATION = 'VMIS_ISOT_LINE', ),
                         _F( GROUP_MA = ( 'AB',  'CD',), RELATION = 'ELAS', )),
                            NEWTON=_F(
                MATRICE = 'TANGENTE',
                REAC_ITER = 3),
                       CONVERGENCE=_F(
                RESI_INTE_RELA = 1.E-6,
                RESI_GLOB_RELA = 1.E-4,
                ITER_GLOB_MAXI = 100),
                     RECH_LINEAIRE=_F(
                ITER_LINE_MAXI = 3)
              )

U1=CALC_ELEM( reuse=U1,
              OPTION=('EPSI_ELGA_DEPL', 'SIEF_ELNO_ELGA', 'VARI_ELNO_ELGA', 'EQUI_ELGA_SIGM', 'EQUI_ELGA_EPSI'),
              RESULTAT=U1,
              MODELE=MO,
              CHAM_MATER=CHMAT,
              CARA_ELEM=CAREL)

U1=CALC_ELEM( reuse=U1,
              OPTION=('VALE_NCOU_MAXI'),
              RESULTAT=U1,
              NOM_CHAM='EQUI_ELGA_SIGM',
              NOM_CMP='VMIS',
              MODELE=MO,
              CHAM_MATER=CHMAT,
              CARA_ELEM=CAREL)

U1=CALC_NO( reuse=U1,
            OPTION='FORC_NODA', 
            RESULTAT=U1, 
            CHAM_MATER=CHMAT,
            MODELE=MO, 
            CARA_ELEM=CAREL)

NCOU_M=CREA_CHAMP( OPERATION='EXTR',
                   TYPE_CHAM='ELEM_SPMA_R',
                   RESULTAT=U1,
                   NOM_CHAM='VALE_NCOU_MAXI',
                   TYPE_MAXI='MAXI',
                   TYPE_RESU='VALE',
                 ) ;

IMPR_RESU(RESU=_F( CHAM_GD=NCOU_M), ) ;

NCOU_I=CREA_CHAMP( OPERATION='EXTR',
                   TYPE_CHAM='ELEM_SPMA_R',
                   RESULTAT=U1,
                   NOM_CHAM='VALE_NCOU_MAXI',
                   TYPE_MAXI='MAXI',
                   TYPE_RESU='INST',
                 ) ;

IMPR_RESU(RESU=_F( CHAM_GD=NCOU_I), ) ;

# CALCUL DE LA ROTATION "GLOBALE" DANS LE COUDE EN FONCTION DE L'INSTANT

RG = MACR_ROTA_GLOBALE( RESULTAT=U1, 
                        GROUP_NO_ORIG='B', 
                        GROUP_NO_EXTR='C',
                      )

IMPR_COURBE(FORMAT='RESULTAT',
            COURBE=_F(FONCTION=RG,),);

TEST_FONCTION(VALEUR= _F( FONCTION=RG, 
                          VALE_PARA = 5.88981E+06, 
                          VALE_REFE = 9.26451E-03,
                          REFERENCE = 'AUTRE_ASTER')
             );


# REFERENCE : CALCUL 3D-POUTRES

TEST_RESU(RESU=(
           _F( RESULTAT = U1, NOM_CHAM = 'FORC_NODA',
                 GROUP_NO = 'D', NOM_CMP = 'DRZ',
                 NUME_ORDRE = 1, VALE = 3.08670E+06,
                 REFERENCE = 'AUTRE_ASTER'),
           _F( RESULTAT = U1, NOM_CHAM = 'DEPL',
                 GROUP_NO = 'D', NOM_CMP = 'DY', PRECISION = 0.03,
                 NUME_ORDRE = 1, VALE = 1.09349E-02,
                 REFERENCE = 'AUTRE_ASTER'),
           _F( RESULTAT = U1, NOM_CHAM = 'FORC_NODA',
                 GROUP_NO = 'D', NOM_CMP = 'DRZ',
                 NUME_ORDRE = 8, VALE = 5.88981E+06,
                 REFERENCE = 'AUTRE_ASTER'),
           _F( RESULTAT = U1, NOM_CHAM = 'DEPL',
                 GROUP_NO = 'D', NOM_CMP = 'DY', PRECISION = 0.03,
                 NUME_ORDRE = 8, VALE = 2.20836E-02,
                 REFERENCE = 'AUTRE_ASTER'))
          )

TEST_RESU(RESU=(
           _F( RESULTAT = U1, NOM_CHAM = 'FORC_NODA',
                 GROUP_NO = 'A', NOM_CMP = 'DRZ',
                 NUME_ORDRE = 1, VALE = -3.08670E+06,
                 REFERENCE = 'AUTRE_ASTER'),
           _F( RESULTAT = U1, NOM_CHAM = 'FORC_NODA',
                 GROUP_NO = 'A', NOM_CMP = 'DRZ',
                 NUME_ORDRE = 8, VALE = -5.88981E+06,
                 REFERENCE = 'AUTRE_ASTER'))
          )


# NON REGRESSION :


TEST_RESU(CHAM_ELEM=(
           _F( CHAM_GD = NCOU_M, 
               MAILLE='M1', POINT=1, NOM_CMP = 'MAX',
               VALE=1.68015E+08, REFERENCE='NON_REGRESSION',),
           _F( CHAM_GD = NCOU_I, 
               MAILLE='M1', POINT=1, NOM_CMP = 'MAX',
               VALE=5.88981E+06, REFERENCE='NON_REGRESSION',),
          ),    )



TEST_RESU(RESU=(
           _F( RESULTAT = U1, NOM_CHAM = 'DEPL',
                 GROUP_NO = 'D', NOM_CMP = 'DY',
                 NUME_ORDRE = 1, VALE = 1.0970891398655E-02,
                 REFERENCE = 'NON_REGRESSION'),
          _F( RESULTAT = U1, NOM_CHAM = 'DEPL',
                 GROUP_NO = 'D', NOM_CMP = 'DY',
                 NUME_ORDRE = 8, VALE = 2.1850083894570E-02,
                 REFERENCE = 'NON_REGRESSION'))
          )


TEST_RESU(RESU=(
               _F(RESULTAT=U1, NOM_CHAM='VALE_NCOU_MAXI',
                  MAILLE='M1', POINT=1, NOM_CMP = 'MAX',
                  PRECISION = 0.01, NUME_ORDRE = 1, VALE=8.84099E+07,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='VALE_NCOU_MAXI',
                  MAILLE='M1', POINT=1, NOM_CMP = 'MIN',
                  PRECISION = 0.01, NUME_ORDRE = 1, VALE=5.88318E+06,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='VALE_NCOU_MAXI',
                  MAILLE='M2', POINT=2, NOM_CMP = 'NCOUMAX',
                  PRECISION = 0.01, NUME_ORDRE = 1, VALE=1.00000E+00,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='VALE_NCOU_MAXI',
                  MAILLE='M3', POINT=3, NOM_CMP = 'NCOUMIN',
                  PRECISION = 0.01, NUME_ORDRE = 1, VALE=1.00000E+00,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='VALE_NCOU_MAXI',
                  MAILLE='M4', POINT=1, NOM_CMP = 'NSECMAX',
                  PRECISION = 0.01, NUME_ORDRE = 1, VALE=1.20000E+01,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='VALE_NCOU_MAXI',
                  MAILLE='M5', POINT=2, NOM_CMP = 'NSECMIN',
                  PRECISION = 0.01, NUME_ORDRE = 1, VALE=1.60000E+01,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='VALE_NCOU_MAXI',
                  MAILLE='M6', POINT=3, NOM_CMP = 'NPCOUMAX',
                  PRECISION = 0.01, NUME_ORDRE = 1, VALE=1.00000E+00,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='VALE_NCOU_MAXI',
                  MAILLE='M7', POINT=1, NOM_CMP = 'NPCOUMIN',
                  PRECISION = 0.01, NUME_ORDRE = 1, VALE=2.00000E+00,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='VALE_NCOU_MAXI',
                  MAILLE='M8', POINT=2, NOM_CMP = 'NPSECMAX',
                  PRECISION = 0.01, NUME_ORDRE = 1, VALE=3.00000E+00,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='VALE_NCOU_MAXI',
                  MAILLE='M9', POINT=3, NOM_CMP = 'NPSECMIN',
                  PRECISION = 0.01, NUME_ORDRE = 1, VALE=3.00000E+00,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='VALE_NCOU_MAXI',
                  MAILLE='M1', POINT=2, NOM_CMP = 'MAX',
                  PRECISION = 0.01, NUME_ORDRE = 4, VALE=1.27695E+08,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='VALE_NCOU_MAXI',
                  MAILLE='M5', POINT=3, NOM_CMP = 'MIN',
                  PRECISION = 0.01, NUME_ORDRE = 5, VALE=2.20755E+07,
                  REFERENCE='NON_REGRESSION',),
                ) );


TEST_RESU(RESU=(
               _F(RESULTAT=U1, NOM_CHAM='EQUI_ELGA_SIGM',
                  MAILLE='M1', POINT=2, SOUS_POINT=61, NOM_CMP = 'VMIS',
                  PRECISION = 0.01, NUME_ORDRE = 1, VALE=4.675554583E+07,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='EQUI_ELGA_SIGM',
                  MAILLE='M1', POINT=3, SOUS_POINT=55, NOM_CMP = 'VMIS',
                  PRECISION = 0.01, NUME_ORDRE = 3, VALE=5.608141169E+07,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='EQUI_ELGA_EPSI',
                  MAILLE='M1', POINT=1, SOUS_POINT=77, NOM_CMP = 'INVA_2',
                  PRECISION = 0.01, NUME_ORDRE = 4, VALE=2.590281477E-04,
                  REFERENCE='NON_REGRESSION',),
               _F(RESULTAT=U1, NOM_CHAM='EQUI_ELGA_EPSI',
                  MAILLE='M1', POINT=1, SOUS_POINT=8, NOM_CMP = 'INVA_2',
                  PRECISION = 0.01, NUME_ORDRE = 5, VALE=1.769279362E-04,
                  REFERENCE='NON_REGRESSION',),
                ) );



FIN( )


#
#
#
#   MZ = RECU_FONCTION(RESULTAT : U1
#                       GROUP_NO : D
#                       NOM_CMP : 'DRZ'
#                       TOUT_ORDRE : 'OUI'
#                       NOM_CHAM : 'FORC_NODA');
#
#   UY = RECU_FONCTION(RESULTAT : U1
#                      GROUP_NO : D
#                      NOM_CMP : 'DY'
#                      TOUT_ORDRE : 'OUI'
#                      NOM_CHAM : 'DEPL');
#
#
#
#REF3D = DEFI_FONCTION (NOM_PARA: 'DY'
# VALE : (
#  0.            0.
#  1.09349E-02  3.08670E+06
#  1.23536E-02  3.48715E+06
#  1.37891E-02  3.88759E+06
#  1.52727E-02  4.28804E+06
#  1.68128E-02  4.68848E+06
#  1.84085E-02  5.08892E+06
#  2.01272E-02  5.48937E+06
#  2.20836E-02  5.88981E+06
#  2.43502E-02  6.29026E+06
#  2.70438E-02  6.69070E+06
#  3.04756E-02  7.09115E+06
#        )
#);
#
#REFCOQ3D = DEFI_FONCTION (NOM_PARA: 'DY'
# VALE : (
#0. 0.
#1.088752986E-02 3.086610019E+06
#1.182823657E-02 3.353566024E+06
#1.277569342E-02 3.620519619E+06
#1.373814230E-02 3.887474583E+06
#1.470298286E-02 4.154429588E+06
#       )
#);
#
#REFDKT = DEFI_FONCTION (NOM_PARA: 'DY'
# VALE : (
# 0.0 0.0
# 0.011143 3086700.000000
# 0.012594 3487150.000000
# 0.014088 3887590.000000
# 0.015623 4288040.000000
# 0.017193 4688480.000000
# 0.018821 5088920.000000
# 0.020595 5489370.000000
# 0.022675 5889810.000000
# 0.025078 6290260.000000
# 0.027902 6690700.000000
# 0.031543 7091150.000000
#       )
#);
#
#
# #MPR_COURBE(
#               FORMAT    : 'AGRAF'
#             # FICHIER   : 'AGRAF'
#          TITRE_GRAPHIQUE : '3455_CPPN4'
#          LEGENDE_X       : 'UY(M) DU POINT D'
#             COURBE    : (FONC_X : UY
#                          FONC_Y : MZ
#                 LEGENDE   :'TUYAU'
#                 FREQ_MARQUEUR : 1    )
#             COURBE    : (FONCTION : REF3D
#                 LEGENDE   : 'COURBE REF'
#                 FREQ_MARQUEUR : 1    )
#             COURBE    : (FONCTION : REFCOQ3D
#                 LEGENDE   : 'COURBE REF'
#                 FREQ_MARQUEUR : 1    )
#             COURBE    : (FONCTION : REFDKT
#                 LEGENDE   : 'COURBE REF'
#                 FREQ_MARQUEUR : 1    )
#            );
#
#
#   #MPR_RESU (MODELE : MO
# RESU : (GROUP_NO :  D RESULTAT : U1 NOM_CHAM:('DEPL' 'FORC_NODA'))
# RESU:(FORMAT:'CASTEM' MAILLAGE:MA RESULTAT:U1)
#   );
#
#






