# person_in_charge: patrick.massin at edf.fr
# DATE   : 14/04/2000
# AUTEUR : F. LEBOUVIER (DELTACAD)
# TITRE  : VIBRATIONS DE FLEXION D'UNE POUTRE SANDWICH
# ======================================================================
# COPYRIGHT (C) 1991 - 2013  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
#---------------------------------------------------------------------
#  - CALCUL EN ANALYSE MODALE DYNAMIQUE D'UNE POUTRE SANDWICH
#    SIMPLEMENT SUPPORTEE
#  - MODELISATION AVEC DES ELEMENTS 'DST'(QUAD4)
#---------------------------------------------------------------------
#
DEBUT( CODE=_F( NOM = 'SDLS503D',NIV_PUB_WEB='INTERNET'))
MA1=LIRE_MAILLAGE(FORMAT='MED', )

#
MO1=AFFE_MODELE(   MAILLAGE=MA1,
                         AFFE=_F( TOUT = 'OUI',
                               PHENOMENE = 'MECANIQUE',
                               MODELISATION = 'DST')
                   )

#
#---------------------------------------------------------------------
#                     CARACTERISTIQUES ELEMENTAIRES
#---------------------------------------------------------------------
#
CAR_ELE1=AFFE_CARA_ELEM(   MODELE=MO1,
                              COQUE=_F( GROUP_MA = 'TOUT_ELT',
                                     EPAIS = 0.1,
                                     COQUE_NCOU=3,
                                     ANGL_REP = (90.,-9.48,))
                           )

#
#---------------------------------------------------------------------
#                     CARACTERISTIQUES MATERIAUX
#---------------------------------------------------------------------
#
REVET1=DEFI_MATERIAU(   ELAS_ORTH=_F( E_L = 4.E+10, 
                                     E_T = 4.E+10,
                                     G_LT = 4.E+9,
                                     G_LN = 4.E+9,
                                     NU_LT = 0.3,
                                     NU_LN = 0.3, 
                                     RHO = 2000.)
                        )

COEUR1=DEFI_MATERIAU(   ELAS_ORTH=_F( E_L = 4.E+07,
                                     E_T = 4.E+07,  
                                     G_LT = 1.5E+7,  
                                     G_LN = 1.5E+7,
                                     NU_LT = 0.3,
                                     NU_LN = 0.3,
                                     RHO = 50.)
                        )

MULTI1=DEFI_COMPOSITE( COUCHE=(  _F( EPAIS = 0.025,
                                   MATER = REVET1,
                                   ORIENTATION = 0.),
                           _F( EPAIS = 0.05,
                                   MATER = COEUR1,
                                   ORIENTATION = 0.),
                           _F( EPAIS = 0.025,
                                   MATER = REVET1,
                                   ORIENTATION = 0.))
                         )

CHA_MAT1=AFFE_MATERIAU(   MAILLAGE=MA1,
                                AFFE=_F( TOUT = 'OUI', MATER = MULTI1)
                                                               )

#
#---------------------------------------------------------------------
#                     CHARGEMENTS
#---------------------------------------------------------------------
#
CHAR1=AFFE_CHAR_MECA(     MODELE=MO1,DDL_IMPO=(
                          _F( GROUP_NO = 'COTEAB', DX = 0.),
                          _F( GROUP_NO = 'COTECD', DX = 0.)),LIAISON_OBLIQUE=(
                   _F( GROUP_NO = 'TOUT_NOE', 
                                         DZ = 0., 
                                   ANGL_NAUT = (90., -9.48, 0., )),
                   _F( GROUP_NO = 'TOUT_NOE', 
                                         DRX = 0., 
                                   ANGL_NAUT = (90., -9.48, 0., )),
                   _F( GROUP_NO = 'TOUT_NOE', 
                                         DRY = 0., 
                                   ANGL_NAUT = (90., -9.48, 0., )))
                       )

#
#---------------------------------------------------------------------
#                     RESOLUTION
#---------------------------------------------------------------------
#
MA_EL_R1=CALC_MATR_ELEM(       MODELE=MO1,
                             CHAM_MATER=CHA_MAT1,
                              CARA_ELEM=CAR_ELE1,
                                 CHARGE=CHAR1,
                                 OPTION='RIGI_MECA'
                           )

#
MA_EL_M1=CALC_MATR_ELEM(       MODELE=MO1,
                             CHAM_MATER=CHA_MAT1,
                              CARA_ELEM=CAR_ELE1,
                                 OPTION='MASS_MECA'
                           )

#
NUM1=NUME_DDL(   MATR_RIGI=MA_EL_R1)

#
MA_AS_R1=ASSE_MATRICE(   MATR_ELEM=MA_EL_R1,   NUME_DDL=NUM1)

#
MA_AS_M1=ASSE_MATRICE(   MATR_ELEM=MA_EL_M1,   NUME_DDL=NUM1)

#
MODE1=MODE_ITER_INV(      MATR_RIGI=MA_AS_R1,
                            MATR_MASS=MA_AS_M1,
                         CALC_FREQ=_F( OPTION = 'AJUSTE',
                       FREQ = (5.,500.,),
                                   NMAX_FREQ = 10)   
                       )


#
#---------------------------------------------------------------------
#                     VERIFICATION DES RESULTATS
#---------------------------------------------------------------------
#
TEST_RESU(RESU=(_F(NUME_ORDRE=1,
                   PARA='FREQ',
                   RESULTAT=MODE1,
                   VALE_CALC=64.594734316192,
                   VALE_REFE=64.476,
                   REFERENCE='ANALYTIQUE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=2,
                   PARA='FREQ',
                   RESULTAT=MODE1,
                   VALE_CALC=131.49544103878,
                   VALE_REFE=131.918,
                   REFERENCE='ANALYTIQUE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=3,
                   PARA='FREQ',
                   RESULTAT=MODE1,
                   VALE_CALC=196.86144210996,
                   VALE_REFE=198.734,
                   REFERENCE='ANALYTIQUE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=4,
                   PARA='FREQ',
                   RESULTAT=MODE1,
                   VALE_CALC=260.24674579579,
                   VALE_REFE=265.383,
                   REFERENCE='ANALYTIQUE',
                   CRITERE='RELATIF',
                   PRECISION=0.0194,),
                _F(NUME_ORDRE=5,
                   PARA='FREQ',
                   RESULTAT=MODE1,
                   VALE_CALC=320.40913083704,
                   VALE_REFE=331.963,
                   REFERENCE='ANALYTIQUE',
                   CRITERE='RELATIF',
                   PRECISION=0.035,),
                ),
          )

#
FIN()
