# MODIF  DATE 28/05/2004   AUTEUR LEBOUVIE F.LEBOUVIER 
# TITRE ANNEAU DYNAMOMETRIQUE
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
# MODELISATION POU_C_T
#======================================================================
#
DEBUT( CODE=_F(  NOM = 'SSLL402A',NIV_PUB_WEB='INTERNET') )

#
MA=LIRE_MAILLAGE(  )

MA=DEFI_GROUP(   reuse=MA,   MAILLAGE=MA,
         CREA_GROUP_MA=_F(  NOM = 'TOUT',   TOUT = 'OUI'))

#
MO=AFFE_MODELE(    MAILLAGE=MA,
                         AFFE=_F( TOUT = 'OUI',
                               PHENOMENE = 'MECANIQUE',
                               MODELISATION = 'POU_C_T')
                 )

#
MATR=DEFI_MATERIAU(    ELAS=_F( E = 2.E11,
                               NU = 0.3)
                     )

#
CHMAT=AFFE_MATERIAU(    MAILLAGE=MA,
                              AFFE=_F( TOUT = 'OUI',
                                    MATER = MATR)
                       )

#
CAREL=AFFE_CARA_ELEM(      MODELE=MO,
                             POUTRE=_F( GROUP_MA = 'TOUT',
                                     SECTION = 'CERCLE',
                                     CARA = ('R', 'EP',
                                               ),
                                     VALE = (0.01E0, 0.01E0,
                                               )),DEFI_ARC=(
                           _F(  MAILLE = 'S11',
                                      CENTRE = (0.E0, 0.E0, 0.E0,),
                                      RAYON = 2.E0),
                                    _F(  MAILLE = 'S12',
                                      CENTRE = (0.E0, 0.E0, 0.E0,),
                                      RAYON = 2.E0),
                                    _F(  MAILLE = 'S13',
                                      CENTRE = (0.E0, 0.E0, 0.E0,),
                                      RAYON = 2.E0),
                                    _F(  MAILLE = 'S14',
                                      CENTRE = (0.E0, 0.E0, 0.E0,),
                                      RAYON = 2.E0))
                       )

#
CHARG1=AFFE_CHAR_MECA(      MODELE=MO,DDL_IMPO=(
                            _F( NOEUD = 'N2',
                                      DX = 0.,
                                      DY = 0.,
                                      DZ = 0.,
                                      DRX = 0.),
                            _F( NOEUD = 'N4',
                                      DY = 0.,
                                      DZ = 0.))
                        )

#
CHARG2=AFFE_CHAR_MECA(          MODELE=MO,FORCE_NODALE=(
                            _F( NOEUD = 'N1',
                                          FY = 1.E0),
                            _F( NOEUD = 'N3',
                                          FY = -1.E0))
                        )

#
MEST1=MECA_STATIQUE(        MODELE=MO,
                          CHAM_MATER=CHMAT,
                           CARA_ELEM=CAREL,EXCIT=(
                               _F( CHARGE = CHARG1),
                                     _F( CHARGE = CHARG2))
                      )

MEST1=CALC_ELEM( reuse=MEST1,       
                         RESULTAT=MEST1,EXCIT=(
                            _F( CHARGE = CHARG1),
                                  _F( CHARGE = CHARG2)),
                           OPTION=('EFGE_ELNO_DEPL', 'SIGM_ELNO_DEPL',)
                    )

#
TEST_RESU(   RESU=_F( RESULTAT = MEST1,
                    NOM_CHAM = 'EFGE_ELNO_DEPL',
                    NUME_ORDRE = 1,
                    NOM_CMP = 'N',
                    MAILLE = 'S11',
                    NOEUD = 'N1',
                    VALE = 0.E0,
                    PRECISION = 1.E-5,
                    CRITERE = 'ABSOLU')
          )

#
TEST_RESU(   RESU=_F( RESULTAT = MEST1,
                    NOM_CHAM = 'EFGE_ELNO_DEPL',
                    NUME_ORDRE = 1,
                    NOM_CMP = 'N',
                    MAILLE = 'S11',
                    NOEUD = 'N2',
                    VALE = 0.5E0,
                    PRECISION = 1.E-5,
                    CRITERE = 'RELATIF')
          )

#
TEST_RESU(   RESU=_F( RESULTAT = MEST1,
                    NOM_CHAM = 'EFGE_ELNO_DEPL',
                    NUME_ORDRE = 1,
                    NOM_CMP = 'VY',
                    MAILLE = 'S11',
                    NOEUD = 'N1',
                    VALE = -0.5E0,
                    PRECISION = 1.E-5,
                    CRITERE = 'RELATIF')
          )

#
TEST_RESU(   RESU=_F( RESULTAT = MEST1,
                    NOM_CHAM = 'EFGE_ELNO_DEPL',
                    NUME_ORDRE = 1,
                    NOM_CMP = 'VY',
                    MAILLE = 'S11',
                    NOEUD = 'N2',
                    VALE = 0.E0,
                    PRECISION = 1.E-5,
                    CRITERE = 'ABSOLU')
          )

#
TEST_RESU(   RESU=_F( RESULTAT = MEST1,
                    NOM_CHAM = 'EFGE_ELNO_DEPL',
                    NUME_ORDRE = 1,
                    NOM_CMP = 'MFZ',
                    MAILLE = 'S11',
                    NOEUD = 'N1',
                    VALE = -0.636620E0,
                    PRECISION = 1.E-5,
                    CRITERE = 'RELATIF')
          )

#
TEST_RESU(   RESU=_F( RESULTAT = MEST1,
                    NOM_CHAM = 'EFGE_ELNO_DEPL',
                    NUME_ORDRE = 1,
                    NOM_CMP = 'MFZ',
                    MAILLE = 'S11',
                    NOEUD = 'N2',
                    VALE = 0.363380E0,
                    PRECISION = 1.E-5,
                    CRITERE = 'RELATIF')
          )

# LE SIGNE DE SIXX DEPEND DE CELUI DE L'EFFORT NORMAL QUI EST NUL
# EN CE POINT. SON SIGNE DEPEND DONC DE LA MACHINE D'EXECUTION
# ON SUPPRIME DONC CE TEST, CAR LES CONTRAINTES SONT TESTEES
# DANS LES TEST_RESU SUIVANTS.
#TEST_RESU ( RESU : (RESULTAT   : MEST1
#                    NOM_CHAM   :'SIGM_ELNO_DEPL'
#                    NUME_ORDRE : 1
#                    NOM_CMP    :'SIXX'
#                    MAILLE     : S11
#                    NOEUD      : N1
#                    VALE       : -810569.5D0
#                    PRECISION  : 1.D-5
#                    CRITERE    : 'RELATIF'
#                   )
#          );
#
TEST_RESU(   RESU=_F( RESULTAT = MEST1,
                    NOM_CHAM = 'SIGM_ELNO_DEPL',
                    NUME_ORDRE = 1,
                    NOM_CMP = 'SIXX',
                    MAILLE = 'S11',
                    NOEUD = 'N2',
                    VALE = 464261.6E0,
                    PRECISION = 1.E-5,
                    CRITERE = 'RELATIF')
           )

#
TEST_RESU(   RESU=_F( RESULTAT = MEST1,
                    NOM_CHAM = 'SIGM_ELNO_DEPL',
                    NUME_ORDRE = 1,
                    NOM_CMP = 'SIXY',
                    MAILLE = 'S11',
                    NOEUD = 'N1',
                    VALE = -1768.39E0,
                    PRECISION = 1.E-5,
                    CRITERE = 'RELATIF')
          )

#
TEST_RESU(   RESU=_F( RESULTAT = MEST1,
                    NOM_CHAM = 'SIGM_ELNO_DEPL',
                    NUME_ORDRE = 1,
                    NOM_CMP = 'SIXY',
                    MAILLE = 'S11',
                    NOEUD = 'N2',
                    VALE = 0.E0,
                    PRECISION = 1.E-5,
                    CRITERE = 'ABSOLU')
          )

#
FIN( )
#
#
