# MODIF  DATE 10/07/2006   AUTEUR LEBOUVIE F.LEBOUVIER 
# TITRE SENSIBILITE AUX DONNEES MATERIAUX EN ELASTICITE LINEAIRE ISOTROPE
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2003  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY  
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY  
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR     
# (AT YOUR OPTION) ANY LATER VERSION.                                                    
#                                                                       
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT   
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF            
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU      
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                              
#                                                                       
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE     
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,         
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.        
# ======================================================================

DEBUT(CODE=_F(NOM='SENSM06B',NIV_PUB_WEB='INTERNET'));

PRE_GIBI()

MA=LIRE_MAILLAGE();


MO=AFFE_MODELE(MAILLAGE=MA,
               AFFE=_F(TOUT='OUI',
                       PHENOMENE='MECANIQUE',
                       MODELISATION='AXIS',),);


MA=MODI_MAILLAGE( reuse=MA,
             MAILLAGE=MA,
             ORIE_PEAU_2D=_F(  GROUP_MA = ('AB')),
             INFO=1);


PS_E =DEFI_PARA_SENSI(VALE=1.E5,);
PS_NU=DEFI_PARA_SENSI(VALE=0.3,);
NU=DEFI_CONSTANTE(VALE=0.3,);


MAT=DEFI_MATERIAU(ELAS_FO=_F(E=PS_E,
                             NU=PS_NU,),
                                );


CHMAT=AFFE_MATERIAU(MAILLAGE=MA,
                    AFFE=(_F(GROUP_MA='MA',
                             MATER=MAT,),
                             ),);


CHA=AFFE_CHAR_MECA(MODELE=MO,
                   PRES_REP=_F(PRES=1.E2,GROUP_MA='BLO1',),
                   DDL_IMPO=(
                             _F(GROUP_MA='AB',
                                DY=0.0,
                                ),
                             _F(GROUP_NO='A',
                                DX=0.0,),
                            ),
                   );

L_INST=DEFI_LIST_REEL(DEBUT=0.0,
                      INTERVALLE=_F(JUSQU_A=1.0,
                                    NOMBRE=2,),);

F=DEFI_FONCTION(NOM_PARA='INST',
                VALE=(0.0,  0.0,
                      1.0,  1.),
                      );

RESU=MECA_STATIQUE(MODELE=MO,
                   CHAM_MATER=CHMAT,
                   EXCIT=_F(CHARGE=CHA,
                            FONC_MULT=F,),
                   LIST_INST=L_INST,
                   SENSIBILITE=(PS_E,PS_NU),
                   INFO=1);

IMPR_RESU (RESU = _F(RESULTAT = RESU,
           ));

IMPR_RESU (RESU = _F(RESULTAT = RESU,
           SENSIBILITE=PS_E,
           ));

IMPR_RESU (RESU = _F(RESULTAT = RESU,
           SENSIBILITE=PS_NU,
           ));

# SENSIBILITE PAR RAPPORT A E

TEST_RESU(RESU=(
   _F(RESULTAT = RESU,
      INST = 0.5,
      NOEUD = 'N3',MAILLE = 'M1',
      NOM_CHAM = 'DEPL',
      CRITERE = 'RELATIF', PRECISION = 1.E-4,
      NOM_CMP = 'DX',   SENSIBILITE = PS_E,
      VALE = -7.5E-9, REFERENCE = 'ANALYTIQUE' ),
   _F(RESULTAT = RESU,
      INST = 0.5,
      NOEUD = 'N3',MAILLE = 'M1',
      NOM_CHAM = 'DEPL',
      CRITERE = 'RELATIF', PRECISION = 1.E-4,
      NOM_CMP = 'DY',   SENSIBILITE = PS_E,
      VALE = 5.E-9, REFERENCE = 'ANALYTIQUE' ),
      ));

TEST_RESU(RESU=(
   _F(RESULTAT = RESU,
      INST = 1.,
      NOEUD = 'N3',MAILLE = 'M1',
      NOM_CHAM = 'DEPL',
      CRITERE = 'RELATIF', PRECISION = 1.E-4,
      NOM_CMP = 'DX',   SENSIBILITE = PS_E,
      VALE = -1.5E-8, REFERENCE = 'ANALYTIQUE' ),
   _F(RESULTAT = RESU,
      INST = 1.,
      NOEUD = 'N3',MAILLE = 'M1',
      NOM_CHAM = 'DEPL',
      CRITERE = 'RELATIF', PRECISION = 1.E-4,
      NOM_CMP = 'DY',   SENSIBILITE = PS_E,
      VALE = 1.E-8, REFERENCE = 'ANALYTIQUE' ),
      ));

# SENSIBILITE PAR RAPPORT A NU

TEST_RESU(RESU=(
   _F(RESULTAT = RESU,
      INST = 0.5,
      NOEUD = 'N3',MAILLE = 'M1',
      NOM_CHAM = 'DEPL',
      CRITERE = 'RELATIF', PRECISION = 1.E-4,
      NOM_CMP = 'DX',   SENSIBILITE = PS_NU,
      VALE = 2.5E-3, REFERENCE = 'ANALYTIQUE' ),
   _F(RESULTAT = RESU,
      INST = 0.5,
      NOEUD = 'N3',MAILLE = 'M1',
      NOM_CHAM = 'DEPL',
      CRITERE = 'ABSOLU', PRECISION = 1.E-16,
      NOM_CMP = 'DY',   SENSIBILITE = PS_NU,
      VALE = 0., REFERENCE = 'ANALYTIQUE' ),
      ));

TEST_RESU(RESU=(
   _F(RESULTAT = RESU,
      INST = 1.,
      NOEUD = 'N3',MAILLE = 'M1',
      NOM_CHAM = 'DEPL',
      CRITERE = 'RELATIF', PRECISION = 1.E-4,
      NOM_CMP = 'DX',   SENSIBILITE = PS_NU,
      VALE = 5.0E-3, REFERENCE = 'ANALYTIQUE' ),
   _F(RESULTAT = RESU,
      INST = 1.,
      NOEUD = 'N3',MAILLE = 'M1',
      NOM_CHAM = 'DEPL',
      CRITERE = 'ABSOLU', PRECISION = 1.E-16,
      NOM_CMP = 'DY',   SENSIBILITE = PS_NU,
      VALE = 0., REFERENCE = 'ANALYTIQUE' ),
      ));



FIN();
