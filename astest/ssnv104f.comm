
# MODIF  DATE 13/12/2010   AUTEUR DESOZA T.DESOZA 
#
# TITRE CONTACT DE DEUX SPHERES
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2010  EDF R&D                  WWW.CODE-ASTER.ORG
#              SEE THE FILE "LICENSE.TERMS" FOR INFORMATION ON USAGE AND
#              REDISTRIBUTION OF THIS FILE.
# ======================================================================
#
# MODELISATION 2D AXI ELEMENTS LINEAIRES : TRIA3 ET QUAD4
######


DEBUT(CODE=_F(NOM='SSNV104F',
              NIV_PUB_WEB='INTERNET',),);

MA=LIRE_MAILLAGE();

MO=AFFE_MODELE(MAILLAGE=MA,
               AFFE=_F(TOUT='OUI',
                       PHENOMENE='MECANIQUE',
                       MODELISATION='AXIS',),);
#

MAT=DEFI_MATERIAU(ELAS=_F(E=20000.0,
                          NU=0.3,
                          ALPHA=0.01,),);
#

CHMAT=AFFE_MATERIAU(MAILLAGE=MA,
                    AFFE=_F(TOUT='OUI',
                            MATER=MAT,),);
#

CHAR = AFFE_CHAR_MECA(MODELE=MO,
                    DDL_IMPO=(_F(GROUP_NO='SPHSUP',
                                 DY=-2.0,),
                              _F(GROUP_NO='SPHINF',
                                 DY=2.0,),
                              _F(GROUP_NO='AXE',
                                 DX=0.0,),),);

CHA2=DEFI_CONTACT(MODELE      = MO,
                  FORMULATION = 'DISCRETE',
                  ZONE=_F(APPARIEMENT='NODAL',
                               NORMALE='MAIT_ESCL',
                               ALGO_CONT='LAGRANGIEN',
                               GROUP_MA_MAIT='CON1',
                               GROUP_MA_ESCL='CON2',),
                    INFO=2,);
#

CHA3=DEFI_CONTACT(MODELE      = MO,
                  FORMULATION = 'DISCRETE',
                  ZONE=_F(APPARIEMENT='MAIT_ESCL',
                               NORMALE='MAIT_ESCL',
                               ALGO_CONT='LAGRANGIEN',
                               GROUP_MA_MAIT='CON1',
                               GROUP_MA_ESCL='CON2',),
                    INFO=2,);
#

CHA4=DEFI_CONTACT(MODELE      = MO,
                  FORMULATION = 'DISCRETE',
                  ZONE=_F(NORMALE='MAIT_ESCL',
                               ALGO_CONT='CONTRAINTE',
                               GROUP_MA_MAIT='CON1',
                               GROUP_MA_ESCL='CON2',),
                    INFO=2,);
#

CHA5=DEFI_CONTACT(MODELE      = MO,
                  FORMULATION = 'DISCRETE',
                  LISSAGE='OUI',
                  ZONE=_F(
                               NORMALE='MAIT_ESCL',
                               ALGO_CONT='CONTRAINTE',
                               GROUP_MA_MAIT='CON1',
                               GROUP_MA_ESCL='CON2',),
                    INFO=2,);
#

RAMPE=DEFI_FONCTION(NOM_PARA='INST',VALE=(0.0,0.0,
                          1.0,1.0,
                          ),PROL_DROITE='LINEAIRE',PROL_GAUCHE='LINEAIRE',);
#

L_INST=DEFI_LIST_REEL(DEBUT=0.0,
                      INTERVALLE=_F(JUSQU_A=1.,
                                    NOMBRE=10,),);
#

RESU2=STAT_NON_LINE(MODELE=MO,
                    CHAM_MATER=CHMAT,
                    EXCIT=_F(CHARGE=CHAR,
                             FONC_MULT=RAMPE,),
                    CONTACT  = CHA2,         
                    COMP_ELAS=_F(RELATION='ELAS',),
                    INCREMENT=_F(LIST_INST=L_INST,
                                 NUME_INST_FIN=10,),
                    NEWTON=_F(MATRICE='ELASTIQUE',),
                    CONVERGENCE=_F(ITER_GLOB_MAXI=10,
                                   ARRET='OUI',),
                    SOLVEUR=_F(SYME='OUI',),);

RESU2=CALC_ELEM(reuse =RESU2,
                RESULTAT=RESU2,
                OPTION=('SIEF_ELNO_ELGA','VARI_ELNO_ELGA',),);
#

SIELGA2=CREA_CHAMP(TYPE_CHAM='ELGA_SIEF_R',
                   OPERATION='EXTR',
                   RESULTAT=RESU2,
                   NOM_CHAM='SIEF_ELGA',
                   NUME_ORDRE=10,);
#

SIELNO2=CREA_CHAMP(TYPE_CHAM='ELNO_SIEF_R',
                   OPERATION='EXTR',
                   RESULTAT=RESU2,
                   NOM_CHAM='SIEF_ELNO_ELGA',
                   NUME_ORDRE=10,);
# TEST DE LA CONFORMITE AVEC LA SOLUTION DE REFERENCE ANALYTIQUE

TEST_RESU(CHAM_ELEM=_F(CHAM_GD=SIELNO2,
                       MAILLE='M31',
                       NOEUD='N291',
                       NOM_CMP='SIYY',
                       VALE=-2798.3,
                       CRITERE='RELATIF',
                       PRECISION=0.07,
                       REFERENCE='ANALYTIQUE',),);
# TEST DE LA CONFORMITE PAR RAPPORT AUX RESULTATS ASTER
# PRECEDENTS

TEST_RESU(CHAM_ELEM=_F(CHAM_GD=SIELNO2,
                       MAILLE='M31',
                       NOEUD='N291',
                       NOM_CMP='SIYY',
                       VALE=-2971.37,
                       CRITERE='RELATIF',
                       PRECISION=0.001,
                       REFERENCE='NON_REGRESSION',
                       VERSION='6.2.8',),
          RESU=(_F(RESULTAT=RESU2,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   NOEUD='N291',
                   VALE=0.0,
                   CRITERE='ABSOLU',
                   PRECISION=1e-10,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU2,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   NOEUD='N287',
                   VALE=-0.110211,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='6.2.8',),
                _F(RESULTAT=RESU2,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DY',
                   NOEUD='N287',
                   VALE=-0.162911,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='6.2.8',),
                _F(RESULTAT=RESU2,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   NOEUD='N285',
                   VALE=-0.165946,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='6.2.8',),
                _F(RESULTAT=RESU2,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DY',
                   NOEUD='N285',
                   VALE=-0.629666,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='6.2.8',),),);

RESU3=STAT_NON_LINE(MODELE=MO,
                    CHAM_MATER=CHMAT,
                    EXCIT=_F(CHARGE=CHAR,
                             FONC_MULT=RAMPE,),
                             CONTACT  = CHA3,       
                    COMP_ELAS=_F(RELATION='ELAS',),
                    INCREMENT=_F(LIST_INST=L_INST,
                                 NUME_INST_FIN=10,),
                    NEWTON=_F(MATRICE='ELASTIQUE',),
                    CONVERGENCE=_F(ITER_GLOB_MAXI=10,
                                   ARRET='OUI',),
                    SOLVEUR=_F(SYME='OUI',),);

RESU3=CALC_ELEM(reuse =RESU3,
                RESULTAT=RESU3,
                OPTION=('SIEF_ELNO_ELGA','VARI_ELNO_ELGA',),);
#

SIELGA3=CREA_CHAMP(TYPE_CHAM='ELGA_SIEF_R',
                   OPERATION='EXTR',
                   RESULTAT=RESU3,
                   NOM_CHAM='SIEF_ELGA',
                   NUME_ORDRE=10,);
#

SIELNO3=CREA_CHAMP(TYPE_CHAM='ELNO_SIEF_R',
                   OPERATION='EXTR',
                   RESULTAT=RESU3,
                   NOM_CHAM='SIEF_ELNO_ELGA',
                   NUME_ORDRE=10,);

TEST_RESU(CHAM_ELEM=_F(CHAM_GD=SIELNO3,
                       MAILLE='M31',
                       NOEUD='N291',
                       NOM_CMP='SIYY',
                       VALE=-2798.3,
                       CRITERE='RELATIF',
                       PRECISION=0.07,
                       REFERENCE='ANALYTIQUE',),);
# TEST DE LA CONFORMITE PAR RAPPORT AUX RESULTATS ASTER
# PRECEDENTS

TEST_RESU(CHAM_ELEM=_F(CHAM_GD=SIELNO3,
                       MAILLE='M31',
                       NOEUD='N291',
                       NOM_CMP='SIYY',
                       VALE=-2966.0,
                       CRITERE='RELATIF',
                       PRECISION=0.001,
                       REFERENCE='NON_REGRESSION',
                       VERSION='7.3.23',),
          RESU=(_F(RESULTAT=RESU3,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   NOEUD='N291',
                   VALE=0.0,
                   CRITERE='ABSOLU',
                   PRECISION=1e-10,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU3,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   NOEUD='N287',
                   VALE=-0.1106784,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='7.3.23',),
                _F(RESULTAT=RESU3,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DY',
                   NOEUD='N287',
                   VALE=-0.1628911,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='7.3.23',),
                _F(RESULTAT=RESU3,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   NOEUD='N285',
                   VALE=-0.167194,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='7.3.23',),
                _F(RESULTAT=RESU3,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DY',
                   NOEUD='N285',
                   VALE=-0.628947,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='7.3.23',),),);

RESU4=STAT_NON_LINE(MODELE=MO,INFO=2,
                    CHAM_MATER=CHMAT,
                    EXCIT=_F(CHARGE=CHAR,
                             FONC_MULT=RAMPE,),
                    CONTACT  = CHA4,                
                    COMP_ELAS=_F(RELATION='ELAS',),
                    INCREMENT=_F(LIST_INST=L_INST,
                                 NUME_INST_FIN=10,),
                    NEWTON=_F(MATRICE='ELASTIQUE',),
                    CONVERGENCE=_F(ITER_GLOB_MAXI=10,
                                   ARRET='OUI',),
                    SOLVEUR=_F(SYME='OUI',),);

RESU4=CALC_ELEM(reuse =RESU4,
                RESULTAT=RESU4,
                OPTION=('SIEF_ELNO_ELGA','VARI_ELNO_ELGA',),);
#

SIELGA4=CREA_CHAMP(TYPE_CHAM='ELGA_SIEF_R',
                   OPERATION='EXTR',
                   RESULTAT=RESU4,
                   NOM_CHAM='SIEF_ELGA',
                   NUME_ORDRE=10,);
#

SIELNO4=CREA_CHAMP(TYPE_CHAM='ELNO_SIEF_R',
                   OPERATION='EXTR',
                   RESULTAT=RESU4,
                   NOM_CHAM='SIEF_ELNO_ELGA',
                   NUME_ORDRE=10,);

TEST_RESU(CHAM_ELEM=_F(CHAM_GD=SIELNO4,
                       MAILLE='M31',
                       NOEUD='N291',
                       NOM_CMP='SIYY',
                       VALE=-2798.3,
                       CRITERE='RELATIF',
                       PRECISION=0.07,
                       REFERENCE='ANALYTIQUE',),);
# TEST DE LA CONFORMITE PAR RAPPORT AUX RESULTATS ASTER
# PRECEDENTS

TEST_RESU(CHAM_ELEM=_F(CHAM_GD=SIELNO4,
                       MAILLE='M31',
                       NOEUD='N291',
                       NOM_CMP='SIYY',
                       VALE=-2966.,
                       CRITERE='RELATIF',
                       PRECISION=0.001,
                       REFERENCE='NON_REGRESSION',
                       VERSION='7.3.23',),
          RESU=(_F(RESULTAT=RESU4,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   NOEUD='N291',
                   VALE=0.0,
                   CRITERE='ABSOLU',
                   PRECISION=1e-10,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU4,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   NOEUD='N287',
                   VALE=-0.110678,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='7.3.23',),
                _F(RESULTAT=RESU4,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DY',
                   NOEUD='N287',
                   VALE=-0.162901,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='7.3.23',),
                _F(RESULTAT=RESU4,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   NOEUD='N285',
                   VALE=-0.167194,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='7.3.23',),
                _F(RESULTAT=RESU4,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DY',
                   NOEUD='N285',
                   VALE=-0.6289475,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='7.3.23',),),);
# TEST DE LA CONFORMITE AVEC LA SOLUTION DE REFERENCE ANALYTIQUE

RESU5=STAT_NON_LINE(MODELE=MO,
                    CHAM_MATER=CHMAT,
                    EXCIT=_F(CHARGE=CHAR,
                             FONC_MULT=RAMPE,),
                    CONTACT  = CHA5,
                    COMP_ELAS=_F(RELATION='ELAS',),
                    INCREMENT=_F(LIST_INST=L_INST,
                                 NUME_INST_FIN=10,),
                    NEWTON=_F(MATRICE='ELASTIQUE',),
                    CONVERGENCE=_F(ITER_GLOB_MAXI=10,
                                   ARRET='OUI',),
                    SOLVEUR=_F(SYME='OUI',),);

RESU5=CALC_ELEM(reuse =RESU5,
                RESULTAT=RESU5,
                OPTION=('SIEF_ELNO_ELGA','VARI_ELNO_ELGA',),);
#

SIELGA5=CREA_CHAMP(TYPE_CHAM='ELGA_SIEF_R',
                   OPERATION='EXTR',
                   RESULTAT=RESU5,
                   NOM_CHAM='SIEF_ELGA',
                   NUME_ORDRE=10,);
#

SIELNO5=CREA_CHAMP(TYPE_CHAM='ELNO_SIEF_R',
                   OPERATION='EXTR',
                   RESULTAT=RESU5,
                   NOM_CHAM='SIEF_ELNO_ELGA',
                   NUME_ORDRE=10,);

TEST_RESU(CHAM_ELEM=_F(CHAM_GD=SIELNO5,
                       MAILLE='M31',
                       NOEUD='N291',
                       NOM_CMP='SIYY',
                       VALE=-2798.3,
                       CRITERE='RELATIF',
                       PRECISION=0.07,
                       REFERENCE='ANALYTIQUE',),);
# TEST DE LA CONFORMITE PAR RAPPORT AUX RESULTATS ASTER
# PRECEDENTS

TEST_RESU(CHAM_ELEM=_F(CHAM_GD=SIELNO5,
                       MAILLE='M31',
                       NOEUD='N291',
                       NOM_CMP='SIYY',
                       VALE=-2971.37,
                       CRITERE='RELATIF',
                       PRECISION=0.001,
                       REFERENCE='NON_REGRESSION',
                       VERSION='6.2.8',),
          RESU=(_F(RESULTAT=RESU5,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   NOEUD='N291',
                   VALE=0.0,
                   CRITERE='ABSOLU',
                   PRECISION=1e-10,
                   REFERENCE='ANALYTIQUE',),
                _F(RESULTAT=RESU5,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   NOEUD='N287',
                   VALE=-0.110211,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='6.2.8',),
                _F(RESULTAT=RESU5,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DY',
                   NOEUD='N287',
                   VALE=-0.162911,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='6.2.8',),
                _F(RESULTAT=RESU5,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   NOEUD='N285',
                   VALE=-0.165946,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='6.2.8',),
                _F(RESULTAT=RESU5,
                   NUME_ORDRE=10,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DY',
                   NOEUD='N285',
                   VALE=-0.629666,
                   CRITERE='RELATIF',
                   PRECISION=0.001,
                   REFERENCE='NON_REGRESSION',
                   VERSION='6.2.8',),),);
# TEST DE LA CONFORMITE AVEC LA SOLUTION DE REFERENCE ANALYTIQUE

FIN();
#
