# MODIF  DATE 13/12/2011   AUTEUR PELLET J.PELLET 
# TITRE ESSAI DE TRACTION GENEE EN 3D (VISCOCHAB)
# ssnv118c.para = tps_job 60 mem_job 64Mo liste_test S
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2011  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY  
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY  
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR     
# (AT YOUR OPTION) ANY LATER VERSION.                                                    
#                                                                       
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT   
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF            
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU      
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                              
#                                                                       
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE     
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,         
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.        
# ======================================================================
#----------------------------------------------------------------------
#           TEST MODELE VISCOCHABOCHE MODIFIE 3D  
#      ESSAI EN TRACTION COMPRESSION - DEFORMATION UNIAXIALE 
#                       PAROIS LISSES EN X ET Y
#----------------------------------------------------------------------
#         ELEMENT 3D CUBE A 8 NOEUDS EN TRACTION - COMPRESSION
#              ETAT UNIAXIAL DE DEFORMATION
#       UNITES : NEWTON , MILLIMETRE , SECONDE (N,MM,S,->MPA)
#
#
#               Z       A                     A = 1 MM
#               L<------------->                      2
#                                             S = 1 MM
#                / N5            N8
#              >O--------------O 
#              /L             /L
#         N6  / L         N7 / L
#           >O--+-----------O  L   
#            L  L           L  L
#            L  L     S     L  L
#            L  L           L  L
#            L  L/ N1       L  L N4
#            L >O-----------L--O-> Y
#            L /V           L /    
#         N2 L/          N3 L/ 
#           >O--------------O    
#            
#          /
#         X         
#
#
#----------------------------------------------------------------------
#
#
DEBUT(     CODE=_F( NOM = 'SSNV118C',NIV_PUB_WEB='INTERNET') )

CUBE=LIRE_MAILLAGE(   )

TROISD=AFFE_MODELE(            MAILLAGE=CUBE,
                                    AFFE=_F(   PHENOMENE = 'MECANIQUE',
                                            MODELISATION = '3D',
                                           MAILLE = 'MA1'))

ACIER=DEFI_MATERIAU(           ELAS=_F(   E = 145000.,
                                            NU = 0.3,      
                                            ALPHA = 0.),

                               VISCOCHAB=_F(   K_0 = 70.,
                                            A_K = 1.,
                                            A_R = 0.65,
                                            K = 35.,
                                            N = 24.,
                                            ALP = 0.,
                                            B = 12.,
                                            M_R = 2.,
                                            G_R = 2.E-7,
                                            MU = 19.,
                                            Q_M = 460.,
                                            Q_0 = 40.,
                                            QR_0 = 200.,
                                            ETA = .04,
                                            C1 = 1950.,
                                            M_1 = 4.,
                                            D1 = 0.397E-3,
                                            G_X1 = 2.E-13,
                                            G1_0 = 50.,
                                            C2 = 65000.,
                                            M_2 = 4.,
                                            D2 = 0.552E-1,
                                            G_X2 = 1.E-12,
                                            G2_0 = 1300.,
                                            A_I = 0.5))

MAT=AFFE_MATERIAU(            MAILLAGE=CUBE,
                                   AFFE=_F(  MAILLE = 'MA1',
                                           MATER = ACIER))

LINST=DEFI_LIST_REEL(              DEBUT=0.,INTERVALLE=(
                              
                           _F(  JUSQU_A = 4.,     NOMBRE = 5),
                           _F(  JUSQU_A = 7.,     NOMBRE = 5),
                           _F(  JUSQU_A = 10.,    NOMBRE = 5))
                                         )

COND_LIM=AFFE_CHAR_MECA(             MODELE=TROISD,DDL_IMPO=(
                                      
               _F( GROUP_NO = 'FACE1XY',  DX = 0.,   DY = 0., DZ = 0.01),
               _F( GROUP_NO = 'FACEXY',   DX = 0.,   DY = 0., DZ = 0.)))

COEF_TR=DEFI_FONCTION(      NOM_PARA='INST', 
                                  VALE=( 
                                            0.,   0.,
                                            4.,   1.,
                                            7.,  -1.,
                                           10.,   1.,
     ))

SOLNL=STAT_NON_LINE( 
                             TITRE='TEST EXTENSION SIMPLE',
                            MODELE=TROISD,
                        CHAM_MATER=MAT,
                             EXCIT=_F( 
                CHARGE = COND_LIM,
                FONC_MULT = COEF_TR),
                         COMP_INCR=_F( 
                RELATION = 'VISCOCHAB',
                DEFORMATION = 'PETIT',
                ITER_INTE_MAXI = 80,
                ALGO_INTE = 'RUNGE_KUTTA',
                TOUT = 'OUI'),
                         INCREMENT=_F( 
                LIST_INST = LINST),
                            NEWTON=_F( 
                MATRICE = 'ELASTIQUE'),
                       CONVERGENCE=_F( 
                ITER_GLOB_MAXI = 40,
                RESI_GLOB_RELA = 1.E-6)
              )

SOLNL=CALC_ELEM( reuse=SOLNL,
                            OPTION=(
                  'SIGM_ELNO',  'VARI_ELNO',),
                          RESULTAT=SOLNL,
              )

SOLNL=CALC_ELEM(       reuse=SOLNL,
                                      INST=10.,
                                    OPTION='EPSI_ELNO',
                                 RESULTAT=SOLNL )

TEST_RESU(RESU=(
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'SIGM_ELNO',  NUME_ORDRE = 15,
           MAILLE = 'MA1',  NOEUD = 'N1',  NOM_CMP = 'SIXX',  VALE = 0.11478E+04),

  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'SIGM_ELNO',  NUME_ORDRE = 15,
           MAILLE = 'MA1',  NOEUD = 'N1',  NOM_CMP = 'SIYY',  VALE = 0.11478E+04),

  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'SIGM_ELNO',  NUME_ORDRE = 15,
           MAILLE = 'MA1',  NOEUD = 'N1',  NOM_CMP = 'SIZZ',  VALE = 0.13294E+04),

  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'EPSI_ELNO',  NUME_ORDRE = 15,
           MAILLE = 'MA1',  NOEUD = 'N1',  NOM_CMP = 'EPZZ',  VALE = 1.0E-2),

  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO',  NUME_ORDRE = 15,
           MAILLE = 'MA1',  NOEUD = 'N1',
           NOM_CMP = 'V1',             VALE = -.27904E-02),

  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO',  NUME_ORDRE = 15,
           MAILLE = 'MA1',  NOEUD = 'N1',
           NOM_CMP = 'V3',             VALE = 0.55808E-02),

  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO',  NUME_ORDRE = 15,
           MAILLE = 'MA1',  NOEUD = 'N1',
           NOM_CMP = 'V25',             VALE = 0.141271E+02,
                                                     PRECISION = 1.E-2),

  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO',  NUME_ORDRE = 15,
           MAILLE = 'MA1',  NOEUD = 'N1',
           NOM_CMP = 'V26',             VALE = 0.106505E-02,
                                                     PRECISION = 5.E-3),

  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO',  NUME_ORDRE = 15,
           MAILLE = 'MA1',  NOEUD = 'N1',
           NOM_CMP = 'V27',             VALE = 0.284300E-01, 
                                                     PRECISION = 5.E-3))
)

FIN()
#  
