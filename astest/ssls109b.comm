# MODIF  DATE 30/03/2004   AUTEUR CIBHHPD S.VANDENBERGHE 
# TITRE PLAQUE ENCASTREE EN TRACTION CONSTITUEE DE 3 NAPPES D'ARMATURES
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================

DEBUT(    CODE=_F(  NOM = 'SSLS109B',NIV_PUB_WEB='INTERNET') )

#-----------------------------------------------------------------------
# VALIDATION DU MODELE GRILLE EN ELASTICITE LINEAIRE
#-----------------------------------------------------------------------

MAILL1=LIRE_MAILLAGE(   )

MAILL2=CREA_MAILLAGE( 
               MAILLAGE=MAILL1,
               CREA_GROUP_MA=_F( 
                   NOM = 'GEOB1',  
                   GROUP_MA = 'GEOB',  
                   PREF_MAILLE = 'A',  
                              )
                           )

MAILTOT=CREA_MAILLAGE( 
               MAILLAGE=MAILL2,
               CREA_GROUP_MA=_F( 
                   NOM = 'GEOB2',  
                   GROUP_MA = 'GEOB',  
                   PREF_MAILLE = 'B',  
                              )
                           )

#
# -----------------------------------------------------
# DEFINITION DES MATERIAUX
# -----------------------------------------------------
#

MATER1=DEFI_MATERIAU(  ELAS=_F(  E = 1.,       NU = 0., ) ,
                        ECRO_LINE=_F(SY=1000000000,D_SIGM_EPSI=0),
                          )

MATER2=DEFI_MATERIAU(  ELAS=_F(  E = 2.,       NU = 0., ) ,
                        ECRO_LINE=_F(SY=1000000000,D_SIGM_EPSI=0),
                          )

MATER3=DEFI_MATERIAU(  ELAS=_F(  E = 3.,       NU = 0., ), 
                        ECRO_LINE=_F(SY=1000000000,D_SIGM_EPSI=0),
                          )

#
# -------------------------------------------------
# AFFECTATION DES MATERIAUX 
# -------------------------------------------------
#
MATAF=AFFE_MATERIAU(    MAILLAGE=MAILTOT,AFFE=(
                          _F(  GROUP_MA = 'GEOB',    
                                 MATER = MATER1,  
                               ),
                          _F(  GROUP_MA = 'GEOB1',    
                                 MATER = MATER2,  
                               ),
                          _F(  GROUP_MA = 'GEOB2',    
                                 MATER = MATER3,  
                               )) 
                      )

#
# -------------------------------------------------
# AFFECTATION DES MODELES 
# -------------------------------------------------
#
LEMOD=AFFE_MODELE(    MAILLAGE=MAILTOT,     VERIF='MAILLE',AFFE=( 
                        _F(  GROUP_MA = 'GEOB',     
                               MODELISATION = 'GRILLE',  
                               PHENOMENE = 'MECANIQUE',   
                             ),
                        _F(  GROUP_MA = 'GEOB1',     
                               MODELISATION = 'GRILLE',  
                               PHENOMENE = 'MECANIQUE',   
                             ),
                        _F(  GROUP_MA = 'GEOB2',     
                               MODELISATION = 'GRILLE',  
                               PHENOMENE = 'MECANIQUE',   
                             ))
                      )

# -------------------------------------------------
# AFFECTATION DES CARACTERISTIQUES 
# -------------------------------------------------
#
LACAR=AFFE_CARA_ELEM(    MODELE=LEMOD,GRILLE=(
                       _F( GROUP_MA = 'GEOB',   
                                SECTION_L = .01,    
                                ANGL_REP = (30.0, 10.0,),    
                                ANGL_L = 0.,        
                                POUR_CENT_L = 1.,  
                                POUR_CENT_T = 1.,  
                                EXCENTREMENT = -.01, 
                              ),
                       _F( GROUP_MA = 'GEOB1',   
                                SECTION_L = .01,    
                                ANGL_REP = (30.0, 10.0,),    
                                ANGL_L = -20.0,       
                                POUR_CENT_L = 1.,  
                                POUR_CENT_T = 1.,  
                                EXCENTREMENT = 0., 
                              ),
                       _F( GROUP_MA = 'GEOB2',   
                                SECTION_L = .01,    
                                ANGL_REP = (30.0, 10.0,),    
                                ANGL_L = -75.0,       
                                POUR_CENT_L = 1.,  
                                POUR_CENT_T = 1.,  
                                EXCENTREMENT = .01, 
                              ))
                        )

#
# -------------------------------------------------
# AFFECTATION DU CHARGEMENT 
# -------------------------------------------------
#
LECHAR=AFFE_CHAR_MECA(    MODELE=LEMOD,DDL_IMPO=(
              _F( NOEUD = 'NO1',   DX = 0.,    DY = 0.,    DZ = 0.,
                                  DRX = 0.,   DRY = 0.,   DRZ = 0.,  
                       ),
                       _F( NOEUD = 'NO4',   DX = 0.,    DY = 0.,    DZ = 0.,
                                  DRX = 0.,   DRY = 0.,   DRZ = 0., 
                       )),FORCE_NODALE=(
              _F( NOEUD = 'NO2',        FX = 1.,       ),
                           _F( NOEUD = 'NO3',        FX = 1.,       ))
                         )

#
# -------------------------------------------------
# CALCUL MECANIQUE STATIQUE LINEAIRE 
# -------------------------------------------------
#

RESU0=MECA_STATIQUE(    MODELE=LEMOD,       CHAM_MATER=MATAF,
                               CARA_ELEM=LACAR,
                               EXCIT=_F(  CHARGE = LECHAR,    )       )

RESU0=CALC_ELEM(reuse=RESU0,     RESULTAT=RESU0,        MODELE=LEMOD,
                         CHAM_MATER=MATAF,    CARA_ELEM=LACAR,
                             OPTION='EFGE_ELNO_DEPL' )

RESU0=CALC_ELEM(reuse=RESU0,     RESULTAT=RESU0,        MODELE=LEMOD,
                         CHAM_MATER=MATAF,    CARA_ELEM=LACAR,
                             OPTION='SIGM_ELNO_DEPL' )

#RESU0=CALC_ELEM(reuse=RESU0,     RESULTAT=RESU0,        MODELE=LEMOD,
#                         CHAM_MATER=MATAF,    CARA_ELEM=LACAR,
#                             OPTION='SIEF_ELGA_DEPL' )

RESU0=CALC_NO(  reuse=RESU0,   RESULTAT=RESU0,  MODELE=LEMOD,
                               TOUT='OUI',CHAM_MATER=MATAF,
                               OPTION='FORC_NODA',
                               CARA_ELEM=LACAR       )


RESU0=CALC_ELEM(reuse=RESU0,     RESULTAT=RESU0,        MODELE=LEMOD,
                         CHAM_MATER=MATAF,    CARA_ELEM=LACAR,
                             OPTION='EPSI_ELNO_DEPL' )

RESU0=CALC_ELEM(reuse=RESU0,     RESULTAT=RESU0,        MODELE=LEMOD,
                         CHAM_MATER=MATAF,    CARA_ELEM=LACAR,
                             OPTION='DEGE_ELNO_DEPL' )

RESU0=CALC_ELEM(reuse=RESU0,     RESULTAT=RESU0,        MODELE=LEMOD,
                         CHAM_MATER=MATAF,    CARA_ELEM=LACAR,
                             OPTION='SIEF_ELNO_ELGA' )

IMPR_RESU(RESU=_F(RESULTAT=RESU0,
NOM_CHAM=('FORC_NODA','SIEF_ELNO_ELGA','SIEF_ELGA_DEPL','DEPL',)))
#

# -------------------------------------------------
# CALCUL MECANIQUE STATIQUE LINEAIRE 
# -------------------------------------------------
#

LINST=DEFI_LIST_REEL(   DEBUT=0.,INTERVALLE=(
                             _F( JUSQU_A = 1.00,   NOMBRE = 1,   ),))
FONCMULT=DEFI_FONCTION(NOM_PARA='INST',VALE=(0.,0.,1000.,1000.))
                         
RESU1=STAT_NON_LINE(    MODELE=LEMOD,       CHAM_MATER=MATAF,
                               CARA_ELEM=LACAR,
                               EXCIT=_F(  CHARGE = LECHAR, FONC_MULT=FONCMULT   ) ,
                               INCREMENT=_F(LIST_INST = LINST),
                               COMP_INCR=_F(RELATION = 'GRILLE_ISOT_LINE' ),)

RESU1=CALC_NO(  reuse=RESU1,   RESULTAT=RESU1,  MODELE=LEMOD,
                               TOUT='OUI',CHAM_MATER=MATAF,
                               OPTION='FORC_NODA',
                               CARA_ELEM=LACAR       )

RESU1=CALC_ELEM(reuse=RESU1,     RESULTAT=RESU1,        MODELE=LEMOD,
                         CHAM_MATER=MATAF,    CARA_ELEM=LACAR,
                             OPTION='SIEF_ELNO_ELGA' )

IMPR_RESU(RESU=_F(RESULTAT=RESU1,NOM_CHAM=('FORC_NODA','SIEF_ELNO_ELGA','SIEF_ELGA','DEPL')))


TEST_RESU(RESU=(
              
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'DX',   
                REFERENCE='NON_REGRESSION',VALE= 81.9373,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'DY',   
                REFERENCE='NON_REGRESSION',VALE= -18.6398,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'DZ',   
                REFERENCE='NON_REGRESSION',VALE= 2098.66,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'DRX',   
                REFERENCE='NON_REGRESSION',VALE= -1239.88,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'DRY',   
                REFERENCE='NON_REGRESSION',VALE= -3820.42,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'EPSI_ELNO_DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'EPXX',   
                REFERENCE='NON_REGRESSION',VALE= 32.9433,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'EPSI_ELNO_DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'EPYY',   
                REFERENCE='NON_REGRESSION',VALE= 2.33011,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'EPSI_ELNO_DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'EPZZ',   
                REFERENCE='NON_REGRESSION',VALE= 0.0,       
                CRITERE = 'ABSOLU',    
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'EPSI_ELNO_DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'EPXY',   
                REFERENCE='NON_REGRESSION',VALE= -34.3522,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'DEGE_ELNO_DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'KXX',   
                REFERENCE='NON_REGRESSION',VALE= -531.043,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'DEGE_ELNO_DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'KYY',   
                REFERENCE='NON_REGRESSION',VALE= -2035.19,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'DEGE_ELNO_DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'KXY',   
                REFERENCE='NON_REGRESSION',VALE= 2058.44,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'SIGM_ELNO_DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'SIXX',   
                REFERENCE='NON_REGRESSION',VALE= 42.7252,        
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'SIGM_ELNO_DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'SIYY',   
                REFERENCE='NON_REGRESSION',VALE= 63.0951,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'SIGM_ELNO_DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'SIZZ',   
                REFERENCE='NON_REGRESSION',VALE= 0.,       
                CRITERE = 'ABSOLU',    
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'SIGM_ELNO_DEPL',  
                MAILLE = 'BMA1',     
                NOEUD = 'NO2',      
                NOM_CMP = 'SIXY',   
                REFERENCE='NON_REGRESSION',VALE= -5.88029,       
                ),


                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'SIEF_ELGA_DEPL',  
                MAILLE = 'MA1',     
                POINT=1,      
                NOM_CMP = 'SIXX',   
                REFERENCE='NON_REGRESSION',VALE= 5.96512E+01,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'SIEF_ELGA_DEPL',  
                MAILLE = 'MA1',     
                POINT=1,      
                NOM_CMP = 'SIYY',   
                REFERENCE='NON_REGRESSION',VALE= 5.43569E+01,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'SIEF_ELGA_DEPL',  
                MAILLE = 'MA1',     
                POINT=1,      
                NOM_CMP = 'SIXY',   
                REFERENCE='NON_REGRESSION',VALE= 4.58504E+00,       
                ),


                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'SIEF_ELNO_ELGA',  
                MAILLE = 'MA1',     
                NOEUD = 'NO1',      
                NOM_CMP = 'NXX',   
                REFERENCE='NON_REGRESSION',VALE= 7.2565E-01,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'SIEF_ELNO_ELGA',  
                MAILLE = 'MA1',     
                NOEUD = 'NO1',      
                NOM_CMP = 'NYY',   
                REFERENCE='NON_REGRESSION',VALE= 5.6104E-01,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'SIEF_ELNO_ELGA',  
                MAILLE = 'MA1',     
                NOEUD = 'NO1',      
                NOM_CMP = 'MXX',   
                REFERENCE='NON_REGRESSION',VALE= -2.85932E-04,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'SIEF_ELNO_ELGA',  
                MAILLE = 'MA1',     
                NOEUD = 'NO1',      
                NOM_CMP = 'MYY',   
                REFERENCE='NON_REGRESSION',VALE= -2.78516E-04,       
                ),


                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'FORC_NODA',  
                 NOEUD = 'NO1',      
                NOM_CMP = 'DX',   
                REFERENCE='NON_REGRESSION',VALE= -1.0000E+00,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'FORC_NODA',  
                  NOEUD = 'NO1',      
                NOM_CMP = 'DY',   
                REFERENCE='NON_REGRESSION',VALE= -4.1137E-01,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'FORC_NODA',  
                NOEUD = 'NO1',      
                NOM_CMP = 'DZ',   
                REFERENCE='NON_REGRESSION',VALE= -2.00705E-03,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'FORC_NODA',  
                NOEUD = 'NO1',      
                NOM_CMP = 'DRX',   
                REFERENCE='NON_REGRESSION',VALE= -1.4024E-03,       
                ),
                _F( 
                RESULTAT = RESU0,   
                NUME_ORDRE = 1,
                NOM_CHAM = 'FORC_NODA',  
                NOEUD = 'NO1',      
                NOM_CMP = 'DRY',   
                REFERENCE='NON_REGRESSION',VALE= 3.00514E-03,       
                ),)
              )

FIN()
#
#
