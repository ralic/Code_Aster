# MODIF  DATE 13/01/2011   AUTEUR PELLET J.PELLET 
# RESPONSABLE GNICOLAS G.NICOLAS
# TITRE validation des commandes DEFI_PARA_SENSI et MEMO_NOM_SENSI en MECA_STATIQUE
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2011  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
DEBUT(CODE=_F(NOM='SENSM01A',NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='NON'))
#
#          J                               OPPOSE
#           *-------------------------------*
#           !               !               !
#           !               !               !
#           !               !               !
#           !               * CENTRE        !
#           !               !               !
#           !               !               !
#           !               !               !
#           *-------------------------------*
#       ORIGINE                              I
#
#              1   < X < 11
#             -1.5 < Y <  1.5
#
#  Pas de chargement ==> solution analytique
#  U(CENTRE) = Moyenne de U(ORIGINE) ET U(OPPOSE)
#     U(CENTRE)x = 0.5 * ( U(ORIGINE)x + U(OPPOSE)x )
#     U(CENTRE)y = 0.5 * ( U(ORIGINE)y + U(OPPOSE)y )
#  Donc : Derivee de U(CENTRE)x / U(OPPOSE)x = 0.5
#         Derivee de U(CENTRE)x / U(OPPOSE)y = 0.0
#         Derivee de U(CENTRE)y / U(OPPOSE)x = 0.0
#         Derivee de U(CENTRE)y / U(OPPOSE)y = 0.5
#
#  Dans ce cas U(ORIGINE) = (0;0) et U(OPPOSE)  = (10;3)
#              ==> U(CENTRE)  = (5;1.5)
#
# 1. Definition des parametres sensibles
#
PSX=DEFI_PARA_SENSI(VALE=10.,);
PSY=DEFI_PARA_SENSI(VALE=3.,);
#
# 2. Prealable
#
MAILLAGE=LIRE_MAILLAGE();
#
# 2.1. Mise en place des materiaux
#
MAT=DEFI_MATERIAU( ELAS=_F(E=2.0E+5, NU=0.3, RHO=8.E-6, ALPHA=1.E-5),);
MATEMAIL=AFFE_MATERIAU(MAILLAGE=MAILLAGE,
                       AFFE=_F(TOUT='OUI',MATER=MAT,),);
#
# 2.2. Modele
#
MODEMECA=AFFE_MODELE(MAILLAGE=MAILLAGE,
                     AFFE=_F(TOUT='OUI',
                             PHENOMENE='MECANIQUE',
                             MODELISATION='D_PLAN',),);
#
# 2.3. Chargements
#
CH_0=AFFE_CHAR_MECA(MODELE=MODEMECA,
                    DDL_IMPO=_F(GROUP_NO='ORIGINE',DX=0.0,DY=0.0),);
#
CH_1=AFFE_CHAR_MECA_F(MODELE=MODEMECA,
                      DDL_IMPO=_F(GROUP_NO='OPPOSE',
                                   DX=PSX,DY=PSY,),);
#
# 3. Calcul
#
REMS=MECA_STATIQUE(MODELE=MODEMECA,
                   CHAM_MATER=MATEMAIL,
                   EXCIT=(_F(CHARGE=CH_0,),_F(CHARGE=CH_1,),),
                   SENSIBILITE=(PSX,PSY),
                  );

REMS = CALC_ELEM( reuse = REMS, RESULTAT = REMS,  OPTION = ('EPSI_ELNO_DEPL','SIGM_ELNO_DEPL') );
CALC_SENSI( reuse = REMS, RESULTAT = REMS, SENSIBILITE = (PSX,PSY) ,
                 OPTION = ('EPSI_ELNO_DEPL','SIGM_ELNO_DEPL','SIEF_ELGA',),
                 );


REMS = CALC_NO( reuse      =  REMS         ,
              RESULTAT   =  REMS         ,
              OPTION     = ('REAC_NODA',),
              );

CALC_SENSI( reuse = REMS,RESULTAT = REMS , SENSIBILITE = (PSX,PSY) ,
              OPTION     = ('REAC_NODA',),
              );


#
TEST_RESU(RESU=(
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          NOM_CHAM = 'DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-8,
          NOM_CMP = 'DX',    VALE = 5.00000E+00, REFERENCE = 'ANALYTIQUE' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          NOM_CHAM = 'DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-8,
          NOM_CMP = 'DY',    VALE = 1.50000E+00, REFERENCE = 'ANALYTIQUE' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSX),
          NOM_CHAM = 'DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-8,
          NOM_CMP = 'DX',    VALE = 0.500000E+00, REFERENCE = 'ANALYTIQUE' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSX),
          NOM_CHAM = 'DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'ABSOLU', PRECISION = 1.E-8,
          NOM_CMP = 'DY',    VALE = 0.000000E+00, REFERENCE = 'ANALYTIQUE' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSY),
          NOM_CHAM = 'DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'ABSOLU', PRECISION = 1.E-8,
          NOM_CMP = 'DX',    VALE = 0.000000E+00, REFERENCE = 'ANALYTIQUE' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSY),
          NOM_CHAM = 'DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-8,
          NOM_CMP = 'DY',    VALE = 0.500000E+00, REFERENCE = 'ANALYTIQUE' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          NOM_CHAM = 'EPSI_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'EPXX',    VALE = 4.91979E-01,
          REFERENCE = 'NON_REGRESSION' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSX),
          NOM_CHAM = 'EPSI_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'EPXX',    VALE = 4.5135689E-02,
          REFERENCE = 'AUTRE_ASTER' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSY),
          NOM_CHAM = 'EPSI_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'EPXX',    VALE = 1.3540707E-02,
          REFERENCE = 'AUTRE_ASTER' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          NOM_CHAM = 'EPSI_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'EPXY',    VALE = 2.182842868E-01,
          REFERENCE = 'NON_REGRESSION' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSX),
          NOM_CHAM = 'EPSI_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'EPXY',    VALE = 2.0026082E-02,
          REFERENCE = 'AUTRE_ASTER' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSY),
          NOM_CHAM = 'EPSI_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'EPXY',    VALE = 6.007825E-03,
          REFERENCE = 'AUTRE_ASTER' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          NOM_CHAM = 'EPSI_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'EPYY',    VALE = -2.0514236E-01,
          REFERENCE = 'NON_REGRESSION' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSX),
          NOM_CHAM = 'EPSI_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'EPYY',    VALE = -1.8820401E-02,
          REFERENCE = 'AUTRE_ASTER' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSY),
          NOM_CHAM = 'EPSI_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'EPYY',    VALE = -5.64612E-03,
          REFERENCE = 'AUTRE_ASTER' ),

     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          NOM_CHAM = 'SIGM_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'SIXX',    VALE = 1.087856155E+05,
          REFERENCE = 'NON_REGRESSION' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSX),
          NOM_CHAM = 'SIGM_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'SIXX',    VALE = 9.9803317E+03,
          REFERENCE = 'AUTRE_ASTER' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSY),
          NOM_CHAM = 'SIGM_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'SIXX',    VALE = 2.9940996E+03,
          REFERENCE = 'AUTRE_ASTER' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          NOM_CHAM = 'SIGM_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'SIXY',    VALE = 3.358219797E+04,
          REFERENCE = 'NON_REGRESSION' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSX),
          NOM_CHAM = 'SIGM_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'SIXY',    VALE = 3.0809356E+03,
          REFERENCE = 'AUTRE_ASTER' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSY),
          NOM_CHAM = 'SIGM_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'SIXY',    VALE = 9.2428068E+02,
          REFERENCE = 'AUTRE_ASTER' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          NOM_CHAM = 'SIGM_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'SIYY',    VALE = 1.53617269E+03,
          REFERENCE = 'NON_REGRESSION' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSX),
          NOM_CHAM = 'SIGM_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'SIYY',    VALE = 1.409332745E+02,
          REFERENCE = 'AUTRE_ASTER' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSY),
          NOM_CHAM = 'SIGM_ELNO_DEPL',   GROUP_NO = 'CENTRE',
          CRITERE = 'RELATIF', PRECISION = 1.E-6,MAILLE ='MA74',
          NOM_CMP = 'SIYY',    VALE = 4.22799826E+01,
          REFERENCE = 'AUTRE_ASTER' ),

     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSX),
          NOM_CHAM = 'REAC_NODA',   GROUP_NO = 'ORIGINE',
          CRITERE = 'RELATIF', PRECISION = 1.E-5,
          NOM_CMP = 'DX',    VALE = -2.6226E+04, REFERENCE = 'AUTRE_ASTER' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSX),
          NOM_CHAM = 'REAC_NODA',   GROUP_NO = 'ORIGINE',
          CRITERE = 'RELATIF', PRECISION = 1.E-5,
          NOM_CMP = 'DY',    VALE = -7.867846E+03, REFERENCE = 'AUTRE_ASTER' ),
     _F(  RESULTAT = REMS,   NUME_ORDRE = 1,
          SENSIBILITE=(PSY),
          NOM_CHAM = 'REAC_NODA',   GROUP_NO = 'ORIGINE',
          CRITERE = 'RELATIF', PRECISION = 1.E-5,
          NOM_CMP = 'DX',    VALE = -7.867845E+03, REFERENCE = 'AUTRE_ASTER' ),


        ),);
#
FIN();
