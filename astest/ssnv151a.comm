# MODIF  DATE 28/03/2007   AUTEUR PELLET J.PELLET 
# TITRE COMPRESSION/TRACTION EN 3D - COMPORTEMENT BETON_DOUBLE_DP
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
#----------------------------------------------------------------------
#   TEST MODELE BETON_DOUBLE_DP 3D (DOUBLE CRITERE DE DRUCKER PRAGER)
#   EN DEPLACEMENT IMPOSE, SANS RESULTATS DE REFERENCE.
#   ESSAI EN COMPRESSION PUIS TRACTION/COMPRESSION
#   TEST DE PROJECTION AUX SOMMETS DES CONES DE TRACTION ET COMPRESSION
#----------------------------------------------------------------------
#                ELEMENT 3D CUBE A 8 NOEUDS
#              ETAT HOMOGENE CONTRAINTE DEFORMATION
#       UNITES : NEWTON , MILLIMETRE , SECONDE (N,MM,S,->MPA)
#
#
#               Z       A                     A = 1 MM
#               L<------------->                      2
#                                             S = 1 MM
#                / N5            N8
#              >O--------------O
#              /L             /L
#         N6  / L         N7 / L
#           >O--+-----------O  L
#            L  L           L  L
#            L  L     S     L  L
#            L  L           L  L
#            L  L/ N1       L  L N4
#            L >O-----------L--O-> Y
#            L /V           L /
#         N2 L/          N3 L/
#           >O--------------O
#
#          /
#         X
#
#
#----------------------------------------------------------------------
#
DEBUT(     CODE=_F( NOM = 'SSNV151A',NIV_PUB_WEB='INTERNET') )

CUBE=LIRE_MAILLAGE(    )

TROISD=AFFE_MODELE(        MAILLAGE=CUBE,
                                 AFFE=_F(  PHENOMENE = 'MECANIQUE',
                                        MODELISATION = '3D',
                                        GROUP_MA = ('CUBE', 'FACEXY',
                               'FACE1XY', 'FACEXZ', 'FACE1XZ', 'FACEYZ', 'FACE1YZ',))
                        )

E=DEFI_FONCTION(   NOM_PARA='TEMP',  PROL_DROITE='LINEAIRE',
                                          PROL_GAUCHE='LINEAIRE',
                        VALE=(   0.E0,      37000.,
                                20.E0,      37000., )
                      )

NU=DEFI_FONCTION(   NOM_PARA='SECH',  PROL_DROITE='LINEAIRE',
                                         PROL_GAUCHE='LINEAIRE',
                        VALE=(   0.E0,      .18,
                               20.E0,      .18, )
                      )

ALPHA=DEFI_FONCTION(   NOM_PARA='TEMP',  PROL_DROITE='LINEAIRE',
                                         PROL_GAUCHE='LINEAIRE',
                        VALE=(   0.E0,      1.E-5,
                                20.E0,      1.E-5,)
                     )

FC=DEFI_FONCTION(   NOM_PARA='TEMP',  PROL_DROITE='LINEAIRE',
                                         PROL_GAUCHE='LINEAIRE',
                        VALE=(   0.E0,      40.,
                                20.E0,      40., )
                      )

FT=DEFI_FONCTION(   NOM_PARA='TEMP',  PROL_DROITE='LINEAIRE',
                                         PROL_GAUCHE='LINEAIRE',
                        VALE=(   0.E0,      4.,
                                20.E0,      4., )
                      )

BETA=DEFI_FONCTION(   NOM_PARA='TEMP',  PROL_DROITE='LINEAIRE',
                                         PROL_GAUCHE='LINEAIRE',
                        VALE=(   0.E0,      1.16,
                                20.E0,      1.16, )
                      )

GC=DEFI_FONCTION(   NOM_PARA='TEMP',  PROL_DROITE='LINEAIRE',
                                        PROL_GAUCHE='LINEAIRE',
                        VALE=(   0.E0,      10.,
                                20.E0,      10., )
                      )

GT=DEFI_FONCTION(   NOM_PARA='TEMP',  PROL_DROITE='LINEAIRE',
                                         PROL_GAUCHE='LINEAIRE',
                        VALE=(   0.E0,      0.100,
                                20.E0,      0.100, )
                      )

BETON=DEFI_MATERIAU(           ELAS_FO=_F( E = E,
                                           NU = NU,
                                           K_DESSIC = 1.E-5,
                                           ALPHA = ALPHA,
                                           TEMP_DEF_ALPHA=0.0),
                          BETON_DOUBLE_DP=_F( F_C = FC,
                                           F_T = FT,
                                           COEF_BIAX = BETA,
                                           ENER_COMP_RUPT = GC,
                                           ENER_TRAC_RUPT = GT,
                                           COEF_ELAS_COMP = 33.33333333,
                                           ECRO_COMP_P_PIC = 'LINEAIRE',
                                           ECRO_TRAC_P_PIC = 'LINEAIRE',
                                           LONG_CARA = 1.4142136)
                             )

CHTEMP1=CREA_CHAMP( OPERATION='AFFE', TYPE_CHAM='NOEU_TEMP_R', 
                     MAILLAGE=CUBE,
                         AFFE=_F( NOM_CMP = 'TEMP',
                               TOUT = 'OUI',
                               VALE = 20.0)
                              )

CHTEMP2=CREA_CHAMP( OPERATION='AFFE', TYPE_CHAM='NOEU_TEMP_R', 
                     MAILLAGE=CUBE,
                         AFFE=_F( NOM_CMP = 'TEMP',
                               TOUT = 'OUI',
                               VALE = 0.0)
                              )
TEMP=CREA_RESU(  OPERATION='AFFE', TYPE_RESU='EVOL_THER',
                    NOM_CHAM='TEMP',AFFE=(
                     _F(  INST = 0.,   CHAM_GD = CHTEMP2),
                     _F(  INST = 2.,  CHAM_GD = CHTEMP1))
                  )

SECH=CREA_RESU(  OPERATION='AFFE', TYPE_RESU='EVOL_THER',
                    NOM_CHAM='TEMP',AFFE=(
                     _F(  INST = 0.,  CHAM_GD = CHTEMP1),
                     _F(  INST = 2.,  CHAM_GD = CHTEMP2))
                  )

MATBET=AFFE_MATERIAU(           MAILLAGE=CUBE,
                                    AFFE=_F(  GROUP_MA = 'CUBE',
                                              MATER    = BETON),
                                    AFFE_VARC=(_F(TOUT='OUI',
                                                 EVOL=SECH,
                                                 NOM_VARC='SECH',
                                                 NOM_CHAM='TEMP',
                                                 VALE_REF=20),
                                              _F(TOUT='OUI',
                                                 EVOL=TEMP,
                                                 NOM_VARC='TEMP',
                                                 NOM_CHAM='TEMP',
                                                 VALE_REF=0),),
                         )


COND_LIM=AFFE_CHAR_MECA(   
                      MODELE=TROISD,
               DDL_IMPO=(
                    _F(  GROUP_NO = 'FACEXY',  DZ = 0.),
                    _F(  GROUP_NO = 'FACEYZ',  DX = 0.),
                    _F(  GROUP_NO = 'FACEXZ',  DY = 0.))
                             )

TRAC=AFFE_CHAR_MECA(   
                      MODELE=TROISD,
                    DDL_IMPO=_F(  GROUP_NO = 'FACE1XZ',  DY = -0.2)
                            )

TRAC2=AFFE_CHAR_MECA(   
                      MODELE=TROISD,DDL_IMPO=(
                    _F(  GROUP_NO = 'FACE1XY',  DZ = 0.2),
                    _F(  GROUP_NO = 'FACE1YZ',  DX = 0.2))
                            )

LINST=DEFI_LIST_REEL(              DEBUT=0.,INTERVALLE=(
                             
                           _F(  JUSQU_A = 0.01,  NOMBRE = 1),
                           _F(  JUSQU_A = 0.1,   NOMBRE = 1),
                           _F(  JUSQU_A = 1.,    NOMBRE = 2),
                           _F(  JUSQU_A = 1.715, NOMBRE = 1),
                           _F(  JUSQU_A = 1.765, NOMBRE = 5),
                           _F(  JUSQU_A = 1.8,   NOMBRE = 1),
                           _F(  JUSQU_A = 2.,    NOMBRE = 2))
                         )

COEF_TR=DEFI_FONCTION( 
                              NOM_PARA='INST',
                                  VALE=(   0.000,   0.000,
                                           1.715,   1.715,
                                           1.725,   1.725,
                                           2.000,   2.000,  )
                        )

COEF_TR2=DEFI_FONCTION( 
                              NOM_PARA='INST',
                                  VALE=(   0.000,   0.000,
                                           1.715,   0.000,
                                           1.725,   0.010,
                                           2.000,   0.500,  )
                        )

SOLNL=STAT_NON_LINE( 
                             TITRE='TEST LOI BETON_DOUBLE_DP',
                            MODELE=TROISD,EXCIT=(
                             _F( 
                CHARGE = COND_LIM),
                             _F( 
                CHARGE = TRAC,
                FONC_MULT = COEF_TR)),
                         INCREMENT=_F( 
                LIST_INST = LINST,
                INST_FIN = 1.715),
                        CHAM_MATER=MATBET,
                         COMP_INCR=_F( 
                RELATION = 'BETON_DOUBLE_DP',
                DEFORMATION = 'PETIT',
                ITER_INTE_MAXI = 10,
                ITER_INTE_PAS = 0,
                RESI_INTE_RELA = 1.E-8,
                TOUT = 'OUI'),
                            NEWTON=_F( 
                MATRICE = 'TANGENTE',
                REAC_INCR = 1,
                REAC_ITER = 5),
                       CONVERGENCE=_F( 
                ITER_GLOB_MAXI = 20,
                RESI_GLOB_RELA = 1.E-6,)
              )

SOLNL=STAT_NON_LINE( reuse=SOLNL,
                             TITRE='TEST LOI BETON_DOUBLE_DP',
                            MODELE=TROISD,EXCIT=(
                             _F( 
                CHARGE = COND_LIM),
                             _F( 
                CHARGE = TRAC,
                FONC_MULT = COEF_TR),
                             _F( 
                CHARGE = TRAC2,
                FONC_MULT = COEF_TR2,
                TYPE_CHARGE = 'DIDI')),
                         ETAT_INIT=_F( 
                EVOL_NOLI = SOLNL,
                INST = 1.715),  
                         INCREMENT=_F( 
                LIST_INST = LINST,
                INST_INIT = 1.715),
                        CHAM_MATER=MATBET,
                         COMP_INCR=_F( 
                RELATION = 'BETON_DOUBLE_DP',
                DEFORMATION = 'PETIT',
                ITER_INTE_MAXI = 10,
                ITER_INTE_PAS = 0,
                RESI_INTE_RELA = 1.E-8,
                TOUT = 'OUI'),
                            NEWTON=_F( 
                MATRICE = 'TANGENTE',
                REAC_INCR = 1,
                REAC_ITER = 1),
                       CONVERGENCE=_F( 
                ITER_GLOB_MAXI = 20,
                RESI_GLOB_RELA = 1.E-6,)
              )

SOLNL=CALC_ELEM(     reuse=SOLNL,          
                                   OPTION=('VARI_ELNO_ELGA',
                                           'SIEF_ELNO_ELGA', ),
                                 RESULTAT=SOLNL )

TEST_RESU(RESU=(
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'SIEF_ELNO_ELGA', INST = 1.000,
         NOM_CMP = 'SIYY',  MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-8,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = -1.7445970379324E+01),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO_ELGA', INST = 1.000,
         NOM_CMP = 'V1',    MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-8,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 1.9952848728705E-01),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO_ELGA', INST = 1.000,
         NOM_CMP = 'V4',    MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-8,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 1.))
         )

TEST_RESU(RESU=(
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'SIEF_ELNO_ELGA', INST = 1.725,
         NOM_CMP = 'SIYY',  MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-8,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 2.5737848954806E+00),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'SIEF_ELNO_ELGA', INST = 1.725,
         NOM_CMP = 'SIXX',  MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-8,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 2.5737848954806E+00),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO_ELGA', INST = 1.725,
         NOM_CMP = 'V1',    MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-8,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 3.4296989598719E-01),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO_ELGA', INST = 1.725,
         NOM_CMP = 'V2',    MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-8,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 1.2314499095035E-03),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO_ELGA', INST = 1.725,
         NOM_CMP = 'V4',    MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-8,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 22.))
         )

TEST_RESU(RESU=(
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'SIEF_ELNO_ELGA', INST = 1.800,
         NOM_CMP = 'SIYY',  MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-8,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 6.7674458325588E-01),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'SIEF_ELNO_ELGA', INST = 1.800,
         NOM_CMP = 'SIXX',  MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-8,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 6.7674458325588E-01),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO_ELGA', INST = 1.800,
         NOM_CMP = 'V1',    MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-8,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 3.4496565007972E-01),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO_ELGA', INST = 1.800,
         NOM_CMP = 'V2',    MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-8,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 2.6382888033288E-02),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO_ELGA', INST = 1.800,
         NOM_CMP = 'V4',    MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-8,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 22.))
         )

TEST_RESU(RESU=(
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'SIEF_ELNO_ELGA', INST = 2.000,
         NOM_CMP = 'SIYY',  MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-5,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = -3.6229884000837E-05),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'SIEF_ELNO_ELGA', INST = 2.000,
         NOM_CMP = 'SIXX',  MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-5,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 2.6666667196947E-06),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO_ELGA', INST = 2.000,
         NOM_CMP = 'V1',    MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-5,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 3.8495394322234E-01),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO_ELGA', INST = 2.000,
         NOM_CMP = 'V2',    MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-5,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 8.3738683176989E-02),
  _F(  RESULTAT = SOLNL,  NOM_CHAM = 'VARI_ELNO_ELGA', INST = 2.000,
         NOM_CMP = 'V4',    MAILLE = 'MA1',              NOEUD = 'N1',
         PRECISION = 1.E-5,  REFERENCE = 'NON_REGRESSION',  
         VERSION = '7.2.25',CRITERE='ABSOLU',
         VALE = 3.))
         )

FIN()
