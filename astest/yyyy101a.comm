# MODIF  DATE 09/05/2007   AUTEUR REZETTE C.REZETTE 
# TITRE THERMO-PLASTICITE EN TRACTION SIMPLE
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
# TEST DE PERFORMANCE ANCIENNEMENT NOMME HSNV110A


DEBUT( CODE=_F( NOM = 'YYYY101A',NIV_PUB_WEB='INTERNET')  )

MAIL=LIRE_MAILLAGE( )

#
# DONNEES DE MODELISATION
#

FCT1=DEFI_FONCTION(   NOM_PARA='EPSI',  PROL_DROITE='LINEAIRE',
                                          PROL_GAUCHE='LINEAIRE',
                       VALE=(
                             0.200E-2,      400.,
                             0.400E-2,      500.,)
                                                    )

#

FCT2=DEFI_FONCTION(   NOM_PARA='EPSI',  PROL_DROITE='LINEAIRE',
                                          PROL_GAUCHE='LINEAIRE',
                       VALE=(
                             0.100E-2,      200.,
                             0.300E-2,      300.,)
                                                    )

#

CTRACB=DEFI_NAPPE(   NOM_PARA='TEMP',  PROL_DROITE='LINEAIRE',
                                         PROL_GAUCHE='LINEAIRE',
                           PARA=(0.,50.,),
                           FONCTION=(FCT1,FCT2,)            )

#

MAT=DEFI_MATERIAU( 
          THER=_F( RHO_CP = 0.0E-3,LAMBDA = 1.0E-3),
          ELAS=_F( E = 200.E+3, NU = .3,ALPHA = 10.0E-6),
           TRACTION=_F( SIGM = CTRACB)                                 )

#

CM=AFFE_MATERIAU( 
            MAILLAGE=MAIL,
          AFFE=_F( TOUT = 'OUI',MATER = MAT,TEMP_REF = 0.)
                                                )

#

T0=CREA_CHAMP( OPERATION='AFFE', TYPE_CHAM='NOEU_TEMP_R', MAILLAGE=MAIL,
                        AFFE=_F( TOUT = 'OUI', NOM_CMP = 'TEMP',
                              VALE = 0.0)                 )

L_INST=DEFI_LIST_REEL( 
               DEBUT=0.,INTERVALLE=(
           _F( JUSQU_A = 66.666E0,   NOMBRE = 1),
                      _F( JUSQU_A = 80.000E0,   NOMBRE = 1),
                      _F( JUSQU_A = 90.000E0,   NOMBRE = 1))
         )

L_INST2=DEFI_LIST_REEL( 
               DEBUT=0.,INTERVALLE=(
           _F( JUSQU_A = 66.666E0,   NOMBRE = 1),
                      _F( JUSQU_A = 80.000E0,   NOMBRE = 4),
                      _F( JUSQU_A = 90.000E0,   NOMBRE = 5))
         )

#

TIMPVAR=DEFI_FONCTION(  
                             NOM_PARA='INST',  NOM_RESU='TEMP',
                             VALE=(  0.E0,   0.E0,
                                  100.E0, 100.E0,)
                                             )

#

MOTHER=AFFE_MODELE(  MAILLAGE=MAIL,
         AFFE=_F( TOUT = 'OUI', MODELISATION = 'AXIS', PHENOMENE = 'THERMIQUE'))

#

MOMECA=AFFE_MODELE(  MAILLAGE=MAIL,
         AFFE=_F( TOUT = 'OUI', MODELISATION = 'AXIS', PHENOMENE = 'MECANIQUE'))

#

CHTHER=AFFE_CHAR_THER_F(    MODELE=MOTHER,TEMP_IMPO=(
                            _F( GROUP_NO = 'GRNM1',  TEMP = TIMPVAR),
                            _F( GROUP_NO = 'GRNO2',  TEMP = TIMPVAR),
                            _F( GROUP_NO = 'GRNM3',  TEMP = TIMPVAR),
                            _F( GROUP_NO = 'GRNO4',  TEMP = TIMPVAR))
                          )

#

TEMPE=THER_LINEAIRE(  MODELE=MOTHER,   CHAM_MATER=CM,
                   EXCIT=_F( CHARGE = CHTHER),
                   TEMP_INIT=_F( CHAM_NO = T0),
                   INCREMENT=_F( LIST_INST = L_INST),
                     SOLVEUR=_F( METHODE = 'LDLT',   RENUM = 'RCMK')
                        )

CHMECA=AFFE_CHAR_MECA( 
            MODELE=MOMECA,DDL_IMPO=(
           _F( GROUP_NO = 'GRNM1',  DY = 0.),
           _F( GROUP_NO = 'GRNM3',  DY = 0.)),)

CTM=AFFE_MATERIAU( 
            MAILLAGE=MAIL,
          AFFE=_F( TOUT = 'OUI',MATER = MAT,),
          AFFE_VARC=_F( TOUT='OUI',EVOL=TEMPE,
                        NOM_VARC='TEMP',NOM_CHAM='TEMP',
                        VALE_REF = 0.0),)


U=STAT_NON_LINE( 
                            MODELE=MOMECA,
                        CHAM_MATER=CTM,
                             EXCIT=_F( 
                CHARGE = CHMECA),
                         COMP_INCR=_F( 
                RELATION = 'VMIS_ISOT_TRAC'),
                            NEWTON=_F( 
                MATRICE = 'TANGENTE'),
                         INCREMENT=_F( 
                LIST_INST = L_INST2),
                       CONVERGENCE=_F( 
                RESI_GLOB_RELA = 1.E-9,
                ITER_GLOB_MAXI = 30),
                           SOLVEUR=_F( 
                METHODE = 'LDLT',
                RENUM = 'RCMK')
              )

U=CALC_ELEM( reuse=U,
                            OPTION=(
                  'SIEF_ELNO_ELGA',  'VARI_ELNO_ELGA',),
                          RESULTAT=U,
              )

CHU1=CREA_CHAMP( OPERATION='EXTR', TYPE_CHAM='NOEU_DEPL_R',
RESULTAT=U, NOM_CHAM='DEPL', NUME_ORDRE=5)

TEST_RESU(
  CHAM_NO=_F( CHAM_GD = CHU1, NOEUD = 'N12',    NOM_CMP = 'DX',
  VALE = 1.375E-3,               PRECISION = 1.E-3)
)

FIN()
#
