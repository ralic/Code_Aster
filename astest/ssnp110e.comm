# MODIF  DATE 21/06/2011   AUTEUR MACOCCO K.MACOCCO 
# TITRE  FISSURE DE BORD EN ELASTOPLASTICITE DANS UNE PLAQUE RECTANGULAIRE FINIE SOUMISE A FLEXION CISAILLANTE - EX SSNP310
# ssnp110e.para = tps_job 100 mem_job 128Mo ncpus 1 liste_test R
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2011  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY  
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY  
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR     
# (AT YOUR OPTION) ANY LATER VERSION.                                                    
#                                                                       
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT   
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF            
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU      
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                              
#                                                                       
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE     
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,         
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.        
# ======================================================================

DEBUT( CODE=_F( NOM = 'SSNP110E',NIV_PUB_WEB='INTERNET'))

MA=LIRE_MAILLAGE(VERI_MAIL=_F(VERIF='OUI'), )

MO=AFFE_MODELE(MAILLAGE=MA, 
               AFFE=_F( TOUT = 'OUI',
                        PHENOMENE = 'MECANIQUE',
                        MODELISATION = 'D_PLAN'))



# DEFINITION DU MATERIAU "DE REFERENCE" (ECROUISSAGE LINEAIRE)

E=2.0601E5
ET=E/3.

MAT=DEFI_MATERIAU(ELAS=_F(E = E, NU = 0.3, ),
                  ECRO_LINE=_F(  D_SIGM_EPSI = ET, SY = 808.344)
                         )

CHMAT=AFFE_MATERIAU(  MAILLAGE=MA,AFFE=_F(  TOUT = 'OUI',MATER = MAT))

MA=DEFI_GROUP( reuse=MA,   MAILLAGE=MA, 
                     CREA_GROUP_NO=(_F(GROUP_MA = ( 'LPOP11',  'LPOP8', 'LP9P10', )),
                                    _F(NOM = 'NTEST',
                                       OPTION='ENV_SPHERE',
                                       POINT=(-6., 0.),
                                       PRECISION=0.0001,
                                       RAYON=0.0001),),
                )

CL=AFFE_CHAR_MECA(  MODELE=MO, 
            DDL_IMPO=(_F(  GROUP_NO = 'LPOP11', DY = 0.,),
                      _F(  GROUP_NO = 'PB', DX = 0.),),)

CH=AFFE_CHAR_MECA(  MODELE=MO, 
            DDL_IMPO=_F(  GROUP_NO = 'LP9P10', DY = 1.),)
            
RAMPE=DEFI_FONCTION(  NOM_PARA='INST',
                        VALE=(0.,0.,1.,1.,),
                        PROL_DROITE='LINEAIRE'
                      )

L_INST=DEFI_LIST_REEL(DEBUT=0.,
                      INTERVALLE=_F( JUSQU_A = 0.2,  NOMBRE = 10)
                        )


# DEFINITION DE LA COURONNE
# -------------------------

FOND=DEFI_FOND_FISS(    MAILLAGE=MA,
                           FOND_FISS=_F( GROUP_NO = ('P0',)),
                           NORMALE=(0., 1., 0.,)
                      )

THETA0=CALC_THETA(    MODELE=MO,
                        THETA_2D=_F(  GROUP_NO = ('P0',),
                                   MODULE = 1.,
                                   R_INF = 0.15,
                                   R_SUP = 0.6),
                                     DIRECTION=(1., 0., 0.,)
                     )


# CALCUL SERVANT DE REFERENCE


CHAMDEP=STAT_NON_LINE( MODELE=MO,
                       CHAM_MATER=CHMAT,
                       EXCIT=(_F(CHARGE = CL), 
                              _F(CHARGE = CH,
                                 FONC_MULT = RAMPE)),
                       COMP_ELAS=_F(RELATION = 'ELAS_VMIS_LINE',
                                    DEFORMATION = 'PETIT'),
                       INCREMENT=_F(LIST_INST = L_INST,),
                       NEWTON=_F(MATRICE = 'TANGENTE',
                                 REAC_ITER = 1),
                       CONVERGENCE=_F(RESI_GLOB_RELA = 1.E-5),
                       SOLVEUR=_F(METHODE = 'MULT_FRONT'),
                       ARCHIVAGE = _F(LIST_INST=L_INST,),
    
                     );

G_0=CALC_G( THETA=_F(THETA=THETA0),
            RESULTAT=CHAMDEP,
            TOUT_ORDRE='OUI',SYME_CHAR='SYME',
            COMP_ELAS=_F(RELATION='ELAS_VMIS_LINE',),
            );


# TEST DE REFERENCE SERVANT DE COMPARAISON AU CALCUL QUI SUIT

TEST_TABLE(TABLE=G_0,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 1),
           NOM_PARA='G',
           VALE=3.5947962514067E+00,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 2),
           NOM_PARA='G',
           VALE=1.4470868422635E+01,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 3),
           NOM_PARA='G',
           VALE=3.2883208951196E+01,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 4),
           NOM_PARA='G',
           VALE=5.9422747569594E+01,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 5),
           NOM_PARA='G',
           VALE=9.4500399710622E+01,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 6),
           NOM_PARA='G',
           VALE=1.3498261114276E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 7),
           NOM_PARA='G',
           VALE=1.7895209819449E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 8),
           NOM_PARA='G',
           VALE=2.2623585323115E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 9),
           NOM_PARA='G',
           VALE=2.7647167518089E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 10),
           NOM_PARA='G',
           VALE=3.2960677792299E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

# VALIDATION DE LA LOI ELAS_VMIS_TRAC AVEC CALC_G


#################"

eps1 = 808.344 / 2.0601E5
eps2 = 8.e-3
TRAC1=DEFI_FONCTION(       NOM_PARA='EPSI',
                                     VALE=(eps1, 808.344 ,
                                           eps2, 808.344+ET*(eps2-eps1),
                                          ),
                              PROL_DROITE='LINEAIRE'
                         )

#
MAT2=DEFI_MATERIAU(       ELAS=_F(E = 2.0601E5, NU = 0.3, ),
                               TRACTION=_F(  SIGM = TRAC1)
                           )


CHMAT2=AFFE_MATERIAU(  MAILLAGE=MA,AFFE=_F(  TOUT = 'OUI',MATER = MAT2))

CHAMDEP2=STAT_NON_LINE( MODELE=MO,
                       CHAM_MATER=CHMAT2,
                       EXCIT=(_F(CHARGE = CL), 
                              _F(CHARGE = CH,
                                 FONC_MULT = RAMPE)),
                       COMP_ELAS=_F(RELATION = 'ELAS_VMIS_TRAC',
                                    DEFORMATION = 'PETIT'),
                       INCREMENT=_F(LIST_INST = L_INST,),
                       NEWTON=_F(MATRICE = 'TANGENTE',
                                 REAC_ITER = 1),
                       CONVERGENCE=_F(RESI_GLOB_RELA = 1.E-5),
                       SOLVEUR=_F(METHODE = 'MULT_FRONT'),
                       ARCHIVAGE = _F(LIST_INST=L_INST,),
    
                     );

G_0_2=CALC_G( THETA=_F(THETA=THETA0),
            RESULTAT=CHAMDEP2,
            TOUT_ORDRE='OUI',SYME_CHAR='SYME',
            COMP_ELAS=_F(RELATION='ELAS_VMIS_TRAC',),
            );

# TEST DE LA LOI DE COMPORTEMENT ELAS_VMIS_PUIS DANS CALC_G

TEST_TABLE(TABLE=G_0_2,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 1),
           NOM_PARA='G',
           VALE=3.5947962514067E+00,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_2,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 2),
           NOM_PARA='G',
           VALE=1.4470868422635E+01,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_2,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 3),
           NOM_PARA='G',
           VALE=3.2883208951196E+01,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_2,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 4),
           NOM_PARA='G',
           VALE=5.9422747569594E+01,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_2,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 5),
           NOM_PARA='G',
           VALE=9.4500399710622E+01,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_2,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 6),
           NOM_PARA='G',
           VALE=1.3498261114276E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_2,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 7),
           NOM_PARA='G',
           VALE=1.7895209819449E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_2,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 8),
           NOM_PARA='G',
           VALE=2.2623585323115E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_2,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 9),
           NOM_PARA='G',
           VALE=2.7647167518089E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_2,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 10),
           NOM_PARA='G',
           VALE=3.2960677792299E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

# CALCUL AVEC ELAS_VMIS_PUIS

MAT3=DEFI_MATERIAU(       ELAS=_F(E = 2.0601E5, NU = 0.3,),
                              ECRO_PUIS=_F(A_PUIS=2.,
                                 N_PUIS=1.,
                                 SY=808.344,
                                 )
                           )


CHMAT3=AFFE_MATERIAU(  MAILLAGE=MA,AFFE=_F(  TOUT = 'OUI',MATER = MAT3))

CHAMDEP3=STAT_NON_LINE( MODELE=MO,
                       CHAM_MATER=CHMAT3,
                       EXCIT=(_F(CHARGE = CL), 
                              _F(CHARGE = CH,
                                 FONC_MULT = RAMPE)),
                       COMP_ELAS=_F(RELATION = 'ELAS_VMIS_PUIS',
                                    DEFORMATION = 'PETIT'),
                       INCREMENT=_F(LIST_INST = L_INST,),
                       NEWTON=_F(MATRICE = 'TANGENTE',
                                 REAC_ITER = 1),
                       CONVERGENCE=_F(RESI_GLOB_RELA = 1.E-5),
                       SOLVEUR=_F(METHODE = 'MULT_FRONT'),
                       ARCHIVAGE = _F(LIST_INST=L_INST,),
    
                     );

###########################

#################"


G_0_3=CALC_G( THETA=_F(THETA=THETA0),
            RESULTAT=CHAMDEP3,
            TOUT_ORDRE='OUI',SYME_CHAR='SYME',
            COMP_ELAS=_F(RELATION='ELAS_VMIS_PUIS',),
            );

# TEST DE LA LOI DE COMPORTEMENT ELAS_VMIS_PUIS DANS CALC_G

TEST_TABLE(TABLE=G_0_3,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 1),
           NOM_PARA='G',
           VALE=3.5947962514067E+00,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_3,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 2),
           NOM_PARA='G',
           VALE=1.4470868422635E+01,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_3,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 3),
           NOM_PARA='G',
           VALE=3.2883208951196E+01,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_3,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 4),
           NOM_PARA='G',
           VALE=5.9422747569594E+01,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_3,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 5),
           NOM_PARA='G',
           VALE=9.4500399710622E+01,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_3,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 6),
           NOM_PARA='G',
           VALE=1.3498261114276E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_3,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 7),
           NOM_PARA='G',
           VALE=1.7895209819449E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_3,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 8),
           NOM_PARA='G',
           VALE=2.2623585323115E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_3,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 9),
           NOM_PARA='G',
           VALE=2.7647167518089E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_3,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 10),
           NOM_PARA='G',
           VALE=3.2960677792299E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)



# CALCUL ELAS_VMIS_TRAC AVEC UNE COURBE EN PUISSANCE (POUR COMPARER AVEC LE
# DERNIER CALCUL) 

APUI=2.
NPUI=1.8
SY=808.344

SIGM = FORMULE(VALE='SY+SY*(E*p/APUI/SY)**(1./NPUI)',
              NOM_PARA='p',);

Lx=DEFI_LIST_REEL(DEBUT=0,
                  INTERVALLE=_F(JUSQU_A=1.,
                                PAS=0.0001,),);


SIGM2=CALC_FONC_INTERP(FONCTION=SIGM,
                      LIST_PARA=Lx,
                      NOM_PARA='p',);

T1=CREA_TABLE(FONCTION=_F(FONCTION=SIGM2,PARA=('p','SIGM')))

EPSI = FORMULE(VALE='p+SIGM/E',
              NOM_PARA=('p','SIGM'),);
              
T1 = CALC_TABLE(reuse=T1,TABLE = T1,
ACTION = _F (OPERATION = 'OPER',FORMULE = EPSI,
                     NOM_PARA = ('EPSI')))

TRAC2=RECU_FONCTION(TABLE=T1,PARA_X='EPSI',PARA_Y='SIGM')


#
MAT4=DEFI_MATERIAU(       ELAS=_F(E = 2.0601E5, NU = 0.3),
                               TRACTION=_F(  SIGM = TRAC2)
                           )

CHMAT4=AFFE_MATERIAU(  MAILLAGE=MA,AFFE=_F(  TOUT = 'OUI',MATER = MAT4))

CHAMDEP4=STAT_NON_LINE( MODELE=MO,
                       CHAM_MATER=CHMAT4,
                       EXCIT=(_F(CHARGE = CL), 
                              _F(CHARGE = CH,
                                 FONC_MULT = RAMPE)),
                       COMP_ELAS=_F(RELATION = 'ELAS_VMIS_TRAC',
                                    DEFORMATION = 'PETIT'),
                       INCREMENT=_F(LIST_INST = L_INST,),
                       NEWTON=_F(MATRICE = 'TANGENTE',
                                 REAC_ITER = 1),
                       CONVERGENCE=_F(RESI_GLOB_RELA = 1.E-5),
                       SOLVEUR=_F(METHODE = 'MULT_FRONT'),
                       ARCHIVAGE = _F(LIST_INST=L_INST,),
    
                     );

###########################

#################"


G_0_4=CALC_G( THETA=_F(THETA=THETA0),
            RESULTAT=CHAMDEP4,
            TOUT_ORDRE='OUI',SYME_CHAR='SYME',
            COMP_ELAS=_F(RELATION='ELAS_VMIS_TRAC',),
            );

# TEST DE LA LOI DE COMPORTEMENT ELAS_VMIS_PUIS DANS CALC_G

TEST_TABLE(TABLE=G_0_4,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 1),
           NOM_PARA='G',
           VALE=3.5912927278362E+00,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0_4,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 2),
           NOM_PARA='G',
           VALE=1.4444141788733E+01,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0_4,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 3),
           NOM_PARA='G',
           VALE=3.2761550138719E+01,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0_4,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 4),
           NOM_PARA='G',
           VALE=5.8991063873791E+01,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0_4,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 5),
           NOM_PARA='G',
           VALE=9.3763266517032E+01,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0_4,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 6),
           NOM_PARA='G',
           VALE=1.3613880913660E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0_4,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 7),
           NOM_PARA='G',
           VALE=1.8403472768248E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0_4,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 8),
           NOM_PARA='G',
           VALE=2.3631025653780E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0_4,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 9),
           NOM_PARA='G',
           VALE=2.9238439111914E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0_4,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 10),
           NOM_PARA='G',
           VALE=3.5182239283614E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

# CALCUL AVEC LA LOI ELAS_VMIS_PUIS DE NON REGRESSION ( VALIDATION INFORMATIQUE
# DE LA LOI GENERALE ) 


MAT5=DEFI_MATERIAU(       ELAS=_F(E = 2.0601E5, NU = 0.3,),
                              ECRO_PUIS=_F(A_PUIS=APUI,
                                 N_PUIS=NPUI,
                                 SY=SY,
                                 )
                           )


CHMAT5=AFFE_MATERIAU(  MAILLAGE=MA,AFFE=_F(  TOUT = 'OUI',MATER = MAT5))

CHAMDEP5=STAT_NON_LINE( MODELE=MO,
                       CHAM_MATER=CHMAT5,
                       EXCIT=(_F(CHARGE = CL), 
                              _F(CHARGE = CH,
                                 FONC_MULT = RAMPE)),
                       COMP_ELAS=_F(RELATION = 'ELAS_VMIS_PUIS',
                                    DEFORMATION = 'PETIT'),
                       INCREMENT=_F(LIST_INST = L_INST,),
                       NEWTON=_F(MATRICE = 'TANGENTE',
                                 REAC_ITER = 1),
                       CONVERGENCE=_F(RESI_GLOB_RELA = 1.E-5),
                       SOLVEUR=_F(METHODE = 'MULT_FRONT'),
                       ARCHIVAGE = _F(LIST_INST=L_INST,),
    
                     );

###########################

#################"


G_0_5=CALC_G( THETA=_F(THETA=THETA0),
            RESULTAT=CHAMDEP5,
            TOUT_ORDRE='OUI',SYME_CHAR='SYME',
            COMP_ELAS=_F(RELATION='ELAS_VMIS_PUIS',),
            );

# TEST DE LA LOI DE COMPORTEMENT ELAS_VMIS_PUIS DANS CALC_G


TEST_TABLE(TABLE=G_0_5,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 1),
           NOM_PARA='G',
           VALE=3.5912927278362E+00,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_5,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 2),
           NOM_PARA='G',
           VALE=1.4444141788733E+01,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_5,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 3),
           NOM_PARA='G',
           VALE=3.2761550138719E+01,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_5,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 4),
           NOM_PARA='G',
           VALE=5.8991063873791E+01,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_5,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 5),
           NOM_PARA='G',
           VALE=9.3763266517032E+01,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_5,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 6),
           NOM_PARA='G',
           VALE=1.3613880913660E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_5,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 7),
           NOM_PARA='G',
           VALE=1.8403472768248E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_5,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 8),
           NOM_PARA='G',
           VALE=2.3631025653780E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_5,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 9),
           NOM_PARA='G',
           VALE=2.9238439111914E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

TEST_TABLE(TABLE=G_0_5,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 10),
           NOM_PARA='G',
           VALE=3.5182239283614E+02,
           PRECISION=0.001,
           REFERENCE='AUTRE_ASTER',)

# ======================================================================
# VALIDATION 2D DE "CALCUL_CONTRAINTE":

G_0BIS=CALC_G( THETA=_F(THETA=THETA0),
            RESULTAT=CHAMDEP,
            TOUT_ORDRE='OUI',SYME_CHAR='SYME',
            COMP_ELAS=_F(CALCUL_CONTRAINTE='NON',RELATION='ELAS_VMIS_LINE',),
            );

TEST_TABLE(TABLE=G_0BIS,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 1),
           NOM_PARA='G',
           VALE=3.5947962514067E+00,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0BIS,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 2),
           NOM_PARA='G',
           VALE=1.4470868422635E+01,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0BIS,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 3),
           NOM_PARA='G',
           VALE=3.2883208951196E+01,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0BIS,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 4),
           NOM_PARA='G',
           VALE=5.9422747569594E+01,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0BIS,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 5),
           NOM_PARA='G',
           VALE=9.4500399710622E+01,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0BIS,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 6),
           NOM_PARA='G',
           VALE=1.3498261114276E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0BIS,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 7),
           NOM_PARA='G',
           VALE=1.7895209819449E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0BIS,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 8),
           NOM_PARA='G',
           VALE=2.2623585323115E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0BIS,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 9),
           NOM_PARA='G',
           VALE=2.7647167518089E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

TEST_TABLE(TABLE=G_0BIS,
           FILTRE=_F(NOM_PARA = 'NUME_ORDRE',
                     VALE_I = 10),
           NOM_PARA='G',
           VALE=3.2960677792299E+02,
           PRECISION=0.001,
           REFERENCE='NON_REGRESSION',)

# ======================================================================


            
FIN()
#
