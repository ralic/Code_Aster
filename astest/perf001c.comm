# MODIF  DATE 01/09/2009   AUTEUR DELMAS J.DELMAS 
# TITRE CALCUL ELASTIQUE D'UN ANNEAU CREUX SOUMIS A UNE PRESSION INTARIEURE
# perf001c.para = tps_job 1200 mem_job 1700Mo ncpus 1 liste_test P
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2008  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
#       INTERET : MESURER LES PERFORMANCES D'UN CALCUL ELASTIQUE 3D
#---------------------------------------------------------------------------

DEBUT(CODE=_F(NOM='PERF001C',NIV_PUB_WEB='INTERNET'))

MA=LIRE_MAILLAGE(FORMAT='MED')

MA = MODI_MAILLAGE( reuse=MA,  MAILLAGE=MA,
                    ORIE_PEAU_3D=_F(GROUP_MA = ('P1')))

MO=AFFE_MODELE(MAILLAGE=MA,
         AFFE=_F(TOUT='OUI', PHENOMENE='MECANIQUE', MODELISATION='3D') )


MAT1=DEFI_MATERIAU(ELAS=_F(E= 5.E11, NU=0.3, RHO=9800. ))
CHMAT=AFFE_MATERIAU(MAILLAGE=MA, AFFE=_F(TOUT='OUI',MATER=MAT1))

CHAR1=AFFE_CHAR_MECA(MODELE=MO,
        PRES_REP=_F(  GROUP_MA = 'P1',  PRES = 2.E6) ,
        DDL_IMPO=(_F(GROUP_NO=('A',), DX=0., DY=0., DZ=0.,),
                  _F(GROUP_NO=('A2'), DY=0., DZ=0.,),
                  _F(GROUP_NO=('X1'), DZ=0.),
        ))

RESU=MECA_STATIQUE( MODELE=MO, CHAM_MATER=CHMAT, INFO=1,
             SOLVEUR=_F(NPREC=9),
             #SOLVEUR=_F(METHODE='MUMPS'),
             EXCIT=( _F(CHARGE = CHAR1),),
             OPTION='SANS',
             )

TEST_RESU(RESU=(_F( RESULTAT = RESU,  NOM_CHAM='DEPL', GROUP_NO='X2', NOM_CMP='DZ',
                    CRITERE = 'RELATIF',  NUME_ORDRE = 1,
                    REFERENCE='NON_REGRESSION', VALE = 5.87E-4,  PRECISION = 3.E-3,)))

if 0 :   # pour faire une belle image :
    RESU=CALC_ELEM(reuse =RESU, RESULTAT=RESU,
               OPTION=('SIEF_ELGA_DEPL', 'SIEF_ELNO_ELGA','EQUI_ELNO_SIGM',),)

    RESU=CALC_NO(reuse =RESU, RESULTAT=RESU,
             OPTION=('EQUI_NOEU_SIGM',),);

    IMPR_RESU(FORMAT='CASTEM', UNITE=38,
              RESU=_F(MAILLAGE=MA, RESULTAT=RESU, NOM_CHAM=('DEPL','EQUI_NOEU_SIGM')))


FIN()
