# MODIF  DATE 24/02/2004   AUTEUR CIBHHPD S.VANDENBERGHE 
# TITRE REPONSE HARMONIQUE CYLINDRE EN D.P. (TETRA4)
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
#CAS_TEST__: SHLV100C
# ----------------------------------------------------------------------
# SHLV100 C               COMMANDES                            31/05/91
# CYLINDRE SOUS PRESSION INTERNE HARMONIQUE AVEC EXTREMITES BLOQUEES
# SOLUTION ANALYTIQUE EN DEFORMATIONS PLANES
#
#         ..                      JWT                JWT
# K X + M X   = P    AVEC  P = P E        ET  X = X E
#       2
# (K - W M) X = P    AVEC  W = 0.2 RD/S   ET  P = 1 MPA
#
# MODELISATION : ELEMENTS MECANIQUE 3D (TETRA4)
# MAILLAGE     : SUPERTAB > ASTER
#
# ----------------------------------------------------------------------
# GROUPES DE NOEUDS ET MAILLES EN 3D :
# GRNO: A B C D E F    A2 B2 C2 D2 E2 F2   A3 B3 C3 D3 E3 F3  BORDAB
# GRMA: FACEEF         FACEAE
# ----------------------------------------------------------------------
#

DEBUT(CODE=_F(  NOM = 'SHLV100C',NIV_PUB_WEB='INTERNET') )

M=LIRE_MAILLAGE(   )

MO=AFFE_MODELE(        MAILLAGE=M,
                                AFFE=_F(  TOUT = 'OUI',         
                                       PHENOMENE = 'MECANIQUE',    
                                       MODELISATION = '3D',             ))

M=MODI_MAILLAGE( reuse=M,   MAILLAGE=M,
                            MODELE=MO,
                        ORIE_PEAU_3D=_F(  GROUP_MA = ( 'FACEEF', 'FACEAE', ),  )
                      )

MA=DEFI_MATERIAU(          ELAS=_F(  E = 26.,            
                                       NU = 0.3,           
                                       RHO = 35.,          
                                       ALPHA = 0.,                      ))

CM=AFFE_MATERIAU(      MAILLAGE=M,
                                AFFE=_F(  TOUT = 'OUI',         
                                       MATER = MA,                      ))

CH=AFFE_CHAR_MECA(       MODELE=MO,
                           FACE_IMPO=_F(  GROUP_MA = 'FACEEF',      DNOR = 0., ),DDL_IMPO=(
                            _F(  TOUT = 'OUI',           DZ = 0.,   ),
                                     _F(  GROUP_NO = 'BORDAB',      DY = 0.,   )),
                            PRES_REP=_F(  GROUP_MA = 'FACEAE',      PRES = 1., ))

KE=CALC_MATR_ELEM(       MODELE=MO,
                              CHARGE=CH,
                          CHAM_MATER=CM,
                              OPTION='RIGI_MECA'                      )

ME=CALC_MATR_ELEM(       MODELE=MO,
                              CHARGE=CH,
                          CHAM_MATER=CM,
                              OPTION='MASS_MECA'                      )

VE=CALC_VECT_ELEM(       CHARGE=CH,
                          CHAM_MATER=CM,
                              OPTION='CHAR_MECA'                      )

NU=NUME_DDL(          MATR_RIGI=KE                               )

KAS=ASSE_MATRICE(      MATR_ELEM=KE,
                            NUME_DDL=NU                               )

MAS=ASSE_MATRICE(      MATR_ELEM=ME,
                             NUME_DDL=NU                  )

VAS=ASSE_VECTEUR(      VECT_ELEM=VE,
                            NUME_DDL=NU                               )

FREQ=DEFI_LIST_REEL(VALE=0.03183,);

DYNAH=DYNA_LINE_HARM(MATR_MASS=MAS,
                     MATR_RIGI=KAS,
                     LIST_FREQ=FREQ,
                     EXCIT=_F(VECT_ASSE=VAS,
                              COEF_MULT=1.0,),);
        
DYNAH=CALC_ELEM(reuse =DYNAH,
                MODELE=MO,
                CHAM_MATER=CM,
                RESULTAT=DYNAH,
                OPTION='SIGM_ELNO_DEPL',);

TEST_RESU(RESU=(
   # DEPLACEMENTS
              
            _F(  RESULTAT = DYNAH, NUME_ORDRE=1,   CRITERE = 'RELATIF',  PRECISION = 1.E-3, 
           GROUP_NO = 'A',        NOM_CHAM='DEPL', NOM_CMP = 'DX',           VALE_C = ('RI',7.3398E-3,0.),   ),
           
            _F(  RESULTAT = DYNAH, NUME_ORDRE=1,   CRITERE = 'ABSOLU',   PRECISION = 1.E-10, 
           GROUP_NO = 'A',        NOM_CHAM='DEPL', NOM_CMP = 'DY',            VALE_C = ('RI',0.,0.),         ),
           
            _F(  RESULTAT = DYNAH, NUME_ORDRE=1,   CRITERE = 'RELATIF',  PRECISION = 1.E-2, 
           GROUP_NO = 'B',        NOM_CHAM='DEPL', NOM_CMP = 'DX',            VALE_C = ('RI',4.6716E-3,0.),  ),
           
            _F(  RESULTAT = DYNAH, NUME_ORDRE=1,   CRITERE = 'ABSOLU',   PRECISION = 1.E-2, 
           GROUP_NO = 'B',        NOM_CHAM='DEPL', NOM_CMP = 'DY',            VALE_C = ('RI',0.,0.),         ),
           
            _F(  RESULTAT = DYNAH, NUME_ORDRE=1,   CRITERE = 'RELATIF',  PRECISION = 1.E-2, 
           GROUP_NO = 'C',        NOM_CHAM='DEPL', NOM_CMP = 'DX',            VALE_C = ('RI',6.78109E-3,0.), ),
           
            _F(  RESULTAT = DYNAH, NUME_ORDRE=1,   CRITERE = 'RELATIF',  PRECISION = 1.E-2, 
           GROUP_NO = 'C',        NOM_CHAM='DEPL', NOM_CMP = 'DY',            VALE_C = ('RI',2.80882E-3,0.), ),
           
            _F(  RESULTAT = DYNAH, NUME_ORDRE=1,   CRITERE = 'RELATIF',  PRECISION = 1.E-2, 
           GROUP_NO = 'D',        NOM_CHAM='DEPL', NOM_CMP = 'DX',            VALE_C = ('RI',4.32523E-3,0.), ),
           
            _F(  RESULTAT = DYNAH, NUME_ORDRE=1,   CRITERE = 'RELATIF',  PRECISION = 1.E-2, 
           GROUP_NO = 'D',        NOM_CHAM='DEPL', NOM_CMP = 'DY',            VALE_C = ('RI',1.79157E-3,0.), ),
           
            _F(  RESULTAT = DYNAH, NUME_ORDRE=1,   CRITERE = 'RELATIF',  PRECISION = 1.E-2, 
           GROUP_NO = 'E',        NOM_CHAM='DEPL', NOM_CMP = 'DX',            VALE_C = ('RI',5.19002E-3,0.), ),
           
            _F(  RESULTAT = DYNAH, NUME_ORDRE=1,   CRITERE = 'RELATIF',  PRECISION = 1.E-2, 
           GROUP_NO = 'E',        NOM_CHAM='DEPL', NOM_CMP = 'DY',            VALE_C = ('RI',5.19002E-3,0.), ),
           
            _F(  RESULTAT = DYNAH, NUME_ORDRE=1,   CRITERE = 'RELATIF',  PRECISION = 1.E-2, 
           GROUP_NO = 'F',        NOM_CHAM='DEPL', NOM_CMP = 'DX',            VALE_C = ('RI',3.31039E-3,0.), ),
           
            _F(  RESULTAT = DYNAH, NUME_ORDRE=1,   CRITERE = 'RELATIF',  PRECISION = 1.E-2, 
           GROUP_NO = 'F',        NOM_CHAM='DEPL', NOM_CMP = 'DY',            VALE_C = ('RI',3.31039E-3,0.), ),


   # CONTRAINTES
              
            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 9.E-2, 
MAILLE = 'MA305',    GROUP_NO = 'A', NOM_CHAM='SIGM_ELNO_DEPL',        NOM_CMP = 'SIXX',VALE_C = ('RI',-1.,0.),),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 1.E-2, 
MAILLE = 'MA305',    GROUP_NO = 'A', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIYY',VALE_C = ('RI',1.6685,0.),  ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 12.E-2, 
MAILLE = 'MA305',    GROUP_NO = 'A', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIZZ',VALE_C = ('RI',0.20055,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'ABSOLU',   PRECISION = 1.E-1, 
MAILLE = 'MA305',    GROUP_NO = 'A', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIXY',VALE_C = ('RI',0.,0.),      ),
#
            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'ABSOLU',   PRECISION = 5.E-2, 
MAILLE = 'MA311',    GROUP_NO = 'B', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIXX',VALE_C = ('RI',0.,0.),      ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 5.E-2, 
MAILLE = 'MA311',    GROUP_NO = 'B', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIYY',VALE_C = ('RI',0.66738,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 5.E-2, 
MAILLE = 'MA311',    GROUP_NO = 'B', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIZZ',VALE_C = ('RI',0.20021,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'ABSOLU',   PRECISION = 5.E-2, 
MAILLE = 'MA311',    GROUP_NO = 'B', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIXY',VALE_C = ('RI',0.,0.),      ),
#
            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 0.3, 
MAILLE = 'MA355',    GROUP_NO = 'C', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIXX',VALE_C = ('RI',-0.60921,0.),),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 0.03, 
MAILLE = 'MA355',    GROUP_NO = 'C', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIYY',VALE_C = ('RI',1.27771,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 0.22, 
MAILLE = 'MA355',    GROUP_NO = 'C', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIZZ',VALE_C = ('RI',0.20055,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 0.05, 
MAILLE = 'MA355',    GROUP_NO = 'C', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIXY',VALE_C = ('RI',-0.94346,0.),),
#
            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 0.04, 
MAILLE = 'MA357',    GROUP_NO = 'D', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIXX',VALE_C = ('RI',0.09774,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 0.05, 
MAILLE = 'MA357',    GROUP_NO = 'D', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIYY',VALE_C = ('RI',0.56964,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 0.04, 
MAILLE = 'MA357',    GROUP_NO = 'D', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIZZ',VALE_C = ('RI',0.20021,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 0.06, 
MAILLE = 'MA357',    GROUP_NO = 'D', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIXY',VALE_C = ('RI',-0.23595,0.),),
#
            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 0.17, 
MAILLE = 'MA659',    GROUP_NO = 'E', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIXX',VALE_C = ('RI',0.33425,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 0.41, 
MAILLE = 'MA659',    GROUP_NO = 'E', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIYY',VALE_C = ('RI',0.33425,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 0.12, 
MAILLE = 'MA659',    GROUP_NO = 'E', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIZZ',VALE_C = ('RI',0.20055,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 0.04, 
MAILLE = 'MA659',    GROUP_NO = 'E', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIXY',VALE_C = ('RI',-1.33425,0.),),
#
            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 8.E-2, 
MAILLE = 'MA665',    GROUP_NO = 'F', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIXX',VALE_C = ('RI',0.33369,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 2.E-2, 
MAILLE = 'MA665',    GROUP_NO = 'F', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIYY',VALE_C = ('RI',0.33369,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 4.E-2, 
MAILLE = 'MA665',    GROUP_NO = 'F', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIZZ',VALE_C = ('RI',0.20021,0.), ),

            _F(  RESULTAT = DYNAH,   NUME_ORDRE=1,     CRITERE = 'RELATIF',  PRECISION = 1.E-2, 
MAILLE = 'MA665',    GROUP_NO = 'F', NOM_CHAM='SIGM_ELNO_DEPL', NOM_CMP = 'SIXY',VALE_C = ('RI',-0.33369,0.),),
           )

)

#--------------------------------------------------------------------
FIN()
#
