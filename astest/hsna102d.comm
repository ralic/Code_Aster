# MODIF  DATE 20/10/2011   AUTEUR SELLENET N.SELLENET 
# TITRE  VALIDATION DES LOIS DE SECHAGE SUR UNE EPROUVETTE CYLINDRIQUE EN BETON
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2011  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
# MODELISATION A  : LOI DE BAZANT
DEBUT(CODE=_F(NOM='HSNA102D', NIV_PUB_WEB='INTERNET'), DEBUG=_F(SDVERI='OUI'))

MAIL=LIRE_MAILLAGE(FORMAT='MED', )

#  DEFINTION DES PROPRIETES HYDRIQUES DU BETON

FCT = DEFI_FONCTION(NOM_PARA = 'TEMP',
                    VALE = (30.  , 0.,
                            40.  , 0.1954,
                            50.  , 0.3664,
                            60.  , 0.5170,
                            70.  , 0.6472,
                            80.  , 0.7570,
                            90.  , 0.8464,
                            100. , 0.9154,
                            110. , 0.9639,
                            120. , 0.9921,
                            128.8, 1.,),
                       PROL_DROITE='CONSTANT' )

BETON=DEFI_MATERIAU( SECH_BAZANT  = _F( D1       = 3.E-10,
                                        N        = 6,
                                        ALPHA_BAZANT = 0.04,
                                        FONC_DESORP = FCT),)

CHMAT=AFFE_MATERIAU( MAILLAGE=MAIL,
                     AFFE=_F( GROUP_MA  ='SURF' ,
                              MATER = BETON, ),
                    ),

MOTH=AFFE_MODELE( MAILLAGE=MAIL,
                  AFFE=_F( GROUP_MA    = ('SURF','FE','FI','DSUP','DINF'),
                           MODELISATION ='AXIS',
                           PHENOMENE    ='THERMIQUE', )
                 ),

#  LA TEMPERATURE EST CONSTANTE ET EGALE A 20 DEG PDT TT L'ESSAI

TEMP=CREA_CHAMP(TYPE_CHAM='NOEU_TEMP_R',
                OPERATION='AFFE',
                MAILLAGE=MAIL,
                AFFE=_F(TOUT='OUI',
                        NOM_CMP='TEMP',
                        VALE=20.0,),);

RESUTHER=CREA_RESU(OPERATION='AFFE',
                   TYPE_RESU='EVOL_THER',
                   NOM_CHAM='TEMP',
                   AFFE=(_F(CHAM_GD=TEMP,
                            INST=0.0,),),);


CEQ = DEFI_CONSTANTE ( VALE = 58.8, )

CHARSE = AFFE_CHAR_THER_F( MODELE=MOTH,
                           TEMP_IMPO= _F( GROUP_MA = 'FE',
                                           TEMP   = CEQ, ),  )

#      LES INSTANTS DE CALCULS CORRESPONDENT AUX PROFILS DE TENEUR EN EAU
#      PROPOSES FIG. 15.1., P.199 DE [GRANGER, 1995]
#      1 HEURE  -->      3600s
#      3 JOURS   -->   259200s
#     28 JOURS  -->   2419200s
#      1 AN 1/4 -->  39420000s
#      3 ANS    -->  94608000s
#      5 ANS    --> 157680000s
LISTSECH = DEFI_LIST_REEL( DEBUT = 0.,
                           INTERVALLE = ( _F( JUSQU_A =      3600,       NOMBRE = 10,  ),
                                          _F( JUSQU_A =    259200,       NOMBRE = 20,  ),
                                          _F( JUSQU_A =   2419200,       NOMBRE = 20,  ),
                                          _F( JUSQU_A =  39420000,       NOMBRE = 20,  ),
                                          _F( JUSQU_A =  94608000,       NOMBRE = 10,  ),
                                          _F( JUSQU_A = 157680000,       NOMBRE = 10,  ),
                                         ),
                          ),
LISTDEP= DEFI_LIST_REEL(VALE=(3600, 259200,2419200,    39420000,  94608000,  157680000,   ), ),

RESUSECH = THER_NON_LINE( MODELE        = MOTH,
                          EXCIT          = _F( CHARGE = CHARSE, ),
                          CHAM_MATER     = CHMAT,
                          SOLVEUR        = _F( METHODE = 'MULT_FRONT',   ),
                          PARM_THETA     = 0.57,
                          ETAT_INIT      = _F( VALE = 128.8,   ),
                          INCREMENT      = _F( LIST_INST = LISTSECH, ),
                          COMP_THER_NL   = _F( RELATION = 'SECH_BAZANT',
                                               TOUT     = 'OUI', ),
                          CONVERGENCE    =_F(ITER_GLOB_MAXI=30),
                          EVOL_THER_SECH = RESUTHER,
                          INFO           = 1,
                         ),

# DEFINITION DE LA SOLUTION DE REFERENCE SCILAB
#A T =1 H
REF1 = [128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,
128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,
128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,
128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,
128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,
128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,
128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,
128.800,128.800,128.800,128.797,128.778,128.667,128.106,125.819,118.527,101.246,
58.800 ]
# A T= 3J
REF2 =[128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,
128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,128.800,
128.800,128.800,128.800,128.799,128.799,128.799,128.798,128.798,128.797,128.796,
128.794,128.792,128.789,128.785,128.780,128.773,128.764,128.753,128.738,128.718,
128.693,128.661,128.621,128.571,128.508,128.430,128.333,128.214,128.069,127.894,
127.682,127.429,127.128,126.771,126.353,125.864,125.297,124.643,123.893,123.040,
122.075,120.989,119.777,118.432,116.949,115.324,113.555,111.641,109.585,107.391,
105.063,102.610,100.041, 97.365, 94.586, 91.699, 88.660, 85.344, 81.369, 75.347,
58.800]
# A T = 28J
REF3 = [118.434,118.419,118.393,118.354,118.300,118.232,118.148,118.049,117.936,117.807,
117.663,117.504,117.330,117.141,116.937,116.718,116.484,116.235,115.970,115.691,
115.397,115.087,114.763,114.424,114.070,113.702,113.318,112.920,112.508,112.081,
111.640,111.185,110.716,110.233,109.736,109.225,108.702,108.165,107.615,107.053,
106.478,105.892,105.293,104.683,104.062,103.430,102.787,102.134,101.471,100.799,
100.118,99.428 ,98.730 ,98.024 ,97.310 ,96.588 ,95.860 ,95.124 ,94.382 ,93.632 ,
92.876 ,92.112 ,91.340 ,90.559 ,89.768 ,88.965 ,88.148 ,87.314 ,86.459 ,85.576,
84.660 ,83.698 ,82.678 ,81.577 ,80.365 ,78.989 ,77.363 ,75.320 ,72.496 ,67.937,
58.800,  ]
# A T = 1.25 AN
REF4 =[70.357,70.355,70.351,70.346,70.338,70.328,70.316,70.301,70.284,70.266,
70.244,70.221,70.195,70.167,70.137,70.104,70.068,70.031,69.990,69.948,
69.902,69.854,69.804,69.751,69.695,69.636,69.574,69.509,69.442,69.371,
69.297,69.220,69.139,69.055,68.968,68.877,68.782,68.684,68.581,68.475,
68.364,68.250,68.130,68.006,67.878,67.744,67.606,67.462,67.313,67.158,
66.998,66.832,66.659,66.480,66.295,66.103,65.904,65.698,65.484,65.263,
65.034,64.798,64.553,64.300,64.038,63.768,63.490,63.203,62.908,62.604,
62.292,61.972,61.644,61.308,60.966,60.617,60.263,59.903,59.538,59.171,
58.800  ]
# A T = 3 ANS
REF5 =[63.628,63.626,63.623,63.619,63.613,63.606,63.597,63.586,63.574,63.559,
63.544,63.526,63.507,63.487,63.465,63.441,63.415,63.388,63.359,63.328,
63.296,63.262,63.227,63.189,63.150,63.110,63.068,63.024,62.978,62.931,
62.882,62.832,62.780,62.726,62.671,62.614,62.555,62.495,62.433,62.370,
62.305,62.238,62.170,62.101,62.030,61.957,61.883,61.808,61.731,61.652,
61.573,61.492,61.409,61.326,61.241,61.155,61.068,60.980,60.891,60.801,
60.710,60.618,60.525,60.431,60.337,60.242,60.147,60.051,59.955,59.858,
59.762,59.665,59.568,59.471,59.374,59.277,59.181,59.085,58.989,58.894,
58.800]
#A T = 5 ANS
REF6 =[60.669,60.669,60.667,60.665,60.663,60.659,60.655,60.650,60.644,60.637,
60.630,60.622,60.613,60.604,60.593,60.582,60.570,60.558,60.545,60.531,
60.516,60.501,60.485,60.468,60.450,60.432,60.413,60.394,60.374,60.353,
60.332,60.310,60.287,60.264,60.240,60.216,60.191,60.165,60.139,60.113,
60.086,60.058,60.030,60.002,59.973,59.944,59.914,59.884,59.853,59.823,
59.791,59.760,59.728,59.696,59.663,59.631,59.598,59.565,59.532,59.498,
59.465,59.431,59.397,59.364,59.330,59.296,59.262,59.228,59.194,59.160,
59.127,59.093,59.060,59.026,58.993,58.960,58.928,58.895,58.863,58.831,
58.800 ]

# TEST EN X=0.0
TEST_RESU(RESU=(
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 3600,
            GROUP_NO = 'P0',  NOM_CMP = 'TEMP', VALE = REF1[1],  PRECISION = 1.E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 259200,
            GROUP_NO = 'P0',  NOM_CMP = 'TEMP', VALE = REF2[1],  PRECISION = 1.E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 2419200,
            GROUP_NO = 'P0',  NOM_CMP = 'TEMP', VALE = REF3[1],  PRECISION = 1.E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 39420000,
            GROUP_NO = 'P0',  NOM_CMP = 'TEMP', VALE = REF4[1],  PRECISION = 1.E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 94608000,
            GROUP_NO = 'P0',  NOM_CMP = 'TEMP', VALE = REF5[1],  PRECISION = 1.E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 157680000,
            GROUP_NO = 'P0',  NOM_CMP = 'TEMP', VALE = REF6[1],  PRECISION = 1.E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
           ),)
# TEST EN X=0.04
TEST_RESU(RESU=(
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 3600,
            GROUP_NO = 'P4',  NOM_CMP = 'TEMP', VALE = REF1[41],  PRECISION = 1.E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 259200,
            GROUP_NO = 'P4',  NOM_CMP = 'TEMP', VALE = REF2[41],  PRECISION = 1.E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 2419200,
            GROUP_NO = 'P4',  NOM_CMP = 'TEMP', VALE = REF3[41],  PRECISION = 1.E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 39420000,
            GROUP_NO = 'P4',  NOM_CMP = 'TEMP', VALE = REF4[41],  PRECISION = 1.E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 94608000,
            GROUP_NO = 'P4',  NOM_CMP = 'TEMP', VALE = REF5[41],  PRECISION = 1.E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 157680000,
            GROUP_NO = 'P4',  NOM_CMP = 'TEMP', VALE = REF6[41],  PRECISION = 1.E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
           ),)
# TEST EN X=0.06
TEST_RESU(RESU=(
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 3600,
            GROUP_NO = 'P6',  NOM_CMP = 'TEMP', VALE = REF1[61],  PRECISION = 1.E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 259200,
            GROUP_NO = 'P6',  NOM_CMP = 'TEMP', VALE = REF2[61],  PRECISION = 1.5E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 2419200,
            GROUP_NO = 'P6',  NOM_CMP = 'TEMP', VALE = REF3[61],  PRECISION = 1.5E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 39420000,
            GROUP_NO = 'P6',  NOM_CMP = 'TEMP', VALE = REF4[61],  PRECISION = 1.2E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 94608000,
            GROUP_NO = 'P6',  NOM_CMP = 'TEMP', VALE = REF5[61],  PRECISION = 1.2E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
          _F(  RESULTAT = RESUSECH,   NOM_CHAM = 'TEMP',   INST = 157680000,
            GROUP_NO = 'P6',  NOM_CMP = 'TEMP', VALE = REF6[61],  PRECISION = 1.2E-2,
            REFERENCE = 'SOURCE_EXTERNE',),
           ),)



FIN () ;
