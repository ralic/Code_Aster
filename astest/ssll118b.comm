# MODIF  DATE 30/07/2012   AUTEUR LEFEBVRE J-P.LEFEBVRE 
# TITRE POUTRE ENCASTREE SOUMISE A DES DEPLACEMENTS DEFINIS DANS UN REPERE LOCAL
# ssll118b.para = tps_job 60 mem_job 256Mo ncpus 1 liste_test R
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2012  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
# VALIDATION DE AFFE_CHAR_MECA: DDL_POUTRE, MAILLE ET GROUP_MA

DEBUT(CODE=_F(NOM='SSLL118B', NIV_PUB_WEB='INTERNET'), DEBUG=_F(SDVERI='OUI'))

MA=LIRE_MAILLAGE(INFO=2)

MO=AFFE_MODELE(MAILLAGE=MA,
   AFFE=_F( TOUT = 'OUI',PHENOMENE = 'MECANIQUE',MODELISATION = 'POU_D_E')
)

MATR=DEFI_MATERIAU(ELAS=_F( E = 2.0E11,  NU = 0.3),)

CHMAT=AFFE_MATERIAU(
   MAILLAGE=MA,
   AFFE=_F(TOUT = 'OUI',MATER = MATR),
)

# SECTION RECTANGLE
CAREL=AFFE_CARA_ELEM(MODELE=MO,INFO=2,
   POUTRE=(
      _F(GROUP_MA=('POUT01','POUT02','POUT03','POUT04',),
         SECTION = 'RECTANGLE',
         CARA = ('HY', 'HZ',),
         VALE = ( 0.2,  0.1,),
      ),
   ),
)

DDLIMPO=AFFE_CHAR_MECA(MODELE=MO,
   DDL_IMPO  = _F(NOEUD = ('N1','N2','N3','N4',),
                  DX  = 0.0,  DY = 0.0,  DZ = 0.0,
                  DRX = 0.0, DRY = 0.0, DRZ = 0.0,),
   DDL_POUTRE= (
      _F(NOEUD = 'NA',  DY=2.0E-03, DZ = 1.0E-3,
         VECT_Y = ( 0.0, 1.0, 0.0, ) ,
         MAILLE = 'SIANA'),
      _F(NOEUD = 'NB',  DY=2.0E-03, DZ = 1.0E-3,
         VECT_Y = ( 0.0, 0.0, 1.0, ) ,
         GROUP_MA='GIBNB'),
      _F(NOEUD = 'NC',  DY=2.0E-03, DZ = 1.0E-3,
         VECT_Y = ( -1.0,  1.0,  0.0, ) ,
         MAILLE = 'SNCNCC'),
      _F(NOEUD = 'ND',  DY=2.0E-03, DZ = 0.0,
         VECT_Y = ( -1.0,  1.0,  0.0, ) ,
         GROUP_MA='GNDNDD'),),
   FORCE_NODALE=(
      _F(NOEUD = 'ID',  FZ= 1000.0 ),
   ),
)

MEST1=MECA_STATIQUE(
   MODELE=MO,
   CHAM_MATER=CHMAT,
   CARA_ELEM=CAREL,
   EXCIT=_F(CHARGE = DDLIMPO),
)
MEST1=CALC_CHAMP( reuse= MEST1, RESULTAT= MEST1, CONTRAINTE=('EFGE_ELGA',), )


MEST1=CALC_CHAMP(reuse=MEST1,
   RESULTAT=MEST1,
   FORCE='FORC_NODA',
)

TEST_RESU(RESU=(
   _F(RESULTAT = MEST1, NOM_CHAM = 'FORC_NODA', NUME_ORDRE = 1,
      NOEUD='N1', NOM_CMP = 'DY', CRITERE = 'RELATIF', REFERENCE='ANALYTIQUE',
      VALE = -10000.0,            PRECISION = 1.0E-05, ),
   _F(RESULTAT = MEST1, NOM_CHAM = 'FORC_NODA', NUME_ORDRE = 1,
      NOEUD='N1', NOM_CMP = 'DZ', CRITERE = 'RELATIF', REFERENCE='ANALYTIQUE',
      VALE = -1250.0,             PRECISION = 1.0E-05, ),

   _F(RESULTAT = MEST1, NOM_CHAM = 'FORC_NODA', NUME_ORDRE = 1,
      NOEUD='N2', NOM_CMP = 'DY', CRITERE = 'RELATIF', REFERENCE='ANALYTIQUE',
      VALE = 5000.0,              PRECISION = 1.0E-05, ),
   _F(RESULTAT = MEST1, NOM_CHAM = 'FORC_NODA', NUME_ORDRE = 1,
      NOEUD='N2', NOM_CMP = 'DZ', CRITERE = 'RELATIF', REFERENCE='ANALYTIQUE',
      VALE = -2500.0,             PRECISION = 1.0E-05, ),

   _F(RESULTAT = MEST1, NOM_CHAM = 'FORC_NODA', NUME_ORDRE = 1,
      NOEUD='N3', NOM_CMP = 'DX', CRITERE = 'RELATIF', REFERENCE='ANALYTIQUE',
      VALE = 7071.0678,           PRECISION = 1.0E-05, ),
   _F(RESULTAT = MEST1, NOM_CHAM = 'FORC_NODA', NUME_ORDRE = 1,
      NOEUD='N3', NOM_CMP = 'DY', CRITERE = 'RELATIF', REFERENCE='ANALYTIQUE',
      VALE = -7071.0678,          PRECISION = 1.0E-05, ),
   _F(RESULTAT = MEST1, NOM_CHAM = 'FORC_NODA', NUME_ORDRE = 1,
      NOEUD='N3', NOM_CMP = 'DZ', CRITERE = 'RELATIF', REFERENCE='ANALYTIQUE',
      VALE =  1250.0,             PRECISION = 1.0E-05, ),

   _F(RESULTAT = MEST1, NOM_CHAM = 'FORC_NODA', NUME_ORDRE = 1,
      NOEUD='N4', NOM_CMP = 'DX', CRITERE = 'RELATIF', REFERENCE='ANALYTIQUE',
      VALE = 7071.0678,           PRECISION = 1.0E-05, ),
   _F(RESULTAT = MEST1, NOM_CHAM = 'FORC_NODA', NUME_ORDRE = 1,
      NOEUD='N4', NOM_CMP = 'DY', CRITERE = 'RELATIF', REFERENCE='ANALYTIQUE',
      VALE = -7071.0678,          PRECISION = 1.0E-05, ),
   _F(RESULTAT = MEST1, NOM_CHAM = 'FORC_NODA', NUME_ORDRE = 1,
      NOEUD='N4', NOM_CMP = 'DZ', CRITERE = 'RELATIF', REFERENCE='ANALYTIQUE',
      VALE = -687.50,             PRECISION = 1.0E-05, ),
   _F(RESULTAT = MEST1, NOM_CHAM = 'DEPL', NUME_ORDRE = 1,
      NOEUD='ID', NOM_CMP = 'DZ', CRITERE = 'RELATIF', REFERENCE='ANALYTIQUE',
      VALE = 2.1875E-05,          PRECISION = 1.0E-05, ),
),)

FIN()
#
