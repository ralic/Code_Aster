# MODIF  DATE 21/10/2008   AUTEUR NISTOR I.NISTOR 
# TITRE PLAQUE ANNULAIRE ENCASTREE SUR UN MOYEU (CRAIG-BAMPTON)
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
# CAS_TEST__: SDLS04A
#             VALIDATION SOUS-STRUCTURATION CYCLIQUE
#             METHODE DE CRAIG-BAMPTON
# FICHIER DE COMMANDE ASTER
#
#
DEBUT( CODE=_F( NOM = 'SDLS04A',NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='OUI'))

#
SECTEUR=LIRE_MAILLAGE(  UNITE=20)

SECTEUR=DEFI_GROUP( reuse=SECTEUR,   MAILLAGE=SECTEUR,
  CREA_GROUP_MA=_F(  NOM = 'TOUT', TOUT = 'OUI'))

#
MODELE=AFFE_MODELE(   MAILLAGE=SECTEUR,
                             AFFE=_F( TOUT = 'OUI',
                                   PHENOMENE = 'MECANIQUE',
                                   MODELISATION = 'DKT'))

#
MATER=DEFI_MATERIAU(  ELAS=_F( E = 2.E11, NU = 0.3, RHO = 7800.0))

#
CHAMPMAT=AFFE_MATERIAU(  MAILLAGE=SECTEUR,
                              AFFE=_F( TOUT = 'OUI',
                                    MATER = MATER))

#
CHAMPCAR=AFFE_CARA_ELEM(  MODELE=MODELE,
                            COQUE=_F( EPAIS = 0.001,
       GROUP_MA = 'TOUT'))

#
CHARGE=AFFE_CHAR_MECA(   MODELE=MODELE,DDL_IMPO=(
              _F( TOUT = 'OUI',DX = 0.0,DY = 0.0,DRZ = 0.0),
              _F( GROUP_NO = 'AXE',DZ = 0.0,DRX = 0.0,DRY = 0.0),
              _F( GROUP_NO = 'DROITE',DZ = 0.0,DRX = 0.0,DRY = 0.0),
              _F( GROUP_NO = 'GAUCHE',DZ = 0.0,DRX = 0.0,DRY = 0.0)))

#
RIGIELEM=CALC_MATR_ELEM(      MODELE=MODELE,
                                CHARGE=CHARGE,
                            CHAM_MATER=CHAMPMAT,
                             CARA_ELEM=CHAMPCAR,
                               OPTION='RIGI_MECA')

#
MASSELEM=CALC_MATR_ELEM(      MODELE=MODELE,
                                CHARGE=CHARGE,
                            CHAM_MATER=CHAMPMAT,
                             CARA_ELEM=CHAMPCAR,
                               OPTION='MASS_MECA')

#
NUMEROTA=NUME_DDL(   MATR_RIGI=RIGIELEM)

#
MATRRIGI=ASSE_MATRICE(  MATR_ELEM=RIGIELEM,
                           NUME_DDL=NUMEROTA)

#
MATRMASS=ASSE_MATRICE(  MATR_ELEM=MASSELEM,
                           NUME_DDL=NUMEROTA)

#
MODES=MODE_ITER_SIMULT(     MATR_A=MATRRIGI,
                                 MATR_B=MATRMASS,
                             CALC_FREQ=_F( NMAX_FREQ = 15))

#
LINT=DEFI_INTERF_DYNA(   NUME_DDL=NUMEROTA,INTERFACE=(
                             _F( NOM = 'DROITE',
                                        TYPE = 'CRAIGB',
                                        GROUP_NO = 'DROITE',
                                        MASQUE = ('DX', 'DY', 'DRZ',)),
                             _F( NOM = 'GAUCHE',
                                        TYPE = 'CRAIGB',
                                        GROUP_NO = 'GAUCHE',
                                        MASQUE = ('DX', 'DY', 'DRZ',)))
                              )

#
BAMO=DEFI_BASE_MODALE( CLASSIQUE=_F( INTERF_DYNA = LINT,
                                        MODE_MECA = MODES,
                                        NMAX_MODE = 15)
                             )

#
MODCYC=MODE_ITER_CYCL(  BASE_MODALE=BAMO,
                               NB_MODE=15,
                            NB_SECTEUR=18,
                               LIAISON=_F( DROITE = 'DROITE',
                                        GAUCHE = 'GAUCHE'),
                                CALCUL=_F( NB_DIAM = (0, 1, 2, 3,),
                                        NMAX_FREQ = 2,
                                        PREC_AJUSTE = 1.E-12)
                           )

#
SQUEL1=DEFI_SQUELETTE(  CYCLIQUE    =_F(MODE_CYCL=MODCYC),
                             SECTEUR=_F( TOUT = 'OUI'))

#
MODSEC=REST_SOUS_STRUC(  
                             RESU_GENE=MODCYC,
# modif Ionel
#                              RESULTAT=MODCYC,
                              SECTEUR=1)

#
MODGL1=REST_SOUS_STRUC(  RESU_GENE=MODCYC,
                            SQUELETTE=SQUEL1)

#
TEST_RESU(RESU=(
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 1, VALE = 79.26),
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 2, VALE = 81.09),
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 3, VALE = 81.09),
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 4, VALE = 89.63),
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 5, VALE = 89.63),
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 6, VALE = 112.79),
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 7, VALE = 112.79),
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 8, VALE = 518.85),
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 9, VALE = 528.61),
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 10, VALE = 528.61),
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 11, VALE = 559.09),
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 12, VALE = 559.09),
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 13, VALE = 609.70),
          _F( RESULTAT = MODSEC,PARA = 'FREQ', REFERENCE = 'ANALYTIQUE',
                CRITERE = 'RELATIF',PRECISION = 5.E-3,
                NUME_ORDRE = 14, VALE = 609.70))
      )

#
FIN()
#
