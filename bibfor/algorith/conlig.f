      SUBROUTINE CONLIG(NEQ,DEPDEL,DDEPLA,DEPMOI,DEPPLU,DEFICO,MAILLA,
     &          LIGRCF,CARTCF,MODELE,LISCHA,SOLVEU,NUMEDD,MCONEL,
     &          SCONEL,MEMASS,MASSE,PREMIE,CMD)
C            CONFIGURATION MANAGEMENT OF EDF VERSION
C MODIF ALGORITH  DATE 16/02/2004   AUTEUR LAMARCHE S.LAMARCHE 
C ======================================================================
C COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
C THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
C IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
C THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
C (AT YOUR OPTION) ANY LATER VERSION.                                 
C
C THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
C WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
C MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
C GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
C
C YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
C ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
C    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
C ======================================================================
      IMPLICIT NONE
      INTEGER NEQ,JDEPDE,JDDEPL,IFM,NIV
      CHARACTER*8  MAILLA,SCONEL,MCONEL
      CHARACTER*16 CMD      
      CHARACTER*19 LIGRCF,CARTCF,LISCHA,SOLVEU
      CHARACTER*24 DEPMOI,DEPPLU,DEFICO,MODELE,NUMEDD,DEPDEL,DDEPLA
      CHARACTER*24 MEMASS,MASSE
      LOGICAL PREMIE
C.......................................................................
      CALL JEMARQ()
C     -- POUR EMPECHER NUMER3 D'ECRIRE DES INFO DE NIVEAU 1 :
      CALL INFMUE ( )

      CALL JEVEUO(DEPDEL(1:19)//'.VALE','L',JDEPDE)
      CALL JEVEUO(DDEPLA(1:19)//'.VALE','L',JDDEPL)
      CALL ZZZERO (NEQ,JDEPDE)
      CALL COPISD('CHAMP_GD','V',DEPMOI,DEPPLU)
      CALL ZZZERO (NEQ,JDDEPL)
      CALL FRAPP2(DEFICO,MAILLA,LIGRCF,CARTCF)
      CALL INITEL(LIGRCF)
      CALL NUMER3(MODELE,LISCHA,SOLVEU,'VG',NUMEDD)
      
C -----ASSEMBLAGE DE LA MATRICE DE MASSE------   
      IF (CMD(1:13).EQ.'DYNA_NON_LINE') THEN
        IF (PREMIE) THEN
             PREMIE = .FALSE.
             CALL ASMATR(1,MEMASS,' ',NUMEDD,SOLVEU,LISCHA,
     &                  'ZERO','V',1,MASSE)
             CALL MTDSCR(MASSE)
        END IF
      CALL DETRSD('MATR_ASSE','&&MATASS')
      ENDIF 
C----------------------------------------      

      CALL MMCMEM(MODELE,DEPMOI,DEPDEL,LIGRCF,CARTCF,MCONEL,
     &           SCONEL)

      CALL INFBAV ( )
      CALL JEDEMA()
      END
