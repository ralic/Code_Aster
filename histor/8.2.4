

-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR assire       ASSIRE A.              DATE 17/01/2006 - 10:32:02

--------------------------------------------------------------------------------
RESTITUTION FICHE 009347 DU 2006-01-11 16:09:16
TYPE express POUR Code_Aster (VERSION 8.2)
TITRE
   Actualisation de la routine de couplage avec Scotch
FONCTIONNALITE
   La librairie de partitionnement Scotch a ete stabilisee par F. Pelligrini en decembre
   2005, pour etre diffusee sous licence GPL.

   On modifie tres legerement la routine fetsco.c, qui permet l'appel aux fonctions de la
   librairie de partitionnement Scotch, pour se conformer a la version 4.0 de Scotch.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   feti003c, feti007a
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR boiteau      BOITEAU O.             DATE 16/01/2006 - 17:27:49

--------------------------------------------------------------------------------
RESTITUTION FICHE 008849 DU 2005-07-05 00:00:00
TYPE evolution POUR Code_Aster (VERSION 8.1)
TITRE
   Affichage METIS et FETI
FONCTIONNALITE
   Fonctionnalite
   ---------------
   Lors de la resolution d'un systeme lineaire, une cinquantaine de lignes liees a la
   phase
   de factorisation symbolique (construction du NUME_DDL, appel a METIS...) apparait en
   niveau d'impression minimum NIV=1:

   --- NOMBRE TOTAL DE NOEUDS :                        39  DONT :
   20  NOEUDS "LAGRANGE"
   --- NOMBRE TOTAL D'EQUATIONS :                        58
   ......
   Lancement de la commande ->/home/jpl/aster/outils/onmetis<-
   Metis nombres de noeuds, d'aretes                          7
   24
   Metis Tableau Xadj lu
   Metis Tableau Adjncy lu
   **********************************************************************
   METIS 4.0.1 Copyright 1998, Regents of the University of Minnesota
   ......
   --- LONGUEUR DE LA MATRICE FACTORISEE                       175

   Avec le solveur FETI ce bloc est repete autant de fois que de sous-domaines + 1 ! Pour
   ameliorer la lisibilite du fichier message, je bloque ces affichages
   si METHODE='FETI' et INFO=1. Si INFO=2, je laisse comme avant.

   Details
   --------

   Conjonction des utilitaires INFNIV/INFMUE/INFBAV dans les routines adhoc:
   facsmb.f
   nueffe.f
   preml1.f
   prolci.f
   promor.f
   tldlg2.f
   Emission d'une ED sur la D6.04.02 ("Impressions dirigees par le mot-cle INFO des
   commandes") qui est incomplete sur le sujet (vu avec JP).

   Supplements
   -----------
   Amelioration des affichages pilotes par le vecteur de monitoring SOLVEUR/INFOFETI. Les
   renseignement generaux lies a l'etude (taille de l'interface, des matrices
   locales...,
   temps CPU+SYS des etapes d'assemblage, de factorisation, de calculs elementaires) et le
   profiling en direct des differentes etapes de resolution du probleme d'interface
   (projection, operateur FETI...) sont desormais dissociables. Le dernier reste pilote
   par INFO_FETI(9:9)='T'. L'autre l'est maintenant par INFO_FETI(11:11)='T'.

   Ex de INFO_FETI(11:11)='T'
   *****************************************
   <FETI/ALFETI    0>
   NUMERO D'INCREMENT     1
   NB SOUS-DOMAINES       4
   NB DE MODES RIGIDES    1
   POINTS INTERFACE / MAILLAGE / RAPPORT
   10           19        0.53D+02 %
   TAILLE (GI + GIT*GI)/MATRICE MOYENNE : 0.2143D+02 %

   SOUS-DOMAINE   / MATRICE   / FACTORISEE   / NOEUDS
   N    1     :         104          175            7
   N    2     :          83          132            7
   N    3     :         118          213            7
   N    4     :          90          163            7
   --------------------------------------------------
   TOTAL       :         395          683           28
   MOYENNE     :          98          170            7

   SOUS-DOMAINE   / CPU FACSYM / CPU ASSE / CPU FACNUM
   N    0     :      0.0000D+00  0.0000D+00  0.0000D+00
   N    1     :      0.1000D-01  0.0000D+00  0.1000D-01
   N    2     :      0.1000D-01  0.0000D+00  0.1000D-01
   N    3     :      0.3000D-01  0.0000D+00  0.0000D+00
   N    4     :      0.2000D-01  0.0000D+00  0.1000D-01
   --------------------------------------------------
   CPU + SYS TOTAL  : 0.7000D-01  0.0000D+00  0.3000D-01
   CPU + SYS LE PIRE: 0.3000D-01  0.0000D+00  0.1000D-01

   PROCESSEUR     / CPU CALCUL_ELEM
   N    1     :      0.1000D-01
   N    2     :      0.1000D-01
   N    3     :      0.1000D-01
   N    4     :      0.1000D-01
   -----------------------------------
   CPU + SYS TOTAL  : 0.4000D-01
   CPU + SYS LE PIRE: 0.1000D-01
   ******************************************

   Ex de INFO_FETI(9:9)='T'
   ******************************************
   * FETI: NORME DU SECOND MEMBRE/RESIDU INITIAL = 0.4458D+02 0.4541D+01
   *       NORME DU RESIDU A ATTEINDRE EN ABS/RELA= 0.4541D-11 0.1000D-11
   ******************************************
   PROC                         0  INIT 3 CPU/SYS:     0.000000000000000
   0.000000000000000
   PROC                         0  FETFIV CPU/SYS:     0.000000000000000
   0.000000000000000
   PROC                         0  DDOT/DAXPY/FETPRJ CPU/SYS:
   0.000000000000000         0.000000000000000
   PROC                         0  MPI_BCAST CPU/SYS:     0.000000000000000
   0.000000000000000
   ******************************************
   * ITERATION    1 NORME DU RESIDU EN ABS/RELA = 0.2848D+01 0.6272D+00
   ******************************************
   ..........
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.50.01
VALIDATION
   informatique sur feti005a, feti007a, father
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 009360 DU 2006-01-13 15:44:53
TYPE evolution POUR Code_Aster (VERSION )
TITRE
   Pour FETI, parallelisation des calculs elementaires
FONCTIONNALITE
   Contexte:
   ----------
   Jusqu'a present, avec FETI, le flot de donnees n'est parallele que pour les
   factorisations
   symbolique et numerique, les assemblages matriciel et vectoriel. Le vrai parallelisme
   avec
   envoi de message (MPI) n'intervient que dans la derniere phase de resolution du
   probleme
   d'interface (GCPC) et de la reconstruction du vecteur solution global.

   Fonctionnalite
   --------------
   Il s'agit d'augmenter le perimetre des zones potentiellement paralleles du code avec
   FETI
   en tarissant le flot de donnees, proc. par proc., des les phases de calculs
   elementaires.
   Ces phases representent entre 5 et 50 % du temps calcul sequentiel d'ou des gains
   potentiels non negligeables sur les speed-ups theoriques et effectifs.
   Les developpements suscites par cette evolution doivent etre peu invasifs et
   evolutifs
   pour etre reutilisables dans un autre contexte (MUMPS parallele...).

   Details
   -------
   Scenario 1 abandonne
   La premiere strategie a consistee a vouloir encapsuler les structures de donnees
   manipulees par la routine centrale dans cette phase de calcul elementaire:CALCUL.F. Il
   s'agit des CHAM_ELEM, RESU_ELEM, MATR_ELEM et VECT_ELEM. Et ce afin:
   - d'etre coherent avec ce qui avait ete fait jusqu'alors pour FETI sur les
   SD_SOLVEUR, NUME_DDL, CHAM_NO et MATR_ASSE.
   - d'etre optimal en terme de manipulation de donnees sur cette phase et sur
   celles d'assemblages.
   Ce scenario s'est avere trop invasif, trop risque vis-a-vis du role central
   de ces stuctures de donnees de bas niveau qui servent a bien d'autre chose que
   la resolution d'un systeme lineaire. Il est de plus peu compatible avec la vision
   parallele des calculs elementaires que peu necessiter une autre fonctionnalite
   (MUMPS...).

   Scenario 2 retenu:
   Dans la routine CALCUL on detecte le fait d'etre un calcul parallele s'appuyant sur le
   solveur FETI et pour le LIGREL de MODELE. Si c'est le cas on
   va remplir, GREL par GREL, un objet '&CALCUL.FETI.NUMSD', qui indique si oui ou non, une
   maille d'un GREL est concernee par les sous-domaines affectes au processeur courant (cet
   objet est le pendant de l'objet '&FETI.MAILLE.NUMSD' qui sert aux phases d'assemblages).
   Ainsi, dans les routines appelees par la suite par CALCUL (dans la boucle principale sur
   les GREL) il suffit de de detecter la presence ou l'absence de cet objet et de s'en
   servir
   dans les boucles sur les elements de chaque GREL.

   LISIBILITE/MAINTENABILITE
   --------------------------
   Exemple tire de EXCART.F
   C     FETI PARALLELE OR NOT ?
   C     -------------------------
   CALL JEEXIN('&CALCUL.FETI.NUMSD',IRET)
   IF (IRET.NE.0) THEN
   LFETI=.TRUE.
   CALL JEVEUO('&CALCUL.FETI.NUMSD','L',IFETI)
   IFETI=IFETI-1
   ELSE
   LFETI=.FALSE.
   ENDIF

   .....

   DO 77,IEL=NBELGR,1,-1
   C        SI FETI ON REGARDE SI LA MAILLE IEL EST CONCERNEE
   C        PAR LE PROC COURANT
   IF ((LFETI).AND.(.NOT.ZL(IFETI+IEL))) GOTO 77
   .....
   77    CONTINUE

   EVOLUTIVITE
   -----------
   En modifiant juste le mode de remplissage de l'objet '&CALCUL.FETI.NUMSD'
   dans CALCUL cela doit pouvoir se reutiliser pour preparer le flot de donnees
   paralleles de MUMPS ou, en le completant par des envois de msgs, pour une
   parallelisation
   independante des calculs elementaires de tout solveur (restit.
   de PB)

   Perimetre
   ---------
   CALCUL.F, EXCART.F, EXCHML.F, EXCHNO.F, EXRESL.F, EXTRAI.F, MONTEE.F, TE0000.F, ZECHLO.F

   Validation
   ----------
   Cas test FETI001a....feti007a en sequentiel comme en parallele
   Les cubes, FATHER et la culasse de moteur (HI-23/05/044).
   Le cube M2 du rapport precedent (612 000 DDL) partitionne en 20 sous-domaines
   Avant             Apres
   ---------------------------------
   20 processeurs
   Temps CPU moyen calculs elem     19                7
   Temps Elapsed total              122              95

   5 processeurs
   Temps CPU moyen calculs elem     19               10
   Temps Elapsed total              240             229

   FATHER M4 du rapport precedent (237 000 DDL) partitionne en 20 sous-domaines
   Avant             Apres
   ---------------------------------
   20 processeurs
   Temps CPU moyen calculs elem     7                2.5
   Temps Elapsed total              31              27

   10 processeurs
   Temps CPU moyen calculs elem     7                3
   Temps Elapsed total              41              34

   En toute logique, lorsqu'on diminue le nombre de proc, les gains diminuent aussi.
   Certaines phases d'intendances ou mutualisees avec d'autres fonctionnalites autres que
   les
   solveurs n'ont pas ete parallelisees pour ne pas prendre de risque de resultats faux
   dans
   d'autres parties du code (ex. EXCHNO/TRIGD).
   Ce parallelisme est bien sur plus efficace sur les maillages de grandes tailles (> 100
   000
   DDLs), en non-lineaire et ne comportant pas trop de LIGREL
   de charge (DDL_IMPO....). Ces derniers sont traites en sequentiels pour simplifier la
   programmation et parce qu'ils sont souvent minoritaires dans un calcul standard.

   Supplements
   -----------
   * Correction d'un bug rencontre sur la machine TANTALE du CCRT (FETRIN.F)
   * Idem sur n'importe qu'elle plate-forme en multiples seconds membres (ALFETI.F)
   * Mise au carre des structures de donnees '&FETI.FINF' et '&FETI.MAILLE.NUMSD'
   (ASSMAM.F, ASSVEC.F, CRESOL.F, CRESO1.F, FETCCN.F, VTCMBL.F, VTCREB.F, VTCRE1.F,
   VTDEFS.F).
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : D4.06.21,D9.03.01
VALIDATION
   non regression sur feti005a, feti007a, father en sequentiel comme en parallele
(cluster du LAMSID)
NB_JOURS_TRAV  : 8.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR boyere       BOYERE E.              DATE 17/01/2006 - 13:55:24

--------------------------------------------------------------------------------
RESTITUTION FICHE 009286 DU 2005-12-20 08:40:02
TYPE anomalie POUR Code_Aster (VERSION 8.2)
TITRE
   MODE_ITER_SIMULT et VERIFICATION DES MODES
FONCTIONNALITE
   Sur ROCKS compile avec INTEL, MODE_ITER_SIMULT oublie une frequence.
   C'est du a une une tolerance trop stricte exigee dans le calcul des frequences, qui
   ne
   permet plus de dissocier les modes multiples.
   Dans la routine DNAUPD on fait passer la tolerance minimale
   de R8PREM()*.1 a  R8PREM()*10.

   Emmanuel
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   forma11a
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR a3bhhae      ANDRIAMBOLOLONA H.     DATE 17/01/2006 - 08:57:46

--------------------------------------------------------------------------------
RESTITUTION FICHE 009036 DU 2005-09-23 00:00:00
TYPE evolution POUR Code_Aster (VERSION 8.1)
TITRE
   chargement GRAPPE_FLUIDE sans le poids
FONCTIONNALITE
   Suppression du calcul du poids propre via les forces
   fluides
   Ajout d'une charge PESANTEUR dans le cas test fdnl100a
   routines modifiees:
   gfacc0.f, gfinit.f, gfforc.f et nmgrfl.f

   verification de la coherence des donnees:
   1- sur longueur de la grappe
   le code verifie que la longueur modelisee (maillage)
   est coherente avec
   les donnees GRAPPE (fdnl100a.33)
   2- sur la masse de la grappe
   le code verifie que la masse fournie dans les donnees
   GRAPPE (fdnl100a.33)
   est coherente avec les donnees geometriques et
   materiaux de la grappe.
   masse de la grappe modelisee:
   MGRAPP
   calcul de la masse de la tige:
   MTIGE  = ROTIGE * ( LTIGE * PI * DTIGE**2 / 4 )
   calcul de la masse de l'araignee:
   MARAIG = RORAI * VARAI
   calcul de la masse des crayons
   MCRAYO = ROCRAY * ( 24 * LCRAY * PI * DCRAY**2 /
   4 )
   calcul de la masse GRAPPE:
   MGRAP2 = MTIGE + MARAIG + MCRAYO
   verification que MGRAPP=MGRAP2 sinon arret fatal :
   <F> <AFFE_CHAR_MECA> <CAGRF1> ERREURS DANS LES
   DONNEES
   MASSE TOTALE DE LA GRAPPE:   1.2640E+02
   MASSE DE LA TIGE:   8.2982E+01
   MASSE DE L'ARAIGNEE:   3.8220E+00
   MASSE DU CRAYON:   4.9854E+01
   MASSE GRAPPE+ARAIGNEE+CRAYON:   1.3666E+02
   routines modifiees:
   cagrfl.f et cagrf1.f

   Apres ces verifications introduites dans le code, il a
   fallu modifier
   les valeurs des masses volumiques dans les donnees GRAPPE.
   Ceci a un
   impact sur les valeurs de non regression.

   Validation :
   fdnl100a
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   fdnl100a
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR vabhhts      PELLET Jacques.        DATE 17/01/2006 - 08:57:48

--------------------------------------------------------------------------------
RESTITUTION FICHE 009189 DU 2005-11-09 00:00:00
TYPE evolution POUR Code_Aster (VERSION 8.1)
TMA : CS
TITRE
   AFFE_CHAR_MECA / AFFE_CHAR_MECA_F
FONCTIONNALITE
   On propose d'assouplir l'usage de FACE_IMPO et DDL_IMPO:

   Pour un ddl donne (DX, DY, PRES, ...)
   - si aucun noeud des mailles specifiees ne connait ce ddl => Erreur
   Fatale
   - sinon on traite les noeuds portant ce ddl et on n'emet aucune
   alarme pour les noeuds qui ne connaissent pas ce ddl.


   Validation :
   ------------
   passage de l'etude associe
   modification des cas tests wtnv122a, b et c,  wtnv13a, b et c
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.44.01
VALIDATION
   etude associee + modif de tests existants
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR d6bhhjp      LEFEBVRE J.P.          DATE 16/01/2006 - 11:41:18

--------------------------------------------------------------------------------
RESTITUTION FICHE 009277 DU 2005-12-19 00:00:00
TYPE anomalie POUR Code_Aster (VERSION 8.2)
TITRE
   LIRE_PLEXUS
FONCTIONNALITE
   L'affectation de la variable K80BM a ' ' en tete de la routine OP0184 permet d'eviter la
   remanence et d'executer correctement le test avec la version NEW8 INTEL
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   test zzzz112a
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 009135 DU 2005-10-24 00:00:00
TYPE anomalie POUR Code_Aster (VERSION 8.1)
TITRE
   DEBUT et format HDF
FONCTIONNALITE
   J'ai supprime le mot cle FORMAT_HDF dans la commande DEBUT ou il n'a pas le lieu
   d'etre,
   autrefois les catalogues des commandes DEBUT et POURSUITE devaient etre strictement
   identiques, ce n'est plus le cas.
   J'en profite pour supprimer les references a la base LOCALE encore presentes en
   version de
   developpement.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   test perso
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 009196 DU 2005-11-10 00:00:00
TYPE anomalie POUR astk (VERSION 1.2)
TITRE
   as_job en ENDED_OK mais erreur a la compil de cata
FONCTIONNALITE
   La version 1.3 d'astk en interactif detecte bien l'erreur de compilation des elements et
   emet un diagnostic du type : <F>_CATAELE_ERROR. En batch, le code retour de la procedure
   agla ccat92_py.csh etait mal positionne (syntaxe bash au lieu de csh) et le diagnostic
   etait <F>_ERREUR_SYSTEME mais l'execution s'arretait bien lors de la compilation des
   elements (le script avait du deja etre modifie).
   Je modifie le script pour avoir un diagnostic du type <F>_CATAELE_ERROR et
   <F>_CATAPY_ERROR pour etre homogene avec la version interactive.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   test perso sur profil de surcharge avec des catalogues contenant des erreurs
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR g8bhhxd      DESROCHES X.           DATE 12/01/2006 - 16:42:02

--------------------------------------------------------------------------------
RESTITUTION FICHE 009258 DU 2005-12-13 00:00:00
TYPE evolution POUR Code_Aster (VERSION )
TITRE
   Derivees des coefficients d'intensite de contraintes
FONCTIONNALITE
   Calcul des derivees de K1 et K2 en elasticite
   lineaire par rapport :
   - au module d'Young
   - aux chargements en pression repartie, forces
   surfaciques(ou lineiques),
   forces volumiques, forces nodales
   en 2D (AXIS, D_PLAN et C_PLAN) .
   DETAILS : routines impactees :
   OP0053 :  CALC_G_THETA_T
   MEFICG :  calcul des derivees
   MECALG :  modif si plusieurs charges
   GCHARG :  modif si plusieurs charges

   VALIDATION :
   SSLP101F coefficients d'intensite de contraintes
   en contraintes planes :
   Calcul de dK1/dE, dK1/dF ou dK1/dP avec
   chargement force
   contour ou pression sur les levres sur
   2 couronnes
   d'integration.
   La solution de reference est calculee
   par differences finies.
   IMPACT_DOCUMENTAIRE
   DOC_U : U4.50.02 Mot-cle sensibilite : ajout dans
   le § Operateur CALC_G_THETA_T avec ses fonctionnalites
   des derivees de K1 K2.
   DOC_R : R4.03.07 Post-traitement en sensibilite:
   ajout dans le § CALC_G_THETA_T des derivees de K1 K2.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.50.02 R4.03.07
VALIDATION
   SSLP101F
NB_JOURS_TRAV  : 16.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR geniaut      GENIAUT S.             DATE 17/01/2006 - 08:52:21

--------------------------------------------------------------------------------
RESTITUTION FICHE 009343 DU 2006-01-10 17:30:00
TYPE express POUR Code_Aster (VERSION 8.2)
TITRE
   ssnv166c pas en conformite avec la doc V
FONCTIONNALITE
   Auteur: geniaut  	Date: 2006-01-10.17:33:22

   J'ai fait les rajouts necessaires dans le cas test ssnv166c

   - test de K1 en flexion sans contact

   - ajout du STAT_NON_LINE pour le contact + test de K1 en flexion avec contact

   Auteur: geniaut 	Date: 2006-01-10.17:29:58

   copie du mail de Jerome Laverne

   "Il n'y a pas de valeur pour le calcul "aster" dans la doc V6.04.166 page 17 paragraphe
   8.1.3.
   De plus, j'ai regarde le fichier ssnv166c.resu et je ne retrouve pas les valeurs du
   paragraphe 8.1.2."

   reponse de Samuel Geniaut

   "Effectivement, c'est du n'importe quoi.
   Dans le ssnv166c.comm, les deux 1er tests sont ok et correspondent aux 8.1.1 et 8.1.2 de
   la doc.
   Par contre, les 2 dernieres tests n'ont aucun sens.
   D'ailleurs, il manque plein de choses dans ssnv166c.comm :
   Il faut d'abord effectuer le calcul pour les 2 numeros d'ordre definis, puis creer les
   champs de deplacement et la table des facteurs d'intensite de contraintes pour le 2eme
   numero d'ordre (flexion).
   Ensuite, faire le test sur K1 en flexion par rapport a la reference analytique.
   et puis le test de non regression, ce qui permettra de completer le paragraphe 8.1.3 de
   la
   doc."
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V6.04.166
VALIDATION
   ssnv166c
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 009349 DU 2006-01-12 07:17:40
TYPE anomalie POUR Code_Aster (VERSION 2.x)
TITRE
   test ssnv173f : arret brutal dans STAT_NON_LINE
FONCTIONNALITE
   Auteur: geniaut  	Date: 2006-01-13.12:16:48

   Correction mineure, appel des matrices de sechage et hydratation en 2d aussi.

   Auteur: d6bhhjp 	Date: 2006-01-12.07:17:38

   Avec la version NEW8.2.3 compilee sous linux Calibre 3 et Rocks, le test ssnv173f
   s'arrete
   brutalement dans STAT_NON_LINE, avant le solveur mumps.
   Avec la version Intel sous Rocks, le test s'arrete aussi brutalement.

   --- NOMBRE TOTAL DE NOEUDS :  138 DONT :  116 NOEUDS "LAGRANGE"
   --- NOMBRE TOTAL D'EQUATIONS :  200
   --- NOMBRE DE COEFFICIENTS NON NULS DANS LA MATRICE :  2572
   --- NOMBRE DE BLOCS UTILISES POUR LE STOCKAGE :  1

   ------------------------------------------------------------------------------------------
   ------------------------------

   INSTANT DE CALCUL :  1.000000000E+00

   ------------------------------------------------------------------------------------------
   ------------------------------
   |     CONTACT    |     CONTACT    |     CONTACT    |   ITERATIONS   |     RESIDU     |
   RESIDU     |     OPTION     |
   |    CONTINU     |    CONTINU     |    CONTINU     |     NEWTON     |     RELATIF    |
   ABSOLU     |   ASSEMBLAGE   |
   |   ITER. GEOM.  |   ITER. FROT.  |   ITER. CONT.  |                | RESI_GLOB_RELA |
   RESI_GLOB_MAXI |                |
   ------------------------------------------------------------------------------------------
   ------------------------------
   <F> <ASTER  8. 2. 3 11/01/2006 >

   <F> <STAT_NON_LINE> <"FLOATING POINT EXCEPTION"> IL Y A PROBABLEMENT UNE ERREUR

   DANS LA PROGRAMMATION
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   ssnv173f
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR granet       GRANET S.              DATE 16/01/2006 - 16:58:13

--------------------------------------------------------------------------------
RESTITUTION FICHE 009296 DU 2005-12-20 00:00:00
TYPE anomalie POUR Code_Aster (VERSION 8.2)
TITRE
   Modelisation ELAS_THER en THM
FONCTIONNALITE
   FONCTIONNALITE
   Pour les modelisations THM avec ELAS_THER, le nombre de
   variables internes n'a pas ete incremente dans le
   catalogue aussi la saturation se retrouve en 4eme
   position au lieu de 5.

   DETAILS
   On modifie le catalogue c_comp_incr.py

   catalogue modifiee :c_comp_incr.py

   Cas tests modifies  : wtna103a
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 8.1.0
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   Passage des cas tests THM. On rajoute un test sur la
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR nicolas      NICOLAS O.             DATE 16/01/2006 - 15:17:59

--------------------------------------------------------------------------------
RESTITUTION FICHE 009139 DU 2005-10-25 00:00:00
TYPE aide utilisation POUR Code_Aster (VERSION 8.1)
TITRE
   AOM DYNA_NON_LINE avec REPRISE
FONCTIONNALITE
   Cette AOM est finie. Elle a ete a l'origine de plusieurs EL dont 2 sur DYNA_NON_LINE :
   ajout du mot cle ACCE dans ETAT_INIT et de la methode DEPL_CALCULE a l'image de
   STAT_NON_LINE
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   Neant
NB_JOURS_TRAV  : 0.01
--------------------------------------------------------------------------------
RESTITUTION FICHE 009330 DU 2006-01-06 11:09:52
TYPE express POUR Code_Aster (VERSION 2.x)
TITRE
   Menage dans REST_BASE_PHYS
FONCTIONNALITE
   Je profite de mon passage pour alleger l'op0075 de REST_BASE_PHYS qui comportait beaucoup
   trop de if et etait mal structure.
   Je modifie aussi les routines mdallo et tran75 afin de les alleger et les rendre plus
   lisible.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   liste complete
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 009166 DU 2005-11-03 00:00:00
TYPE anomalie POUR Code_Aster (VERSION 8.1)
TMA : CS
TITRE
   IMPR_RESU format IDEAS
FONCTIONNALITE
   Sans suite apres verification
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE :
VALIDATION
   Cas test perso
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 009354 DU 2006-01-13 12:31:17
TYPE evolution POUR Code_Aster (VERSION )
TITRE
   Restitution d'un resultat de calcul cyclique sur maillage complet
FONCTIONNALITE
   Cette fiche pour completer un developpement rentre en 2005.

   L'operateur DEFI_SQUELETTE permet depuis 2005 de generer le maillage complet d'une
   structure a symetrie cyclique a partir du maillage d'un secteur de cette structure.
   Dans l'operateur REST_BASE_PHYS, je souhaite rajouter une option permettant de resituer
   sur ce nouveau maillage squelette les champs aux noeuds calcules sur le modele du seul
   secteur et prise en compte de la symetrie cyclique (avec LIAISON_MAIL ou LIAISON_CYCL par
   exemple).
   L'action de cet option de REST_BASE_PHYS consiste :
   1/ dans le cas statique (un seul champ au noeud fourni) a faire tourner ce champ aux
   noeuds sur le maillage squelette
   2/ dans le cas dynamique (2 champs aux noeuds fournis RESULTAT et RESULTAT2) a faire la
   combinaison des champs aux noeuds et les faire tourner sur le nouveau maillage.

   La syntaxe adaptee de REST_BASE_PHYS sera la suivante :

   CYCLIQUE    =FACT(statut='f',max='**',
   NB_SECTEUR      =SIMP(statut='f',typ='I',validators=NoRepeat(),max=1 ),
   NUM_DIAMETRE    =SIMP(statut='f',typ='I',validators=NoRepeat(),max=1 ),
   RESULTAT2       =SIMP(statut='f',typ=(mode_meca, evol_noli...) ),
   ),


   Les cas test sdll133 sont modifies pour tester.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.63.21
VALIDATION
   sdll133b
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 009355 DU 2006-01-13 12:35:04
TYPE evolution POUR Code_Aster (VERSION )
TITRE
   PROJ_CHAMP & mode_meca
FONCTIONNALITE
   En 2005, j'avais modifie la syntaxe de PROJ_CHAMP afin d'imposer une numerotation aux SD
   mode_meca projetees. Je l'avais fait en ajoutant les mots cles MATR_RIGI et MATR_MASSE a
   PROJ_CHAMP.
   Depuis, la mise au carre des SD mode_meca, seule la numerotation est indispensable.
   J'elimine donc les mots cles MATR_* et ajoute NUME_DDL en mot cle facultatif.
   Ce faisant, cette modif ne concerne plus uniquement les SD mode_meca mais toute SD dont on
   souhaite imposer la numerotation en sortie de PROJ_CHAMP.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.72.05
VALIDATION
   sdls112a
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

       C MODIF scotch/fetsco                  assire A.ASSIRE            70      4      9
 CASTEST MODIF fdnl100a                      cibhhlv L.VIVAN            454    108     36
 CASTEST MODIF sdll133b                      nicolas O.NICOLAS          368     45      1
 CASTEST MODIF sdls112a                      nicolas O.NICOLAS          299      2      3
 CASTEST MODIF sslp101f                      g8bhhxd X.DESROCHES        350    109     27
 CASTEST MODIF sslv110c                      g8bhhxd X.DESROCHES        376      7      7
 CASTEST MODIF ssnv166c                      geniaut S.GENIAUT          323    105     12
 CASTEST MODIF wtna103a                       granet S.GRANET           323     14      1
 CASTEST MODIF wtnv122a                      cibhhlv L.VIVAN            441      5      7
 CASTEST MODIF wtnv122b                      cibhhlv L.VIVAN            450      5      7
 CASTEST MODIF wtnv122c                      cibhhlv L.VIVAN            450      5      7
 CASTEST MODIF wtnv123a                      cibhhlv L.VIVAN            593      7     13
 CASTEST MODIF wtnv123b                      cibhhlv L.VIVAN            467      7      9
 CASTEST MODIF wtnv123c                      cibhhlv L.VIVAN            832      7      9
CATALOPY MODIF commande/debut                d6bhhjp J.P.LEFEBVRE        82      5      5
CATALOPY MODIF commande/meca_statique        boiteau O.BOITEAU           98      2      2
CATALOPY MODIF commande/poursuite            d6bhhjp J.P.LEFEBVRE        79      4      4
CATALOPY MODIF commande/proj_champ           nicolas O.NICOLAS          113      6      6
CATALOPY MODIF commande/rest_base_phys       nicolas O.NICOLAS           87     18      3
CATALOPY MODIF commun/c_comp_incr             granet S.GRANET           334      2      1
 FORTRAN AJOUT algorith/cynupl               nicolas O.NICOLAS          222    222      0
 FORTRAN AJOUT algorith/excygl               nicolas O.NICOLAS          116    116      0
 FORTRAN AJOUT algorith/exphgl               nicolas O.NICOLAS          224    224      0
 FORTRAN MODIF algeline/alfeti               boiteau O.BOITEAU          972     19      7
 FORTRAN MODIF algeline/dnaupd                boyere E.BOYERE           660      2      2
 FORTRAN MODIF algeline/facsmb               boiteau O.BOITEAU          286     18      7
 FORTRAN MODIF algeline/op0141               nicolas O.NICOLAS          234     12      3
 FORTRAN MODIF algeline/preml1               boiteau O.BOITEAU          376     14      3
 FORTRAN MODIF algeline/premlc               boiteau O.BOITEAU          256     13      2
 FORTRAN MODIF algeline/preres               boiteau O.BOITEAU          237     10      7
 FORTRAN MODIF algeline/resoud               boiteau O.BOITEAU          258     15      7
 FORTRAN MODIF algeline/tldlg2               boiteau O.BOITEAU          608      9      5
 FORTRAN MODIF algeline/vpcrea               nicolas O.NICOLAS          114     11      3
 FORTRAN MODIF algeline/vtcmbl               boiteau O.BOITEAU          391      2      2
 FORTRAN MODIF algeline/vtdefs               boiteau O.BOITEAU          170      2      2
 FORTRAN MODIF algorith/cresol               boiteau O.BOITEAU          349     11      5
 FORTRAN MODIF algorith/fetccn               boiteau O.BOITEAU          195      2      2
 FORTRAN MODIF algorith/fetmon               boiteau O.BOITEAU          138     46     26
 FORTRAN MODIF algorith/fetrin               boiteau O.BOITEAU          582      2      2
 FORTRAN MODIF algorith/gfacc0               cibhhlv L.VIVAN            150     16     18
 FORTRAN MODIF algorith/gfforc               cibhhlv L.VIVAN            224      8     13
 FORTRAN MODIF algorith/gfinit               cibhhlv L.VIVAN            260     23     15
 FORTRAN MODIF algorith/mdallo               nicolas O.NICOLAS          225     13      3
 FORTRAN MODIF algorith/nmarch               cibhhlv L.VIVAN            309      3      1
 FORTRAN MODIF algorith/nmgrfl               cibhhlv L.VIVAN            706      5      5
 FORTRAN MODIF algorith/op0075               nicolas O.NICOLAS          289     64     66
 FORTRAN MODIF algorith/tran75               nicolas O.NICOLAS          510     29    186
 FORTRAN MODIF assembla/assmam               boiteau O.BOITEAU         1024     14     10
 FORTRAN MODIF assembla/assvec               boiteau O.BOITEAU          960     14     10
 FORTRAN MODIF assembla/nueffe               boiteau O.BOITEAU         1045     12      3
 FORTRAN MODIF assembla/numero               boiteau O.BOITEAU          346     17     12
 FORTRAN MODIF assembla/prolci               boiteau O.BOITEAU          520     16      5
 FORTRAN MODIF assembla/promor               boiteau O.BOITEAU          433     16      3
 FORTRAN MODIF calculel/calcul               boiteau O.BOITEAU          403     71      7
 FORTRAN MODIF calculel/excart               boiteau O.BOITEAU          127     19      2
 FORTRAN MODIF calculel/exchml               boiteau O.BOITEAU          252     71      8
 FORTRAN MODIF calculel/exchno               boiteau O.BOITEAU          321     85     10
 FORTRAN MODIF calculel/exresl               boiteau O.BOITEAU          128     41      4
 FORTRAN MODIF calculel/extrai               boiteau O.BOITEAU          157     27      2
 FORTRAN MODIF calculel/gcharg               g8bhhxd X.DESROCHES        441      4      1
 FORTRAN MODIF calculel/mecalg               g8bhhxd X.DESROCHES        467      7      4
 FORTRAN MODIF calculel/meficg               g8bhhxd X.DESROCHES        374     76     14
 FORTRAN MODIF calculel/montee               boiteau O.BOITEAU          134     25      2
 FORTRAN MODIF calculel/op0053               g8bhhxd X.DESROCHES        887     99      7
 FORTRAN MODIF calculel/pjefpr               nicolas O.NICOLAS          194     11     21
 FORTRAN MODIF calculel/te0000               boiteau O.BOITEAU         2029     47      2
 FORTRAN MODIF calculel/zechlo               boiteau O.BOITEAU          176     53      2
 FORTRAN MODIF elements/creso1               boiteau O.BOITEAU          186      4      4
 FORTRAN MODIF elements/te0532               geniaut S.GENIAUT          243      2      2
 FORTRAN MODIF elements/te0539               geniaut S.GENIAUT          427      1      3
 FORTRAN MODIF elements/vtcre1               boiteau O.BOITEAU          155      2      2
 FORTRAN MODIF modelisa/afddli               cibhhlv L.VIVAN            169     18      7
 FORTRAN MODIF modelisa/caddli               cibhhlv L.VIVAN            343     19     32
 FORTRAN MODIF modelisa/caddlp               cibhhlv L.VIVAN            258     22      4
 FORTRAN MODIF modelisa/cafaci               cibhhlv L.VIVAN            580     31     11
 FORTRAN MODIF modelisa/cagrf1               cibhhlv L.VIVAN            247     68     11
 FORTRAN MODIF modelisa/cagrfl               cibhhlv L.VIVAN            676      2      2
 FORTRAN MODIF modelisa/exlim2               boiteau O.BOITEAU          517     14      1
 FORTRAN MODIF supervis/ibfhdf               d6bhhjp J.P.LEFEBVRE        42      2      2
 FORTRAN MODIF utilitai/op0184               d6bhhjp J.P.LEFEBVRE       421      2      1
 FORTRAN MODIF utilitai/rscrsd               cibhhlv L.VIVAN            845      6      4


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    3         562       562              +562
 MODIF :   78       30615      1734     776      +958
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :   81       31177      2296     776     +1520 
