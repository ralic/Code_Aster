========================================================================
Version 11.2.25 du : 21/11/2012
========================================================================


-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR abbas        ABBAS Mickael          DATE 11/19/2012 - 06:32:15

--------------------------------------------------------------------------------
RESTITUTION FICHE 019895 DU 2012-11-09 09:34:57
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.02.22, le cas-test sdnv103h est NOOK sur Rocks.
FONCTIONNALITE
   Probl√®me
   ========
   
   En NEW11.02.22, le cas-test sdnv103h est NOOK sur Rocks. 
   En NEW11.02.23, le cas-test sdnv103h est OK sur Rocks.
   En NEW11.02.24, le cas-test sdnv103h est NOOK sur Rocks.
   
   Solution
   ========
   
   L'instabilit√© semble venir d'une alarme concernant la recherche des instants dans la SD
   r√©sultat.
   
      !-----------------------------------------------------------------------------!
      ! <A> <UTILITAI8_38>                                                          !
      !                                                                             !
      !  Plusieurs champs correspondant ? l'acc?s demand? pour la SD_RESULTAT  RESU !
      !                                                                             !
      !  acc?s INST : 2e-05                                                         !
      !                                                                             !
      !   nombre : 2 NUME_ORDRE retenus : 59, 60                                    !
      !                                                                             !
      !                                                                             !
      ! Ceci est une alarme. Si vous ne comprenez pas le sens de cette              !
      ! alarme, vous pouvez obtenir des r?sultats inattendus !                      !
      !-----------------------------------------------------------------------------!
   
   Je rajoute une pr√©cision sur les TESt_RESU pour ne s√©lectionner qu'un seul instant.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sdnv103h
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR boiteau      BOITEAU Olivier        DATE 11/19/2012 - 06:42:13

--------------------------------------------------------------------------------
RESTITUTION FICHE 017578 DU 2011-09-22 15:07:58
TYPE anomalie concernant Code_Aster (VERSION 11.4)
TITRE
    En NEW11.0.23, les cas-tests sdls118b, sdll140a et sdll123a s'arretent en NOOK_TEST_RESU sur Calibre 7.
FONCTIONNALITE
   PROBLEME
   =========
        R√©sultats NOOK sur qqes TEST_RESUs de SDLL140a, SDLL123a et SDLS118b
        sur Calibre 7 (NEW11).
   
   ANALYSE
   ========
     
     CAS-TEST: SDLL140a
     ~~~~~~~~~~~~~~~~~~
     Il effectue le meme calcul modal quadratique avec deux solveurs modaux
     diff√©rents: Sorensen et QZ. Un TEST_RESU sur le second calcul QZ pose pb sur 
     Calibre7.
     Il y'a qqes mois j'ai donc pass√© quelques jours √† introspecter les √©carts de
     r√©sultats concernant QZ_Lapack (car Aster appel directement LAPACK pour cette
     fonctionnalit√©) entre Calibre7 et Aster4. Je n'avais rien trouv√© de probant !
   
     Et pour cause ! Je cherchais ds une mauvaise voie ! Le pb n'√©tait pas d√ª ici
     aux √©carts de r√©sultats produits par des impl√©mentations diff√©rentes de LAPACK
     mais ... √† ce qu'on en fait par la suite ds Aster.
   
     En effet, √† l'issue d'un calcul modal quadratique on trie les valeurs propres
     en trois cat√©gories:
         - les r√©elles,
         - les imaginaires non conjugu√©es,
         - les imaginaires conjugu√©es.
     Puis on ne retient que la derni√®re cat√©gorie. Donc des poui√®mes d'√©cart sur un
     m√™me mode, entre deux plate-formes, ont vite fait de faire basculer ce mode de
     la 3ieme (on garde) √† la 2nd cat√©gorie (on jette). Ou l'inverse.
   
     C'est ce qui se produisait ici pour le 3ieme mode:
     Sur toutes les plate-formes sauf C7 on le rejetait et donc on passait au mode
     suivant. A partir du 3ieme mode, on d√©calait donc par erreur les modes d'un 
     rang: le 4ieme √©tait pris pour le 3ieme, le 5ieme pour le 4ieme ...
     SEULE C7 AVAIT ICI RAISON (et c'est lui qui paradoxalement sortait en NOOK pui
     sque le TEST_RESU √©tait faux !) et triait bien le mode 3.
   
   SOLUTION PROPOSEES
   ===================
     Bref, pour corriger ce pb je modifie l'algorithme de tri des routines wp*vec.
     Il √©tait tr√©s compliqu√© et bas√© sur des √©carts relatifs entre les parties r√©el
     les, imaginaires et les modules de deux complexes. Il √©tait de plus pilot√©
     par des seuils fix√©s en dur ds le fortran.
    
     Je le simplifie grandement 
         - en me basant juste sur l'√©cart des modules entre les 2 complexes jaug√©s.
     Je le rend '√©ventuellement) param√©trable de l'ext√©rieur et surtout COHERENT
     avec les autres tris op√©r√©s en modal:
         - si l'√©cart pr√©c√©dent est inf√©rieur au "z√©ro modal" (param√©tr√© par
           SEUIL_FREQ/CHAR_CRIT) on consid√®re que les modes sont bien conjugu√©s.
   
     Avec cette modif d'algo et en corrigeant les TEST_RESUs (je les enrichi pour
     qu'ils testent plus de modes avec QZ et Sorensen), cela passe √† nouveau sur
     les 2 plate-formes: Aster4 et C7.
   
     RQ1. Ces routines de tri de posttraitement en QEP restent n√©anmoins insatisfai
     santes. J'ai point√© du doigt le pb depuis de nbreuses ann√©es. Cette fiche m'a
     permis de reprendre conscience du pb. J'ai √©mis une fiche sur les √©volutions
     qui me semble souhaitables sur ce sujet (fiche 19834).
   
     RQ2. Cette instabilit√© des tris est surtout r√©v√©l√©e les calculs avec 
         QZ, car elle peut agraver le pb de la variabilit√© des r√©sultats de LAPACK.
         Avec Sorensen, la m√©thode par d√©faut, le pb est moins pr√©gnant.
   
     CAS-TEST: SDLS118b et SDLL123a
     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
     Autres types de pbs sur des GEP avec MODE_ITER_SIMULT.
     Ils me semble fonctionner √† nouveau sur Aster4 et C7.
   
   DEVPT ANNEXE
   ============
      Suite √† la derni√®re restit de Hassan (fiche 19108) j'apporte un correctif
      suppl√©mentaire:
       L'√©cart entre la taille de l'espace de projection et le nbre de modes cal
       cul√©s doit √™tre au moins de 2 (au sens strict). Je l'avais pr√©vu mais mal
       test√© ds op0045.f. Je le testais au sens large, d'o√π l'√©crasement ds ce
       cas de figure au lieu du correctif pr√©vu initialement.
       Je corrige ce test (le .LT. en .LE.). Il n'invalide pas le paliatif op√©r√©
       par Hassan.
   
   VALIDATION
   ==========
     La liste des 346 cas-tests appelant directement MODE_ITER_SIMULT sur 
     Aster4 et C7. 
     Seul le SDLL123e pose pb (sous Aster4 seulement): le tri post-modal rejette 
     72 valeurs comme √©tant complexes d√©pareill√©es. En augmentant SEUIL_FREQ de
     0.01 √† 0.1 (l'ordre de grandeur moyen des modes recherch√©s √©tantt en 10.exp4).
     
     RQ. Le crit√®re de tri pourrait √™tre en relatif. C'est √† discuter ds le cadre
     de le refonte prochaine de ces tris (19834). Faut-il r√©utiliser un mot-cl√© en
     pourcentage d√©j√† utilis√© par ailleurs (CALC_*/PREC_SHIFT ou VERI_MODE/
     PREC_SHIFT) ou cr√©er un mot-cl√© d√©di√© ou autre. 
   
   IMPACT FONCTIONNEL
   ==================
     MODE_ITER_SIMULT + QEP (sauf Sorensen approche complexe).
   
   SOURCES RESTITUEES
   ==================
     F77: op0045.f, wp2vec.f, wp3vec.f et wp4vec.f
     TEST: sdll140a.comm, sdll123e.comm.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : U4.52.03
VALIDATION
    informatique,non-rxc3xa9gression,fonctionnel
NB_JOURS_TRAV  : 6.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 019830 DU 2012-10-26 14:20:01
TYPE anomalie concernant Code_Aster (VERSION 11.4)
TITRE
    Correction restitution MODE_ITER_SIMULT faite en 11.2.15
FONCTIONNALITE
   ANALYSE DES PBS FONCTIONNELS
   ============================
   En travaillant sur la fiche 17578, chemin faisant, je me suis aper√ßut que, 
   comme pour INFO_MODE(19608/19788), lors du chantier de la fiche 19086, un 
   certain nombre de boulettes avaient √©t√© commises. 
   Certaines sont d'ordre cosm√©tique, d'autres sont r√©ellement
   fonctionnelles voire conduises √† des comportements surprenant ou inconsistant:
      un calcul avec GENERAL va se comporter diff√©remment sur le m√™me type de pb
       qu'avec MODE_FLAMB (en GEP) ou DYNAMIQUE (en QEP).
   
   Le noeud du pb √©tant la mani√®re dont on formalise les entr√©es/sorties ds ce
   nouveau cadre de travail lorsqu'on traite un GEP non std (matrice complexe et/ou
   non sym√©trique) ou un QEP.
   
   Le d√©tail de mes constations et de mes craintes est trac√©s ds les diff√©rents
   posts de cette fiche. Je livre ici juste la conclusion. Elle a √©t√© valid√©e par
   les intervenants du p√¥le DYN.
   
   CONCLUSION
   ==========
     Je me demande si ds l'imm√©diat, vu l'urgence de la stabilisation, il ne 
     faudrait pas r√©duire la voilure et restreindre l'usage de GENERAL au GEP std 
   (comme MODE_FLAMB). On le fait via le capy et le F77.
     
     La  seule diff√©rence entre GENERAL et MODE_FLAMB serait alors le nom des 
     matrices √† donner en input ! Suivant les besoins av√©r√©s des utilisateurs on
     agrandira le p√©rim√®tre d'utilisation et on sp√©cifiera les entr√©es/sorties.
     On oublie, pour l'instant, les GEPs non stds et les QEPs. 
     
     RQ1. On fait la m√™me chose avec MODE_ITER_INV.
   
     RQ2. On garde le mode de fonctionnement "GENERAL" avec INFO_MODE car il ne
     pose pas de pb fonctionnel ou de consistance de comportement.
     Les input/outputs sont beaucoup plus simples (bande/disque et nbre de
     fr√©quences) et on peut, sans ambigu√Øt√©, en mode GENERAL, se reporter sur 
     MODE_COMPLEXE ou MODE_FLAMB.
     
   PBS COSMETIQUES
   ===============
     - Ne pas accepter de matrice complexe en flambement (pas de 
       matr_asse_depl/gene_C).
   
     - Tant qu'√† homog√©n√©iser les noms de mot-cl√©, pourquoi avoir laiss√© 
       STOP_FREQ_VIDE commum √† DYNAMIQUE et MODE_FLAMB ? Du coup,  ne faudrait il 
       pas le renommer STOP_BANDE_VIDE ? Je le fais et cela impacte aussi les 
       macros CALC_MODAL et MACRO_MODE_MECA + 8 cas_tests.
   
      - Ds la doc U, Il faut bien pr√©ciser qu'en GEP std (la majorit√© des cas de 
        figures) que si TYPE_RESU=GENERAL on se comporte comme TYPE_RESU=
       MODE_FLAMB: r√©cup√©ration des donn√©es, affichages, calcul du shift et du 
       test de Sturm, connexion √©ventuelle avec un INFO_MODE pr√©alable...
   
   IMPACTS FONCTIONNELS
   ====================
     MODE_ITER_SIMULT/INV, CALC_MODAL et MACRO_MODE_MECA.
   
   VALIDATION
   ==========
     Liste cas-tests appelant MODE_ITER_SIMULT/INV + CALC_MODAL + MACRO_MODE_MECA
     sur ASTER4 seq nodebug.
   
   SOURCES RESTITUEES
   ==================
   TEST:
   supression TYPE_RESU='GENERAL' en QEP
   sdlv302c.comm  sdll123b.comm  sdld27a.comm
   Remplacement STOP_FREQ_VIDE en STOP_BANDE_VIDE
   sdls122a.comm  sdls106f.comm  sdls106e.comm  sdls106d.comm  sdls106c.comm  
   sdls106b.comm  zzzz208b.comm  sdnl132a.comm
     
   PY:
   macro_mode_meca_ops.py  calc_modal_ops.py
   
   F77:
   op0045.f  op0044.f
   
   CAPY:
   mode_iter_simult.capy  mode_iter_inv.capy  macro_mode_meca.capy  calc_modal.capy
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : U4.52.02,U4.52.03,U4.52.04,U4.52.10
VALIDATION
    informatique,non-rxc3xa9gression,fonctionnelle
NB_JOURS_TRAV  : 6.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 019897 DU 2012-11-09 09:55:30
TYPE anomalie concernant Code_Aster (VERSION 11.4)
TITRE
    En NEW11.02.22, le cas-test perf013d sxe2x80x99arrxc3xaate en erreur fatale sur Aster4_MPI.
FONCTIONNALITE
   PROBLEME
   ========
      Le cas-test perf013d plante sur Aster4_mpi (4 proc) sur ALGELINE5_15.
   
   ANALYSE
   =======
     Constat
     ~~~~~~~
     Il s'agit d'un calcul modal via MODE_ITER_SIMULT + Sorensen dont un des modes a
     une norme d'erreur l√©g√®rement plus grande que les SEUIL=1.E-6 accept√© par d√©faut.
     Rien d'inqui√©tant √† cela. En seq, on trouve un r√©sultat tr√®s proche (0.88 E-6). La
     variabilit√© est due √† MUMPS //. D'autres modes sont aussi proche de ce seuil.
   
     Conditionnements
     ~~~~~~~~~~~~~~~~
   * Cela ne semble pas √™tre d√ª √† de mauvais conditionnement spectraux:
          - la matrice √©tant normale (car sym√©trique) les conds pour la recherche de 
            fr√©quences (locale ou globale) sont suppos√©s parfait.
          - le cond. pour la recherche du 2ieme vecteur propre est bon: 10.E-5.
     
   * Par contre le conditionnement des syst√®mes lin√©aires est assez mauvais (en au mieux
     10.E+9) et on n'arrive pas √† faire passer la qualit√© (au sens MUMPS) de r√©solution
     de chaque syst√®me en de√ßa de 1.E-6. M√™me si, en modal, pour aller plus vite ds les
     nbreuses descente-remont√©es, on d√©branche par d√©faut ces processus d'am√©lioration
     de la qualit√©.
   
     Strat√©gies palliatives
     ~~~~~~~~~~~~~~~~~~~~~~
   * En suivant la recommandation principale du message d'erreur, c-a-d en augmentant
     COEF_DIM_ESPACE de 2 √† 4 voire √† 6, cela n'am√©liore pas suffisamment la qualit√©.
     Sans doute est-ce d√ª √† la taille d√©j√† raisonnable de l'espace de projection (une
     dizaine de modes; avec 50 ou 100 on aurait pu esp√©rer plus de gains par cette
     astuces).
     Le mauvais conditionnement des syst√®mes lin√©aires ne doit pas √™tre √©tranger aussi
     aux pi√®tres gains obtenus par cette strat√©gie d'ordinaire assez payante.
   
   * En for√ßant la qualit√© de r√©solution MUMPS (RESI_RELA=1.E-5 ou 1.E-6 avec POSTTRAI
     TEMENT='AUTO' ou 'FORCE' ) cela n'am√©liore pas sensiblement la qualit√© finale du
     2ieme mode.
   
   * Les seules strat√©gies permettant d'am√©liorer les choses consistent:
      - soit √† placer le mode incrimin√© au milieu d'une petite bande de recherche (la
        qualit√© se d√©t√©riore lorsqu'on s'√©loigne du shift du fait des pbs d'orthogonali
        sation).
      - soit √† cha√Æner MODE_ITER_SIMULT + MODE_ITER_INV/OPTION='PROCHE' sur le mode
        incrimin√©. En faisant cela on gagne un facteur 4 sur la pr√©cision. Le vecteur
        propre est grandement am√©liorer. Mais le surco√ªt en temps n'est pas n√©gligeable 
        (30% en seq).
   
   RQ1. Ce type de posttraitement est envisag√© pour MODE_ITER_SIMULT (pendant du raffine
       ment it√©ratif des solveurs lin√©aires).
     
   CONCLUSION
   ===========
     L'objectif de ce cas-test √©tant de jauger les performances de SORENSEN+MUMPS, on ne
     va pas s'acharner pour am√©liorer un r√©sidu modal d√©j√† tr√®s correcte.
     On diminue la pr√©cision requise de 1.E-6 √† 1.E-5 via VERI_MODE/SEUIL.
   
   SOURCE RESTITUEE
   ==================
     TEST: perf013d.comm
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    non-rxc3xa9gression
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 019054 DU 2012-06-25 13:38:56
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.02.03, le cas-test ssnv166b s'arrete en erreur fatale sur Rocks.
FONCTIONNALITE
   Corrig√© par la fiche 19347
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    non-r√©gression
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR michel       MICHEL-PONNELLE Sylvie   DATE 20/11/2012 - 16:24:00

--------------------------------------------------------------------------------
RESTITUTION FICHE 019841 DU 2012-10-29 15:32:14
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TMA : Necs
TITRE
    AFFE_CARA_ELEM : GRILLE/AXE et ORIG_AXE
FONCTIONNALITE
   Description du problËme :
   =======================
   
   Il est possible de donner la direction d'armature des grilles ‡ partir 
   des mot-clÈs AXE et
   ORIG_AXE.
   A mon sens ORIG_AXE est en trop, actuellement il permet d'ailleurs de 
   dÈfinir une
   orientation d'armature qui n'appartient pas au plan tangent ‡ l'ÈlÈment.
   
   
   Ex :
   
                     (1,0,1) A---B (2,0,1)
                             |   |
                     (1,0,0) D---C (2,0,0)
   
   AXE = (0,0,1)
   ORIG_AXE =(0,0,0)
   Le centre de gravitÈ G = (1.5,0,0.5)
   A partir de la doc de AFFE_CARA_ELEM on va calculer le xlocal sur cet 
   exemple.
   
   La droite D est dÈfinie par (x0 = (0,0,0) et V = (0,0,1)
   X = G
   La projection de X sur D, XD = (0,0,0.5)
   X1 =XXD = (1.5,0,0)
   Y1 =V^X1=(0,1.5,0)
   Normons Y1 : Y1 =(0,1,0)
   xlocal = (0,1,0) n'appartient pas au plan tangent de l'ÈlÈment.
   
   En fait, le mot-clÈ AXE suffit. xlocal est alors calculÈ ‡ partir de AXE 
   et de la normale
   de l'ÈlÈment.
   C'est d'ailleurs ce qui est fait dans le routine python du test zzzz189a 
   (on remarque
   qu'elle n'a pas de mot-clÈ ORIG_AXE), mais dans aceagb.f on fait bien 
   comme indiquÈ dans
   la doc.
   
   
   RÈsultats faux :
   ==============
   
   Des rÈsultats faux peuvent apparaitre quand le vecteur dÈfini par le 
   centre de gravitÈ de
   la maille de GRILLE et sa projection sur la droite dÈfinit par AXE et 
   ORIG_AXE n'est pas
   colinÈaire au vecteur normal au plan tangent ‡ l'ÈlÈment.
   Dans ces cas de figures le vecteur x local donnant l'orientation des 
   armatures
   n'appartient pas au plan tangent ‡ l'ÈlÈment.
   Il n'y a pas de rÈsultats faux dans le cas d'un modËle cylindrique si 
   AXE et ORIG_AXE
   dÈfinissent bien l'axe du cylindre.
   Dans les autres cas il y a de grandes chances de rÈsultats faux.
   
   
   Travail effectuÈ :
   ================
   
   On supprime le mot-clÈ ORIG_AXE des mot-clÈs facteurs GRILLE et MEMBRANE.
   A partir de AXE seul et de la normale de l'ÈlÈment, on calcule ALPHA et BETA
   comme c'est fait dans zzzz189a et c.
   xlocal = AXE ^ vecteur normal
   
   Rq : AXE a le mÍme rÙle que ANGL_REP, mais au lieu de dÈfinir l'axe x 
   local il dÈfnit
   l'axe y local.
   
   Sources modifiÈes :
   
   aceagb.f,aceamb.f
   aceinc.f : on remplace la vÈrif fait sur ORIG_AXE par une vÈrif sur AXE.
   affe_cara_elem.capy : suppression de ORIG_AXE du catalogue.
   zzzz189a.comm : on ajoute beta = - beta dans le partie python (aucune 
   incidence puisque
   les betas sont nuls dans ce test.
   zzzz189b.comm et zzzz189d.comm : suppression de ORIG_AXE et abaissement 
   des tolÈrances des
   TEST_RESU.
   
   
   Validation :
   ----------
   
   Les rÈsultats obtenus dans zzzz189b et d sont plus proches de a et c.
   
   Doc impactÈes :
   U4.42.01 : suppression de ORIG_AXE et rÈÈcriture des explications
   V1.01.189
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 10.0.0
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 11.0.0
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.42.01,V1.01.189
VALIDATION
    zzzz189b et d
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desroche     DESROCHES Xavier       DATE 20/11/2012 - 16:24:00

--------------------------------------------------------------------------------
RESTITUTION FICHE 016637 DU 2011-03-23 09:57:45
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TMA : Necs
TITRE
    Plus de tests pour DST/Q4G concernant les contraintes/forces nodales
FONCTIONNALITE
   ProblËme :
   ========
   
   La correction de la fiche issue14721 a montrÈ la faiblesse des tests pour les plaques 
   DST concernant la vÈrification des contraintes et forces nodales.
   Il en est de mÍme pour les Q4G.
   
   Travail effectuÈ :
   ================
   
   1- On a ajoutÈ les  modÈlisations en DKQ DSQ et Q4G ‡ SSLS27 (modÈlisation c,d,e).
   Le maillage en quadrangle a la mÍme finesse que les maillages en triangles des
   modÈlisations a et b.
   On a repris les mÍmes TEST_RESU que pour les modÈlisations a et b. Tous les tests sont 
   OK sans modifier la tolÈrance.
   
   2- On a crÈe la nouvelle sÈrie de test ssls141 basÈe sur ssls111 pour tester les
   dÈplacements, les contraintes et forces des DST et Q4G avec une ou plusieurs couches, 
   excentrÈes ou non. 
   Les solutions analytiques ont ÈtÈ rÈÈcrites en prenant en compte le cisaillement.
   
   Ce travail a montrÈ les problËmes suivants :
   
   - contrairement ‡ ce qui est Ècrit dans la doc u2.02.01 les Q4G ne supporte pas
   l'excentrement => issue19936
   
   - nous avons identifiÈ des rÈsultats de mauvaise qualitÈ pour les ÈlÈments plaques DST 
   sur des ÈlÈments TRIA3. Erreur en dÈplacement de 15%. => issue19938 (cas test + doc 
   fournis en piËce jointe ‡ la fiche)
   
   - nous avons identifiÈ des erreurs dans les contraintes de cisaillement (couches
   extÈrieures) pour les ÈlÈments DST (QUA4 et TRIA3) lorsqu'on utilise un excentrement.
   Erreurs uniquement pour les contraintes de cisaillement. => issue19939 (cas test + doc
   fournis en piËce jointe ‡ la fiche)
   
   4 modÈlisations sont restituÈes : DST QUAD4 monocouche, DST QUAD4 bicouche, Q4G QUAD4
   monocouche, Q4G QUAD4 bicouche.
   Ces 4 modÈlisations donnent des rÈsultats satisfaisants. Il faut tout de mÍme noter que
   pour un rÈsultat similaire le maillage DST comporte 50 ÈlÈments alors que le maillage 
   Q4G en comporte 800.
   
   
   Nouveaux tests : ssls27c, ssls27d, ssls27e , ssls141a, ssls141b, ssls141c, ssls141d.
   
   Impact doc :
   
   V3.03.027, V3.03.141
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V3.03.027, V3.03.141
VALIDATION
    ssls27c,d,e ssls141a,b,c,d
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR flejou       FLEJOU Jean Luc        DATE 20/11/2012 - 16:24:02

--------------------------------------------------------------------------------
RESTITUTION FICHE 019838 DU 2012-10-29 10:23:30
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TMA : Necs
TITRE
    [FORUM] Plantage POU_C_T + FORCE_POUTRE
FONCTIONNALITE
   ProblËme :
   ========
   Quand on utilise AFFE_CHAR_MECA/FORCE_POUTRE sur des POU_C_T, Aster plante car le
   paramËtre PCAARPO  n'est pas un paramËtre de l'option: CHAR_MECA_FR1D1D.
   
   Travail effectuÈ :
   ================
   
   On a ajoutÈ PCAARPO  en paramËtre de l'option CHAR_MECA_FR1D1D pour l'option et dans le
   catalogue des POU_C_T.
   
   Pour la validation : le test ssll112a utilise FORCE_POUTRE avec des POU_C_T mais via
   l'opÈrateur AFFE_CHAR_MECA_F.
   La fonction donnÈe est constante (=-100), on peut donc faire un calcul Èquivalent avec
   AFFE_CHAR_MECA.
   On duplique le calcul en remplaÁant AFFE_CHAR_MECA_F par AFFE_CHAR_MECA. On duplique
   Ègalement les TEST_RESU.
   Les rÈsultats du premier et du second calcul sont les mÍmes.
   
   Sources impactÈes :
   char_meca_fr1d1d.cata
   gener_mepct1.cata
   ssll112a.comm
   
   Impact doc : Aucun
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ssll112a
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR courtois     COURTOIS Mathieu       DATE 19/11/2012 - 13:58:00

--------------------------------------------------------------------------------
RESTITUTION FICHE 019934 DU 2012-11-14 16:58:35
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Permettre de dxc3xa9sactiver le contrxc3xb4le des communications MPI
FONCTIONNALITE
   Depuis la 11.2.12, avant de faire une communication globale, on v√©rifie syst√©matiquement que 
   tous les processeurs sont au rendez-vous et qu'ils n'ont pas √©mis une erreur.
   
   
   Un utilisateur du forum a constat√© un √©cart de temps de calcul :
   Version 11.2.11 ::
   
      TOTAL_JOB : 7095.36 : 202.94 : 7298.30 : 7319.13
   
   Version 11.2.19 ::
      TOTAL_JOB : 7114.21 : 506.94 : 7621.15 : 7629.61
   
   http://www.code-aster.org/forum2/viewtopic.php?id=18285
   
   
   Sur le suivi des perfs, on ne voit pas rien, sauf sur wtnv136c o√π le temps syst√®me augmente 
   de 0 √† 8 secondes !
   A noter : on prend le temps donn√© dans TOTAL_JOB, soit le temps cpu/sys/elaps du processeur 
   #0.
   
   Si un processeur en attend d'autre, c'est normal qu'il consomme un peu de temps cpu/sys.
   
   On ajoute un flag de pr√©compilation (ASTER_DISABLE_MPI_CHECK) pour laisser la possibilit√© de 
   d√©sactiver la v√©rification au moment de la compilation. Si l'impl√©mentation sur une machine 
   est en cause cela permettra de contourner le probl√®me. Evidemment, si on active cette 
   possibilit√©, on risque de perdre tous les r√©sultats du calcul si un processeur rencontre une 
   erreur, arr√™t par manque de temps, etc. (cf. issue17122).
   
   On devrait donc retrouver les temps de la 11.2.11 mais... il y a peut-√™tre autre chose. On 
   continue √† chercher s'il y a une autre explication.
   
   
   Quelques mesures sur le test wtnv136c pour illustrer
   ----------------------------------------------------
   
   - On mesure le temps pass√© par un processeur √† attendre les autres.
   
   - Le test est particulier car les r√©solutions sont tr√®s rapides (sans doute aucun int√©r√™t √† 
   faire du parall√©lisme sur ce test), pas mal de pas de temps, beaucoup de communications.
   
   
   aster4 en interactif
   ^^^^^^^^^^^^^^^^^^^^
   
   config : ifort, intel-mpi
   
   - 11.2.24 + -DASTER_DISABLE_MPI_CHECK, waf built ::
   
    . Ex√©cution de Code_Aster . . . . . . . . .53.26 . . . 3.41 . . .56.67 . . .35.09
    . . Ex√©cution de Code_Aster - rang #0 . . .26.36 . . . 0.91 . . .27.27 . . . 0.00
    . . Ex√©cution de Code_Aster - rang #1 . . .25.96 . . . 1.57 . . .27.53 . . . 0.00
   
   - 11.2.24, waf built + mesure wait ::
   
    . Ex√©cution de Code_Aster . . . . . . . . .55.69 . . . 7.04 . . .62.73 . . .36.53
    . . Ex√©cution de Code_Aster - rang #0 . . .27.13 . . . 2.74 . . .29.87 . . . 0.00
    . . Ex√©cution de Code_Aster - rang #1 . . .26.21 . . . 2.10 . . .28.31 . . . 0.00
   
    . .0: .#wait . . . . . 0 . 9.17611265182495
    . .1: .#wait . . . . . 1 .0.396319389343262
   
   cli70cx
   ^^^^^^^
   
   config : gfortran, openmpi
   
   - 11.2.24 + -DASTER_DISABLE_MPI_CHECK ::
   
    . Ex√©cution de Code_Aster . . . . . . . . .86.80 . . .25.43 . . 112.23 . . .28.50
    . . Ex√©cution de Code_Aster - rang #0 . . .18.93 . . . 8.46 . . .27.39 . . . 0.00
    . . Ex√©cution de Code_Aster - rang #1 . . .24.03 . . . 3.63 . . .27.66 . . . 0.00
   
   - 11.2.24 + mesure wait ::
   
    . Ex√©cution de Code_Aster . . . . . . . . .95.37 . . .25.81 . . 121.18 . . .30.27
    . . Ex√©cution de Code_Aster - rang #0 . . .21.67 . . . 7.15 . . .28.82 . . . 0.00
    . . Ex√©cution de Code_Aster - rang #1 . . .25.25 . . . 4.04 . . .29.29 . . . 0.00
   
    . .[1,0]<stdout>: #wait . . . . . 0 . 9.0237979888916016
    . .[1,1]<stdout>: #wait . . . . . 1 . 1.0393006801605225
   
   
   - Il y a plus de 56000 communications (28k paires de MPI_ISend, MPI_IRecv)
   
   - Le temps elapsed ne bouge pratiquement pas.
   
   - Le proc #0 attend environ 9 secs le proc #1.
   
   - L'attente lui co√ªte 2-3 secs de temps CPU+SYS, c'est ce qu'on retrouve sur l'augmentation 
   du temps elapsed.
   
   
   Conclusion
   ----------
   
   Sur la base de ces mesures, le rapport co√ªt/b√©n√©fice reste favorable (perte du calcul en cas 
   de probl√®me vs 2-3 secs).
   
   L'option de compilation ASTER_DISABLE_MPI_CHECK permet de contourner le probl√®me si vraiment 
   c'est n√©cessaire. Evidemment, ce n'est pas le d√©faut et c'est d√©conseill√©.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    wtnv136c
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 019942 DU 2012-11-15 15:07:23
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.2.24, supv002a est NOOK sur Calibre7
FONCTIONNALITE
   Il s'agit du test qui v√©rifie les textes des messages.
   Pour fonctionner, il faut que le dictionnaire soit √† jour sur la machine.
   Or il ne fait pas (encore) partie des sources du code et la mise √† jour 
   doit √™tre faite √† la main.
   
   Il faut qu'on arr√™te de regarder ce test ailleurs que sur Aster4.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    supv002a
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR delmas       DELMAS Josselin        DATE 20/11/2012 - 16:48:44

--------------------------------------------------------------------------------
RESTITUTION FICHE 019907 DU 2012-11-12 12:48:05
TYPE anomalie concernant Code_Aster (VERSION 11.2)
TITRE
    En NEW11.02.23, les cas-tests wtnp116a et b s'arretent en erreur fatale sur Aster4 et Calibre7.
FONCTIONNALITE
   Probl√®me :
   ========
   En NEW11.02.23, les cas-tests wtnp116a et b s'arr√™tent en erreur fatale sur Aster4 et
   Calibre7.
   
   Correction :
   ==========
   Les tests s'arr√™tent en segmentation fault dans erhms2.
   
   Il y a une variable non initialis√© dans te0497 et une autre dans erhms2.
   
   On corrige en initialisant la variable dans te0497 et on prot√®ge une instruction dans un
   bloc IF pour erhms2.
   
   Impacts :
   =======
   te0497.f  erhms2.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    passage des tests en MULTI
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 019702 DU 2012-10-10 13:46:00
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.02.17, les cas-tests ssla200a, sslp201a et sslp201b sont NOOK sur Rocks et Calibre7.
FONCTIONNALITE
   Probl√®me :
   ========
   En NEW11.02.17, les cas-tests ssla200a, sslp201a et sslp201bsont NOOK sur Aster4, Rocks et
   Calibre7.
   Les NOOK portent sur les champs SIGM_NOEU, SIEQ_NOEU.
   
   Correction :
   ==========
   Seul sslp201a est encore NOOK.
   
   L'analyse et la correction sont faites dans la fiche issue19805.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    passage de ssla200a, sslp201a et sslp201b
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 019348 DU 2012-08-23 13:16:17
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Plantage dans le calcul de l'option ERZ1_ELEM
FONCTIONNALITE
   Probl√®me :
   ========
   Dans l'√©tude jointe, le calcul de l'indicateur d'erreur ZZ plante par :
   Erreur num√©rique (floating point exception)
   
   Correction :
   ==========
   Le probl√®me vient du fait que l'on prend la racine carr√©e d'une grandeur n√©gative.
   Toutefois cette grandeur est une int√©grale qui devrait √™tre positive. Mais le sch√©ma
   d'int√©gration utilis√© pour les t√©tra 10 utilise un poids n√©gatif pour le premier point de
   Gauss et il se trouve que la contribution dans l'int√©grale de ce point de Gauss est
   pr√©pond√©rante. Ceci s'explique peut-√™tre par le fait qu'il y a des singularit√©s
   g√©om√©triques dans la pi√®ce et que l'√©l√©ment en d√©faut se trouve pr√©cis√©ment √† cet endroit.
   
   Le maillage est quadratique. En passant le maillage en lin√©aire, le probl√®me ne se
   pr√©sente plus (le sch√©ma d'int√©gration n'est plus le m√™me).
   En conservant le maillage quadratique mais en utilisant une mod√©lisation sous-int√©gr√©e, le
   probl√®me ne se pr√©sente plus (encore une fois le sch√©ma d'int√©gration n'est plus le m√™me).
   
   Je voulais essayer de raffiner le maillage mais Homard ne prend pas en charge les pyramides.
   
   En conclusion, je ne fait rien pour corriger cette situation.
   
   Toutefois, je corrige le calcul de l'int√©grale qui √©tait incomplet (cela implique la
   modification des valeurs de non-r√©gression) ainsi que le catalogue pour la mod√©lisation 3D_SI.
   
   Impact :
   ======
   CATA:
   meca_hexs8.cata
   
   F:
   te0291.f
   
   TESTS:
   forma20a.comm  forma20b.comm  forma20c.comm  sslv111a.comm
   sslv111b.comm  sslv111c.comm  sslv111d.comm  sslv111e.comm
   sslv111f.comm  sslv111g.comm  ssnp130b.comm  ssnp130c.comm
   ssnp158a.comm  zzzz121a.comm  zzzz257a.comm  zzzz257b.comm
   zzzz257c.comm
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    Tests CALC_ERREUR
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 019173 DU 2012-07-12 15:49:19
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    AFFE_CHAR_MECA ne veut pas s'appliquer sur une face interne
FONCTIONNALITE
   Probl√®me :
   ========
   Dans l'√©tude jointe, l'utilisateur applique un chargement de type pression sur une face et
   il est arr√™t√© avec le message suivant :
   !--------------------------------------------------------------------------------------------!
   ! <EXCEPTION> <PREPOST4_97>                                                                  !
   !                                                                                            !
   !  Erreur Utilisateur :                                                                      !
   !  La maille de peau : M151 ne peut pas etre reorientee.                                     !
   !  Car elle est inseree entre 2 mailles "support" placees de part et d'autre : M567 et M649. !
   !--------------------------------------------------------------------------------------------!
   
   Correction :
   ==========
   La maille de peau est bien ins√©r√©e entre deux mailles de volumes mais seule l'une des deux
   est dans le mod√®le.
   
   Pour corriger ce probl√®me, on fait en sorte de faire les v√©rifications n√©cessaires en ne
   donnant que les mailles du mod√®le. Pour cela on fait le tri dans CHVENO pour donner les
   mailles du mod√®le √† UTMASU (c'est dans cette routine que l'erreur est √©mise).
   
   On ajoute une nouvelle routine qui fait ce travail : UTMAMO
   
   Impacts :
   =======
   F:
   chveno.f  utmamo.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : d6.00.01
VALIDATION
    passage de l'etude et de la liste complete
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 019121 DU 2012-07-05 14:34:16
TYPE anomalie concernant Code_Aster (VERSION 11.2)
TITRE
    DEFI_COMPOSITE en thermique (materiau THER_COQMU)
FONCTIONNALITE
   Probl√®me :
   ========
   Dans les sources, on trouve des blocs IF THER_COQMU.
   Cela corresponde √† des coques multi-couches (au sens multi-mat√©riaux). Or il
   n'existe aucun cas test faisant de la thermique et du DEFI_COMPOSITE.
   
   Est-ce un d√©faut de validation ou bien cette fonctionnalit√© n'est plus accessible et ce
   sont de restes √† supprimer ?
   
   Correction :
   ==========
   Dans les routines suivantes, on trouve THER_COQMU:
   elements/te0101.f -> RIGI_THER
   elements/te0102.f -> MASS_THER
   elements/te0109.f -> FLUX_ELGA
   elements/te0110.f -> CHAR_THER_EVOL
   modelisa/matcod.f -> utilitaire
   modelisa/op0056.f -> DEFI_COMPOSITE
   utilitai/dismcm.f -> utilitaire DISMOI
   
   En modifiant hpla100g et hpla100h, on valide dans ces routines, tous les blocs sp√©cifiques
   aux coques composites en thermique. Pour cela, on modifie les tests en rempla√ßant le
   mat√©riau THER par THER_ORTH (obligatoire pour DEFI_COMPOSITE) avec les m√™mes valeurs pour
   conserver un mat√©riau isotrope. On utilise deux couches pour la thermique.
   Les tests restent OK.
   
   Toutefois, le calcul de l'option FLUX_ELGA est impossible pour les coques composites car
   il n'y a pas de champs √† sous-points en thermique. On supprime donc la possibilit√© de
   calculer cette option pour les coques thermiques composites.
   
   On en profite pour v√©rifier dans le te0109 (calcul de FLUX_ELGA pour les coques
   thermiques) de v√©rifier que le nombre de couche est bien √©gale √† 1. Pour cela il faut
   modifier AFFE_CARA_ELEM pour √©crire le nombre de couche (ce n'√©tait pas fait pour la
   thermique). On modifie aussi le test tpls100a (le seul √† calculer FLUX_ELGA pour les
   coques en thermique) en testant la valeur du flux en peau inf√©rieure.
   
   Impacts :
   =======
   CATA:
   flux_elga.cata  gener_thcq_2.cata
   
   F:
   pmfd00.f  te0109.f
   
   TESTS:
   hpla100g.comm  hpla100h.comm  tpls100a.comm
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    passage des tests hpla100g, hpla100h et tpls100a
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR courtois     COURTOIS Mathieu       DATE 20/11/2012 - 16:48:47

--------------------------------------------------------------------------------
RESTITUTION FICHE 019755 DU 2012-10-18 07:07:26
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    relecture d'une base BHDF sur machine locale
FONCTIONNALITE
   Probl√®me
   --------
   
   POURSUITE √©choue lors de la relecture d'une base, plus pr√©cis√©ment lors de la 
   relecture du fichier pick.1 (qui stocke un certain nombre d'objets python du jeu 
   de commandes) :
   
    Lecture du fichier pick.1...
   Traceback (most recent call last):
     File "/local00/tmp/H37018-clau5bgb-interactif.22501-
   clau5bgb/Python/Cata/ops.py", line 245, in
   get_pickled_context
       context = pickle.load(file)
   ImportError: No module named _dotblas
   
   L'erreur se produit parce qu'on n'utilise pas l'installation de Code_Aster qui a 
   produit la base (ici on a chang√© de machine mais cela aurait pu se produire avec 
   deux modes de construction diff√©rents).
   
   
   Solution
   --------
   
   L'erreur concerne l'import d'un sous-module de numpy car les versions de numpy 
   sont diff√©rentes entre les deux machines et parce qu'on a import√© dans le jeu de 
   commandes des fonctions de numpy avec "from numpy import *".
   
   Il se trouve que la fonction 'dot' de numpy est "optimis√©e" au moment de l'import 
   pour utiliser les fonctions blas quand elles sont disponibles via un module 
   '_dotblas'.
   Or dans une version plus ancienne de numpy, ce module '_dotblas' n'existe pas.
   
   Pour contourner le probl√®me, il suffit d'importer le module uniquement 'import 
   numpy as NP' par exemple, et d'utiliser ensuite la fonction 'NP.dot'.
   Comme les modules ne sont pas stock√©s dans le fichier pick.1 (on est cens√© les 
   retrouver en POURSUITE), le probl√®me dispara√Æt.
   De plus, le jeu de commandes gagne en lisibilit√© 'import *' doit √™tre √©vit√©.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sans suite
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR greffet      GREFFET Nicolas        DATE 20/11/2012 - 16:48:48

--------------------------------------------------------------------------------
RESTITUTION FICHE 019226 DU 2012-07-20 15:28:01
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    D√©gradation du temps CPU de sdls119a et b 11.02.05
FONCTIONNALITE
   Cette fiche est r√©solue par le biais de la fiche 19380.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sdls119a
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR abbas        ABBAS Mickael          DATE 20/11/2012 - 16:48:49

--------------------------------------------------------------------------------
RESTITUTION FICHE 019535 DU 2012-09-19 14:39:04
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    [FORMA] Affichage TANGENTE quand REAC_ITER!=1
FONCTIONNALITE
   Probl√®me
   ========
   
   En NEW10, l'affichage du mot-cl√© TANGENTE qui indique si la matrice a √©t√© r√©actualis√©e est
   erron√©.
   
   Solution
   ========
   
   Il n'y a pas de probl√®mes d'affichage, si on prend ssnv128a et qu'on change REAC_ITER en
   0, 1, 2 ou 3 l'affichage est correct.
   Pareil sur les cas-tests de formation forma03.
   Pareil sur le cas-test propos√© dans la fiche !
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    Rien
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR tran         TRAN Van-xuan          DATE 20/11/2012 - 16:48:49

--------------------------------------------------------------------------------
RESTITUTION FICHE 018848 DU 2012-05-10 18:13:33
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.01.21, le cas-test sslv135q s'arrete en erreur fatale sur Rocks
FONCTIONNALITE
   En NEW11.01.21, le cas-test sslv135q s'arrete en erreur fatale sur Rocks.
   Ce cas-test est √† nouveau OK en 11.1.22. Rien et fait.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    aucun
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR berro        BERRO Hassan           DATE 20/11/2012 - 16:48:50

--------------------------------------------------------------------------------
RESTITUTION FICHE 018800 DU 2012-04-30 09:35:25
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Probleme SDVERI dans sdll113c
FONCTIONNALITE
   . . . . . . . . . ********************
   . . . . . . . . .* R√©sum√© du probl√®me *
   . . . . . . . . . ********************
   
   Le cas-test sdll113c ne passe pas avec SDVERI='OUI'
   
   . . . . . . . . . *********************
   . . . . . . . . .* Analyse du probl√®me *
   . . . . . . . . . *********************
   
   Les op√©rateurs REST_GENE_PHYS, REST_SOUS_STRUC, et REST_COND_TRAN cr√©ent syst√©matiquement
   dans leurs concepts de sortie (dyna_trans, mode_meca, dyna_harmo, ou evol_noli) un bout de
   prof_chno. Ce dernier permet de d√©finir la num√©rotation des champs de grandeurs nodales
   dans le cas o√π un nume_ddl n'a (pas √©t√©)/(pas pu √™tre) cr√©√© auparavant. 
   
   Un exemple est le cas de restitution des r√©sultats transitoires g√©n√©ralis√©s en sous-
   structuration dynamique sur un support squelette avec l'op√©rateur REST_SOUS_STRUC. On 
   produit une sd dyna_trans mais comme les champs de grandeurs (DEPL_R) n'ont pas de 
   num√©rotation pr√©-d√©finie, on cr√©e les objets suivants pour num√©roter les champs.
   
   . . . . . . |0________1_________2____|
   . . . . . . |123456789012345678901234|
   . . . . . . |------------------------|
   . OBJET1. . |>>RESU<<.PROFC.NUME.REFN|
   . OBJET2. . |>>RESU<<.PROFC.NUME.LILI|
   . OBJET3. . |>>RESU<<.PROFC.NUME.PRNO|
   . OBJET4. . |>>RESU<<.PROFC.NUME.DEEQ|
   . OBJET5. . |>>RESU<<.PROFC.NUME.NUEQ|
   . . . . . . |<--K8--> . . . . . . . .| >>RESU<< : . . . . . K8 : NOM DU CONCEPT RESULTAT
   . . . . . . |<--K19------------>. . .| >>RESU<<.PROFC.NUME: K19: NOM DU PROF_CHAMNO
   . . . . . . |<--K24----------------->| 
   
   Ensuite on fait r√©f√©rence √† ">>RESU<<.PROFC.NUME" dans le .REFE[2] des cham_no cr√©√©s 
   dans la sd resultat finale.
   
   L'objet .REFN n'a pas d'utilisation hors des op√©rateurs REST_XXXX_XXXX et ne fait pas non
   plus partie des objets de la structure de donn√©es sd_prof_chno. Il est donc rejet√© par 
   SDVERI, ce qui fait planter la v√©rification des sd dans des tests comme sdll113c.
   
   . . . . . . . . . ************
   . . . . . . . . .* Correction *
   . . . . . . . . . ************
   
   Je modifie les routines op0075, op0077, et op0078 pour s'assurer l'objet .REFN est cr√©√© 
   en base Volatile et que la sd_prof_chno n'est cr√©√©e que si on fait une restituation sur un
   maillage squelette. 
   
   Sur les 39 tests appelant les op√©rateurs REST_GENE_PHYS, REST_SOUS_STRUC et REST_COND_TRAN
   en SDVERI='NON', 36 cas-tests passent d√©sormais avec SDVERI='OUI'.
   
   Les 3 tests posant toujours probl√®me sont : comp002i, sdnv107a, et sdnv107c. Pour le 1er
   SDVERI echoue au niveau de l'op√©rateur SIMU_POINT_MAT tandis que pour les 2 autres tests, 
   l'erreur surgit suite √† un calcul DYNA_NON_LINE.
   
   . . . . . . . . . *********
   . . . . . . . . .* Impacts *
   . . . . . . . . . *********
   
   .FORTRAN: op0075.f op0077.f op0078.f [3]
   CAS-TEST: fdlv112b fdnv100a forma08a forma08b htna100a miss02a  miss05a  miss06b
   . . . . . miss06c .miss07b. sdld321a sdld321b sdld321c sdld325a sdld325b sdll113c 
   . . . . . sdll504b sdls114a sdls119b sdls121d sdlv302b sdnl133b sdnv105a sdnv105b 
   . . . . . sdnv105c sdnv106a sdnv107b ssnl106i ssnl127b ssnp148a ssnp154d ssnp158a 
   . . . . . ssnv226a ssnv506c ssnv506f wdnp101a [36]
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    tous les cas-tests REST_XXXX_XXXX
NB_JOURS_TRAV  : 3.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 019957 DU 2012-11-19 12:46:30
TYPE express concernant Code_Aster (VERSION 10.5)
TITRE
    TEST_RESU perfectibles (lot variabilite)
FONCTIONNALITE
   . . . . . . . . . *********
   . . . . . . . . .* Analyse *
   . . . . . . . . . *********
   
   >>> sdll110b <<<
   Ce test d√©j√† corrig√© dans la fiche 19660 (probl√®me d'orientation des modes doubles + IFS)
   
   >>> sdll503a <<< (+ sdll503b et sdll503c)
   Je fais une correction semblable √† celle dans la fiche 19660 pour ces 3 tests.
   La correction permet d'enlever toutes les TOLE_MACHINE de ces tests.
   
   >>> sdls103a <<< 
   Aucun moyen de r√©duire la variabilit√© qui est dans la pire de cas dans les 5.E-4. Ma
   modification portent uniquement sur le serrage des TOLE_MACHINE utilis√©es.
   
   . . . . . . . . . *********
   . . . . . . . . .* Impacts *
   . . . . . . . . . *********
   
   CAS-TEST: sdll110b sdll503a sdll503b sdll503c sdls103a [5]
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sdll110b sdll503a sdll503b sdll503c sdls103a
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desoza       DE SOZA Thomas         DATE 19/11/2012 - 19:23:16

--------------------------------------------------------------------------------
RESTITUTION FICHE 019935 DU 2012-11-15 10:43:31
TYPE express concernant Code_Aster (VERSION 10.5)
TITRE
    Suppression d'alarmes dans des tests de contact
FONCTIONNALITE
   Les 3 tests de contact (Benchmark NAFEMS) suivants √©mettent des alarmes de type
   DISCRETS_18 en nombre. On les supprime en corrigeant la d√©claration de COMP_INCR/COMP_ELAS : 
   ssna122c
   ssna122d
   ssnp156b
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ssna122cd,ssnp156b
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 019929 DU 2012-11-13 17:44:15
TYPE express concernant Code_Aster (VERSION 10.5)
TITRE
    TEST_RESU perfectibles (lot variabilite) : ssnv104ij ssnv504b
FONCTIONNALITE
   Express
   =======
   
   Dans issue19740, on a mis en √©vidence la forte variabilit√© des valeurs obtenues par les
   tests suivants entre les diff√©rentes plateformes : 
   
   ssnv104i
   ssnv104j
   ssnv504b
   
   Analyse
   =======
   
   La variabilit√© existe entre les plateformes 64bits (Aster4, Calibre7, Ivano√©) et les
   plateformes 32bits.
   Ces tests ont tous en commun de faire du contact. En analysant les sommes de contr√¥le du
   calcul en INFO=2, on se rend compte qu'il s'agit de l'appariement g√©om√©trique qui
   provoquent des diff√©rences (projection d'un noeud sur des mailles diff√©rentes selon les
   plateformes). Les √©carts engendr√©s sont faibles mais peuvent en effet provoquer sur les
   contraintes des √©carts de quelques Mpa.
   
   Pour r√©soudre cette incertitude, deux solutions existent :
   
   - resserrer la convergence g√©om√©trique (descendre √† 0.01% par exemple)
   - utiliser du lissage
   
   Une assurance suppl√©mentaire est qu'un run valgrind sur SSNV104I ne renvoie strictement
   aucune erreur.
   
   Action
   ======
   
   On choisit la seconde solution qui est celle recommand√©e par la doc U2. Toutes les
   tol√©rances associ√©es aux valeurs analytiques demeurent inchang√©es. Par contre on modifie
   toutes les valeurs de non-r√©gression. On supprime les TOLE_MACHINE.
   
   Sur SSNV104I et SSNV104J, on modifie en plus les valeurs AUTRE_ASTER des contraintes et
   d√©placements test√©s et on prend ceux de la mod√©lisation A (pour laquelle on ne laisse plus
   que des valeurs de non-r√©gression). Les pr√©cisions sont alors l√¢ches car faute
   de convergence g√©om√©trique avec un crit√®re tr√®s petit on ne peut obtenir le m√™me r√©sultat
   (la mod√©lisation A est faite avec une liaison unilat√©rale, elle donne donc un r√©sultat
   g√©om√©triquement exact).
   Ceci est pr√©cis√© dans la doc V.
   
   Pas d'impact doc V pour SSNV504B car les tests de non-r√©gression n'y figurent pas, seuls
   les tests analytiques sont mentionn√©s comme il se doit maintenant.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V6.04.104
VALIDATION
    ssnv104i,ssnv104j,ssnv504b
NB_JOURS_TRAV  : 1.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 019916 DU 2012-11-12 17:25:13
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Message de REAC_PRECOND erronxc3xa9
FONCTIONNALITE
   Suite √† un petit changement dans le traitement des messages d'information des
   √©v√®nements/actions, on informe √† tort l'utilisateur que la r√©actualisation du
   pr√©conditionneur LDLT_SP n'est pas possible ("<Action> On ne peut pas r√©actualiser le
   pr√©conditionneur.").
   
   Il s'agit d'un d√©faut purement cosm√©tique. La r√©actualisation du pr√©conditionneur est bien
   effectu√©e. On corrige donc le message.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    visuelle
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 019906 DU 2012-11-12 07:35:35
TYPE express concernant Code_Aster (VERSION 10.5)
TITRE
    Protection d'une FPE en contact continu (Point Fixe)
FONCTIONNALITE
   Certains des termes √©l√©mentaires sp√©cifiques √† l'utilisation du Newton g√©n√©ralis√© pour la
   non-lin√©arit√© g√©om√©trique sont calcul√©s syst√©matiquement.
   
   Or en mode POINT_FIXE sur la g√©om√©trie ils peuvent conduire √† une erreur num√©rique. On les
   prot√®ge donc afin de ne les calculer que quand c'est n√©cessaire.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    perf014
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 019868 DU 2012-11-05 07:48:30
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.02.21, le cas-test ssnp504c ne converge pas sur Rocks.
FONCTIONNALITE
   Probl√®me :
   ----------
   
   En NEW11.02.21, le cas-test ssnp504c ne converge pas sur Rocks. 
   
   Analyse :
   ---------
   
   L'utilisation de valgrind et du mode debug n'a pas identifi√© de probl√®me particulier.
   On constate que le cas-test converge √† chaque pas de temps en au plus 9 it√©rations si on
   passe ITER_GLOB_MAXI de 8 √† 10.
   
   Ce cas-test est en formulation continue Newton g√©n√©ralis√©. En mode point fixe, aucune
   diff√©rence n'est √† d√©noter entre plateformes.
   
   En comparant des ex√©cutions en INFO=2 sur Aster4 et Rocks, on arrive √† circonscrire le
   probl√®me √† une matrice tangente qui diff√®rent entre ces 2 plateformes. L'appariement des
   surfaces est identique (la structure de la matrice est donc la m√™me) mais les valeurs de
   pressions de contact sont diff√©rentes, par exemple :
   *Aster4 : - LAMBDA         :  0.000E+00 
   *Rocks  : - LAMBDA         :  0.116E-09 
   
   A priori la diff√©rence est faible mais cela semble provoquer des diff√©rences. C'est
   confirm√© en mode "debug calcul" : 
   
   *Aster4
   &&CALCUL OPTION= RIGI_FROT        CFS2S2                              364
   &&CALCUL|OUTG|PMATUUR  | &&OP0070.MEELTF.M01.RESL |... SOMMR=   0.00000000000E+00
   &&CALCUL|OUTG|PMATUNS  | &&OP0070.MEELTF.M02.RESL |... SOMMR=  -0.35275962621E+04
   *Rocks
   &&CALCUL OPTION= RIGI_FROT        CFS2S2                              364
   &&CALCUL|OUTG|PMATUUR  | &&OP0070.MEELTF.M01.RESL |... SOMMR=   0.00000000000E+00
   &&CALCUL|OUTG|PMATUNS  | &&OP0070.MEELTF.M02.RESL |... SOMMR=  -0.35252823692E+04
   
   L'option RIGI_FROT ne donne pas les m√™mes matrices √©l√©mentaires malgr√© des champs d'entr√©e
   identiques.
   
   Dans le TE qui calcule les matrices √©l√©mentaires on teste √† z√©ro la valeur de la
   pression de contact (merci Micka√´l !) mais le probl√®me ne vient pas de l√† (en rempla√ßant
   le test par un epsilon on ne change rien de m√™me qu'en seuillant √† z√©ro les valeurs de
   lambda inf√©rieures √† 1.E-8).
   
   Correction :
   ------------
   
   Dans la mesure o√π les calculs de second membre ne pr√©sentent pas cette variation entre
   plateformes et dans la mesure o√π le test est toujours OK (mais peut mettre une it√©ration
   de Newton de plus comme l'a montr√© l'analyse conduite par Alexandre), je ne vois pas ce
   que je peux faire de plus que la modification de ITER_GLOB_MAXI.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    passage du cas-test ssnp504c
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 018510 DU 2012-03-06 13:07:53
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Probleme de gestion du contact avec maillage quadratique sur la barre de Taylor
FONCTIONNALITE
   Anomalie
   ========
   
   '''
   Lors de la mise en place de la m√©thode de couplage Thermom√©canique, j'ai voulu simuler la
   barre de Taylor (impact d'un barreau sur un plan rigide). J'ai utilis√© la m√©thode continue
   du contact avec frottement. Il appara√Æt que :
   _le calcul fonction avec un maillage lin√©aire
   _le calcul plante avec un maillage quadratique : matrice singuli√®re
   
   Je joins un fichier d'√©tude avec diff√©rents maillages :
   _hexa lin√©aire
   _hexa quad
   _t√©tra lin√©aire
   _t√©tra quad
   '''
   
   Analyse
   =======
   
   En faisant tourner les calculs en quadratique, on constate que :
   - en HEXA comme en TETRA, le premier instant d'impact fonctionne
   - en HEXA le second instant d'impact √©choue √† cause d'un √©chec LdC (VMIS_JOHN_COOK)
   - en TETRA le second instant d'impact √©choue pour cause de matrice singuli√®re
   
   En passant le comportement en √©lastique HPP, on constate toujours des √©checs
   essentiellement √† cause de matrices singuli√®res vis-√†-vis des degr√©s de libert√© de contact
   (LAGS_C ou LAGS_F1/2).
   Avec quelques essais on voit que ces singularit√©s peuvent √™tre lev√©es en jouant sur les
   coefficients du Lagrangien Augment√© mais cela ne fait que repousser l'√©chec du calcul.
   
   La solution a √©t√© fournie par la fiche issue19646 : avec les r√©glages par d√©faut les
   mailles d'interface QUAD8 (HEXA20) et TRIA6 (TETRA10) entra√Ænent des interp√©n√©trations  ou
   des jeux (malgr√© une bonne capture des zones de contact). La solution provisoire consiste
   √† utiliser des HEXA27 √† la place des HEXA20 ou √† sous-int√©grer (cette derni√®re solution
   n'est pas compl√®tement satisfaisante).
   
   J'ai pu v√©rifier que le passage en HEXA27 du calcul HEXA20 levait tous les probl√®mes, je
   consid√®re donc la fiche comme une AOM et je la clos avec cette solution.
   La fiche issue19646 traite plus largement du probl√®mes et des solutions p√©rennes √† d√©velopper.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    xc3xa9tude
NB_JOURS_TRAV  : 2.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 019646 DU 2012-10-04 08:21:16
TYPE anomalie concernant Code_Aster (VERSION 11.2)
TITRE
    Poursuite d'un calcul avec contact / continue / interpenetre
FONCTIONNALITE
   Contexte
   ========
   
   Un utilisateur MMC nous a signal√© un probl√®me de reprise d'un calcul de contact en
   formulation continue alors qu'il avait bien activ√© l'option CONTACT_INIT='INTERPENETRE'.
   Lorsque le calcul est r√©alis√© en une seule passe, la convergence est atteinte.
   
   Ce probl√®me a mis en lumi√®re un probl√®me plus grave de la formulation continue pouvant
   conduire en l'√©tat actuel √† des r√©sultats faux (cf. dernier ¬ß pour les d√©tails).
   
   Analyse
   =======
   
   Cause du probl√®me
   -----------------
   
   L'analyse de son calcul (√©crasement d'une surface rugueuse) a permis d'identifier √†
   convergence des interp√©n√©trations de la surface esclave dans la surface ma√Ætre bien que la
   convergence g√©om√©trique ait √©t√© atteinte. √Ä l'inverse des n≈ìuds pour lesquels le jeu √©tait
   strictement positif √©taient en contact.
   
   Ce sont ces violations de la loi de Signorini qui sont la source du probl√®me : en effet le
   jeu est utilis√© pour reconstruire l'√©tat de contact en reprise. L'√©tat de contact √©tant
   mal d√©termin√© √† la reprise, la convergence √©choue.
   
   Reproduction sur un cas simple
   ------------------------------
   
   Le calcul de surface rugueuse s'appuyait sur des √©l√©ments HEXA20 dont les mailles de bord
   sont des QUAD8. La particularit√© de ces QUAD8 √©tait d'√™tre d√©form√©s, le quadrangle n'√©tant
   plus plan.
   
   √Ä l'aide d'un cas-test √©l√©mentaire d'un cube sur un cube dont les faces en contact ont √©t√©
   d√©form√©es pour d√©crire un parabolo√Øde, on a r√©ussi √† reproduire le probl√®me.
   Ainsi en √©crasant les cubes, on observe des valeurs de jeu comprises en -1.0E-8 et 1.0E-8
   pour des cubes unit√©s : 
   - avec des HEXA20
   - mais √©galement avec des TETRA10
   
   √Ä l'inverse on a pu v√©rifier que des HEXA27 ne pr√©sentaient pas cette pathologie, les jeux
   obtenus varient entre -1.0E-15 et 1.0E-15.
   
   Solution au probl√®me
   --------------------
   
   Sur ce cas-test √©l√©mentaire, outre l'utilisation d'HEXA27, d'autres solutions ont √©t√©
   envisag√©es en particulier le changement des sch√©mas d'int√©gration dans le contact continu.
   L'utilisation de sch√©mas d'int√©gration plus pr√©cis ne r√©sout pas le probl√®me. En revanche
   des sch√©mas sous-int√©gr√©s le corrigent (4 pts de Gauss pour le QUAD8, 3 pts de Gauss pour
   le TRIA6). Malheureusement cette solution n'a pas port√© ses fruits sur un calcul plus
   complet (entra√Ænant souvent une matrice singuli√®re).
   
   Conclusion
   ==========
   
   Dans cette fiche on se contente de faire des ajouts documentaires :
   - HEXA27 conseill√©s en formulation continue, en particulier pour des g√©om√©tries courbes
   - dans le cas o√π il n'est pas possible de mailler la g√©om√©trie en structur√©, on pr√©conise
   des √©l√©ments lin√©aires
   
   Remarque : depuis toujours les HEXA20 sont d√©conseill√©s en contact discret mais il n'y a
   aucun lien avec la pr√©sente fiche. Le probl√®me des QUAD8 est bien identifi√© : les forces
   nodales de cet √©l√©ment ne sont pas toutes du m√™me signe, ce qui est contraire √† la logique
   du contact discret.
   
   R√©sultats faux
   ==============
   
   A priori tout calcul de contact en formulation CONTINUE qui pr√©sente : 
   
   - des √©l√©ments de bord QUAD8 ou TRIA6
   - une g√©om√©trie courbe (noeuds milieux non align√©s avec les noeuds sommets)
   
   risque d'obtenir des r√©sultats ne v√©rifiant pas la loi de contact (interp√©n√©tration et/ou
   jeu positif malgr√© du contact).
   
   Dans la majeure partie des √©tudes cela n'impacte pas n√©gativement les r√©sultats globaux
   car les efforts de contact sont bien transmis et le contact √©tabli. N√©anmoins √† proximit√©
   de la zone de contact cela peut √™tre probl√©matique.
   Pour cette raison, il est conseill√© d'utiliser des HEXA27 quand c'est possible ou √† defaut
   des √©l√©ments lin√©aires en formulation continue.
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 10.0.0
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 11.0.0
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : U2.04.04,R5.03.52,U4.44.11
VALIDATION
    √©tude,cas-test perso
NB_JOURS_TRAV  : 2.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desroche     DESROCHES Xavier       DATE 11/19/2012 - 01:55:25

--------------------------------------------------------------------------------
RESTITUTION FICHE 019457 DU 2012-09-10 12:01:43
TYPE anomalie concernant Documentation (VERSION 10.*)
TITRE
    Tables produites par POST_ELEM
FONCTIONNALITE
   Doc U4 POST_ELEM : commenter les tables produites
   
   Probl√®me :
   --------
    mis √† part les mots-cl√©s MASS_INER et MINMAX, il n'y a pas de commentaires sur les 
   tables produites par POST_ELEM.
   
   Correction : 
   ----------
   On rajoute pour chaque mot-cl√© un paragraphe "Table produite" explicitant le contenu 
   de la table et les param√®tres associ√©s.
   
   Documentation : U4.81.22
   -------------
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.81.22
VALIDATION
    sans
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 019688 DU 2012-10-10 08:14:42
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    MODI_REPERE : Champ de type NOEU et repere='COQUE'
FONCTIONNALITE
   Probl√®me :
   --------
   
   MODI_REPERE : Champ de type NOEU et repere='COQUE' : la doc U l'interdit mais le code 
   n'arr√™te pas.
   
   Correction :
   ----------
   
   Dans la routine chrpno (traitement des champs aux noeuds), on arrete en erreur fatale 
   si REPERE='COQUE'.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sans
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 019584 DU 2012-09-26 09:34:02
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    ANGMAS mal dimensionnxc3xa9
FONCTIONNALITE
   Probl√®me : La variable ANGMAS est dimensionn√©e √† 3 dans certains te et √† 7 dans 
   d'autres.
   
   
   
   La variable ANGMAS est locale aux te. Il y a 2 cas :
   - dans certains te elle contient les 3 angles nautiques et est donc de dimension 3 et 
   est initialis√©e par la routine r8inir.
   - dans d'autres te elle contient les 3 angles nautiques plus 3 angles d'Euler et un 
   flag. Elle est donc de dimension 7 et est initialis√©e par la routine rcangm.
   
   Les 2 cas √©tant bien distincts et la programmation coh√©rente dans chaque cas, il n'y a 
   donc pas lieu de regrouper les 2 cas.
   
   Je propose de laisser en l'√©tat.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sans
NB_JOURS_TRAV  : 0.25
--------------------------------------------------------------------------------
RESTITUTION FICHE 019263 DU 2012-07-27 11:33:53
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Couverture de code : AFFE_CHAR_MECA(_F) et AFFE_CHAR_THER(_F)
FONCTIONNALITE
   Manque de couverture suivant :
   
   AFFE_CHAR_MECA      PRE_EPSI            EXY
   AFFE_CHAR_MECA      PRE_EPSI            EYY
   AFFE_CHAR_MECA      PRE_EPSI            KXX
   AFFE_CHAR_MECA      PRE_EPSI            KXY
   AFFE_CHAR_MECA      PRE_EPSI            KYY
   AFFE_CHAR_MECA_F    PRE_EPSI            EPXY
   AFFE_CHAR_THER      PRE_GRAD_TEMP       FLUX_Z
   AFFE_CHAR_THER_F    PRE_GRAD_TEMP       FLUX_Y
   AFFE_CHAR_THER_F    PRE_GRAD_TEMP       FLUX_Z
   AFFE_CHAR_THER_F    PRE_GRAD_TEMP       MAILLE
   
   Apr√®s confirmation aupr√®s de Nicolas, au moins une composante √©tant test√©e pour chaque 
   mot-cl√© de chaque commande, il est inutile de tester les autres.
   On classe donc cette fiche sans suite.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sans
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR durand       DURAND Christophe      DATE 11/19/2012 - 05:13:58

--------------------------------------------------------------------------------
RESTITUTION FICHE 019623 DU 2012-10-01 13:39:34
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Couverture de code : MACR_LIGN_COUPE, NUME_MODE
FONCTIONNALITE
   Je livre la modification de macr_lign_coupe_ops.py pour la gestion de la variable d'acc√®s aux champs 
   NUME_MODE, √† l'identique de NUME_ORDRE.
   
   En revanche, je ne comble pas le trou de validation (MACR_LIGN_COUPE sur un mode_meca, en employant 
   donc ce filtre d'acc√®s NUME_MODE). J'ai v√©rifi√© que cela marche, mais j'aimerai que quelqu'un 
   connaissant l'analyse modale l'emploie directement dans un test de modal. Ce n'est pas le cas du 
   test livr√© √† l'occasion de ce d√©veloppement dans issue19270, o√π on utilise MACR_LIGN_COUPE de fa√ßon 
   indirecte, via un POST_K1_K2_K3.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.81.13
VALIDATION
    test perso + sdls114c
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR flejou       FLEJOU Jean Luc        DATE 11/20/2012 - 08:42:47

--------------------------------------------------------------------------------
RESTITUTION FICHE 018362 DU 2012-02-07 16:18:56
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Non prise en compte de FONC_MULT dans CALC_ELEM/CALC_CHAMP pour les chargements repartis de poutre
FONCTIONNALITE
   Le probl√®me venait du fait que la fonction multiplicatrice n'√©tait pas bien pris en compte
   dans CALC_CHAMP.
   Le probl√®me n'est pas particuli√®rement li√© aux poutres, mais il est mis en √©vidence pour
   les poutres, car pour certaines options de calcul (sur les poutres) on ne met pas le
   chargement complet, notamment lorsqu'il y a des charges r√©parties.
   
   Risque de r√©sultats faux :
   --------------------------
   Dans CALC_CHAMP la fonction multiplicatrice √©tait prise √©gale √† 1 dans certain cas. Si au
   num√©ro d'ordre post-trait√©, dans le calcul initial la fonction est diff√©rente de 1, il y a
   des r√©sultats faux lors du calcul des REAC_NODA par CALC_CHAMP sur les √©l√©ments de poutres
   dites 'exacts'.
   
   Correction :
   ------------
   Une charge c'est .LCHA et .FCHA, dans medom1 on ne retenait que .LCHA, donc d√®s que la
   FMULT √©tait diff√©rente de 1, cela conduisait a des r√©sultats faux.
   
   La correction consiste a ajouter √† la SD, d√©j√† existante et construite dans medom1, le
   .FCHA pour tenir compte de FMULT.
   
   medom1 est appel√©e par plusieurs routines (cf ¬ß modifications). Dans toutes ces routines
   on change :
   <       CALL JEVEUO(KCHA,'L',JCHA)
   par
   >       CALL JEVEUO(KCHA//'.LCHA','L',JCHA)
   Les routines les plus impact√©es : medom1 et ccpoux.
   
   Dans rslesd.f, ajout de message d'alarme suivant le cas rencontr√© :
   Comme dans CALC_CHAMP on donne un chargement (CHARGE, FMULT) il faut v√©rifier que cette
   charge a √©t√© utilis√©e lors du calcul. Plusieurs cas peuvent se produire :
   1) Charge dans la SD calcul√©e (cas classique) : MECA_STAT, STAT_NON_LINE, ...
   2) Pas de charge dans la SD calcul√©e :
   . . * C'est possible et normal avec LIRE_RESU, CREA_RESU, ...
   . . * C'est possible et pas normal par exemple avec DYNA_VIBRA (EXCIT est obligatoire)
   . . . . . La commande ne renseigne pas la SD ==> fiche d√©j√† √©mise issue19049 
   3) Pas de charge dans CALC_CHAMP
   4) Charge dans CALC_CHAMP
   
   * Si 1 et 4, v√©rification de la coh√©rence (d√©j√† fait, aucune modification) 
   * Si 1 et 3, aucune modification
   * Si 2 et 4, il n'est pas possible de faire de v√©rification de coh√©rence.
   . . . ==> Information UTILITAI4_1 : La r√©cup√©ration des chargements concernant le r√©sultat
   %(k1)s n'est actuellement pas possible. Code_Aster ne peut donc pas v√©rifier la coh√©rence
   des chargements.
   Conseil : Si vous utilisez une commande avec une option qui n√©cessite la red√©finition des
   chargements, il faut v√©rifier la coh√©rence des chargements.
   * Si  2 et 3, il faut donner les charges car on ne peut pas les r√©cup√©rer de la SD
   . . . ==> Information UTILITAI4_2 : Le mot clef EXCIT de la commande n'est pas renseign√©
   et la r√©cup√©ration des chargements concernant le r√©sultat %(k1)s n'est actuellement pas
   possible.
   Conseil : Il faut renseigner le mot clef EXCIT de la commande,
   
   
   Modifications :
   ===============
   ccpoux.f  ccvepo.f  meca01.f  mecalr.f  medom1.f  medom2.f  mmaxkl.f  op0038.f  op0100.f 
   rslesd.f  thcalr.f
   
   utilitai4.py
   
   sdll401a.comm
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 10.0.0
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 10.0.0
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    passage liste_ct.tout
NB_JOURS_TRAV  : 5.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 019718 DU 2012-10-12 08:25:05
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    SSLL105E : GROT_GDEP sur les multifibres
FONCTIONNALITE
   Les fiches 'express' issue19779, issue19806 traitent les 2 probl√®mes s√©par√©ment.
   
   issue19779 :
   S'il y a des multifibres dans le mod√®le et que l'on oublie de pr√©ciser dans STAT_NON_LINE
   COMP_INCR =_F( RELATION='MULTIFIBRE' , ...). Il y a un plantage sale.
   ==> Blindage
   
   issue19806 :
   La d√©formation doit √™tre celle qui est renseign√©e sous COMP_INCR dans STAT_NON_LINE.
   La d√©formation c'est sur l'√©l√©ment et pas sur un groupe de fibres. Si une section est
   compos√©e de plusieurs groupes de fibres, la d√©formation est calcul√©e de la m√™me fa√ßon pour
   toutes les fibres de la section.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    fiches 19779, 19806
NB_JOURS_TRAV  : 0.01
--------------------------------------------------------------------------------
RESTITUTION FICHE 019720 DU 2012-10-12 11:47:46
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Calcul des forces internes des POU_D_TG
FONCTIONNALITE
   Pour les POU_D_TG, le calcul des FORC_NODA dans TE0347 n'√©tait pas fait de la m√™me fa√ßon
   que dans TE0346 qui g√®re les options RAPH_MECA, FULL_MECA, RIGI_MECA_TANG.
   
   Pour FORC_NODA des POU_D_TG, on copiait les forces aux points de gauss 1 et 3
   respectivement sur les noeuds 1 et 2. C'est pas bon !!! Les POU_D_TG sont des √©l√©ments
   finis et pas des √©l√©ments de structure √† la POUX comme les POU_D_E.
   Pour les POU_D_E on peut faire une copie des valeurs aux points de Gauss, car ils ne sont
   pas de "vrai" points de Gauss au sens des √©l√©ments finis, mais un vecteur de stockage
   (poutres √† la POUX).
   
   Maintenant cela converge √† la pr√©diction, lorsque le chargement reste constant.
   
   Pas de restitution de cas test sp√©cifique √† cette correction, cela sera couvert par la
   restitution de issue19235 : "GROT_GDEP sur tous les √©l√©ments de poutre"
   
   Un seul cas test est NOOK : ssll23c (cf issue19951 sur l'incoh√©rence des valeurs entre la
   doc V et les VALE_REFE).
   Restitution du cas test avec les nouvelles valeurs de non-r√©gression, qui sont proches des
   valeurs initiale.
   
   Modification : TE0347
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 10.0.0
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 11.0.0
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    passage cas test
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 019559 DU 2012-09-24 09:28:24
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Forte sensibilitxc3xa9 d'IRRAD3M xc3xa0 la dxc3xa9coupe du pas de temps
FONCTIONNALITE
   Il n'y a pas de probl√®me de sensibilit√© d'IRRAD3M √† la d√©coupe du pas de temps.
   
   Les remarques ayant conduit √† faire le travail dans issue18533 √©taient : le d√©coupage d'un
   pas de temps avec ITER_INTE_PAS n'est pas √©quivalente √† un d√©coupage de la liste d'instant.
   1) si l'utilisateur met un ITER_INTE_PAS > 0, le d√©coupage est syst√©matique
   2) si l'utilisateur met un ITER_INTE_PAS < 0, le d√©coupage n'est r√©alis√© que si la loi de
   comportement retourne le code d'erreur ad√©quat.
   
   La question √©tait : 
   - doit-on avertir dans le cas n¬∞2, que le processus de d√©coupage a √©t√© d√©clench√© ?
   La r√©ponse de issue18533 est :
   - non.
   
   Pour ce qui est d'IRRAD3M, la loi de comportement pr√©sente la particularit√© d'avoir une
   √©quation avec un seuil non d√©rivable, car d√©pendant des variables de commandes. Un calcul
   d'erreur est mis en place pour s'assurer du franchissement du seuil dans une tol√©rance
   sp√©cifique √† la loi de comportement, qui est donn√© dans la d√©finition du mat√©riau
   TOLER_ET. Si TOLER_ET n'est pas respect√©, on d√©clenche le d√©coupage.
   
   Pour les diff√©rents cas tests :
   - la valeur de TOLER_ET est de 15% (incertitude li√©e aux identifications des param√®tres
   mat√©riaux, et ce ne sont que des cas tests).
   - les TEST_RESU sont r√©alis√©s sur des solutions analytiques, ou sont des cas tests de
   non-r√©gression, donc √† tol√©rance tr√®s faible. Certains TEST_RESU sont fait pour tester le
   franchissement du seuil, les VALE_REFE sont donc fonctions de la liste d'instant et de
   l'erreur commise lors de ce franchissement qui peut √™tre calcul√©e analytiquement.
   - mettre syst√©matiquement ITER_INTE_PAS > 0, change la fa√ßon de passer le seuil, et si
   TOLER_ET n'est pas modifi√© cela conduit √† des TEST_RESU NOOK (de 3 √† 5%).
   - mettre ITER_INTE_PAS > 0 et diminuer TOLER_ET conduit √† des variations entre VALE_CALC
   et VALE_REFE inf√©rieure √† 0.2%.
   
   
   Il n'y a donc pas de probl√®me de sensibilit√© d'IRRAD3M √† la d√©coupe du pas de temps
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    passage tous les cas tests IRRAD3M
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 019824 DU 2012-10-25 13:02:41
TYPE anomalie concernant Documentation (VERSION 11.*)
TITRE
    Erreur dans R3.08.01
FONCTIONNALITE
   C'est pas faux.
   Cela a √©t√© fait lors de issue16368, avec oubli de la doc R3.08.01.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : R3.08.01
VALIDATION
    aucune
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR geniaut      GENIAUT Samuel         DATE 11/19/2012 - 01:37:50

--------------------------------------------------------------------------------
RESTITUTION FICHE 019879 DU 2012-11-06 13:24:59
TYPE aide utilisation concernant Code_Aster (VERSION 11.3)
TITRE
    RUPT : Alarme <RUPTURE1_42 > illogique
FONCTIONNALITE
   Probl√®me :
   ----------
   
   Un utilisateur fait le calcul suivant :
   
   L'op√©rateur CALC_G comprenant le mot cl√© COMP_ELAS=_F(RELATION='ELAS_VMIS_TRAC')en
   post-traitement d'un calcul elastoplastique conduit avec
   COMP_INCR=_F(RELATION='VMIS_ISOT_TRAC')sous STAT_NON_LINE renvoie le message d'alarme
   suivant (avec Code_Aster STA10.5):
   
     
   !------------------------------------------------------------------------------------------!
      ! <A> <RUPTURE1_42>                                                                   
       !
      !                                                                                     
       !
      ! Lois de comportement diff√©rentes pour la maille M1 :                                
       !
      !  - loi de comportement extraite de la SD R√©sultat   : ELAS                          
       !
      !  - loi de comportement fournie √† l'op√©rateur CALC_G : ELAS_VMIS_TRAC                
       !
      !                                                                                     
       !
      ! --> Risques & conseils :                                                            
       !
      ! On doit g√©n√©ralement utiliser la meme loi de comportement entre le calcul et le     
       !
      ! post-traitement. On peut utiliser deux comportements diff√©rents, mais alors         
       !
      ! l'utilisateur doit etre vigilant sur l'interpr√©tation des r√©sultats(cf.U2.05.01).   
       !
      ! Si plusieurs comportements sont d√©finis sur la structure, le comportement √†         
       !
      ! indiquer dans CALC_G est celui du mat√©riau dans lequel la fissure se d√©veloppe.     
       !
      ! Dans ce cas, ce message d'alarme est quand meme √©mis mais le r√©sultat est bien
   coh√©rent. !
      ! Un post-traitement √©lastique non-lin√©aire d'un calcul √©lastoplastique est           
       !
      ! admissible, si le chargement est radial et monotone. La comparaison du G calcul√©    
       !
      ! √† partir des contraintes issues de STAT_NON_LINE (option CALC_CONTRAINTE='NON')     
       !
      ! ou √† partir des contraintes recalcul√©es avec la loi de comportement                 
       !
      ! (CALC_CONTRAINTES='OUI') peut fournir une indication sur le respect de ces          
       !
      ! hypoth√®ses.                                                                         
       !
      !                                                                                     
       !
      !                                                                                     
       !
      ! Ceci est une alarme. Si vous ne comprenez pas le sens de cette                      
       !
      ! alarme, vous pouvez obtenir des r√©sultats inattendus !                              
       !
     
   !------------------------------------------------------------------------------------------!
   
   Je ne comprends pas pourquoi la SD r√©sultat contient une loi de comportement √©lastique
   alors que 
   j'ai affect√© COMP_INCR=_F(RELATION='VMIS_ISOT_TRAC')sous STAT_NON_LINE. 
   
   
   
   Analyse :
   ---------
   
   Le message dit que la maille M1 a un comportement diff√©rent entre STAT_NON_LINE et CALC_G.
   
   En fait, la maille M1 est une maille POI1.
   Dans SNL, elle n'est pas affect√©e d'un comportement. CALC_G consid√®re alors que son
   comportement est ELAS.
   Dans CALC_G, on affecte partout ELAS_VMIS_TRAC donc le comportement de la maille M1 pour
   CALC_G est ELAS_VMIS_TRAC.
   Le texte du message d'alarme est donc logique en ce sens.
   
   Cependant, on peut se demander pourquoi CALC_G va regarder cette maille :
   - d'une part, c'est une maille POI1 -> elle n'intervient pas du tout dans le calcul
   th√©orique de G.
   - en plus, cette maille n'appartient pas au mod√®le, il n'y aura donc aucune 'chance' que
   l'on boucle dessus dans la routine calcul.f.
   
   
   Solutions :
   -----------
   
   - pour l'utilisateur : comme les mailles POI1 (il y en a un bon paquet) ne servent pas au
   calcul m√©canique dans l'√©tude fournie, je conseille de les supprimer du maillage (OUBL de
   gibi...). L'autre possibilit√© est d'utiliser GROUP_MA dans le COMP_ELAS de CALC_G et ne
   renseigner que les GROUP_MA qui ont √©t√© affect√© dans le COMP_INCR de SNL (soit 'MDB',
   'SFIS' et 'RVT').
   
   - pour le d√©veloppeur : je n'ai pas v√©rifi√© que l'alarme √©tait aussi √©mise en NEW11, mais
   je le pense. On pourrait am√©liorer CALC_C de mani√®re √† ne faire cette v√©rification de
   coh√©rence de loi de comportement QUE pour les mailles du mod√®le -> cela sera fait dans la
   fiche issue19186
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    etude fournie
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR idoux        IDOUX Ludovic          DATE 11/19/2012 - 04:28:01

--------------------------------------------------------------------------------
RESTITUTION FICHE 019370 DU 2012-08-28 13:49:00
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    ssnv214 a plante en couverture de code
FONCTIONNALITE
   ==========
   Probl√®me 
   ==========
   
   Le cas-test ssnv214a ne converge pas avec l'executable couverture de code sur aster4.
   
   
   ==========
   Analyse 
   ==========
   
   Le calcul de la matrice s√©cante diff√®re selon l'ex√©cutable, √† cause du test suivant :
   
   IF (S3(I).LE.0.) THEN
     BT3(I) = 0
   ENDIF
   
   On est en pr√©sence de valeurs tr√®s faibles en e-16 ou moins, positives ou n√©gatives selon
   les cas.
   
   
   ===========
   Correction
   ===========
   
   S3 repr√©sente une contrainte, on propose de normer par rapport au module d'Young et
   d'utiliser R8PREM() :
   
   IF S3(I) .LE. R8PREM()*E
   
   Le cas-test converge alors sans probl√®me avec l'executable couverture de code.
   Je propose de faire remonter la correction en NEW10.
   
   
   ===========
   Impact
   ===========
   brksec.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    Passage du test et des autres BETON_RAG
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 019654 DU 2012-10-05 08:56:54
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.02.16, le cas-test ssls118v est NOOK sur Rocks.
FONCTIONNALITE
   Probl√®me 
   ==========
   
   En NEW11.02.16, le cas-test ssls118v est NOOK sur Rocks. 
   
   
   Analyse 
   ==========
   
   1)
   Les NOOK concernent uniquement les composantes QX et QY d'effort tranchant.
   
   2)
   Il s'agit d'un test sur les DKTG. On travaille en efforts g√©n√©ralis√©s car ces √©l√©ments
   s'adressent √† des lois globales. Les efforts tranchants ne sont donc pas obtenus par
   int√©gration de la contrainte dans l'√©paisseur (comme pour les autres √©l√©ments de coque),
   mais doivent √™tre calcul√©s en cr√©ant une matrice de rigidit√© de cisaillement qui lie les
   d√©formations g√©n√©ralis√©es aux efforts g√©n√©ralis√©s.
   
   Pour les DKTG, cette matrice de cisaillement n'existe pas. Les termes QX et QY n'ont donc
   pas de raison d'√™tre calcul√©s, ni m√™me test√©s en principe.
   
   3)
   Or, historiquement, le champ SIEF_ELGA a toujours contenu les 8 composantes NXX, NYY, NXY,
   MXX, MYY, MXY, QX et QY, pour une raison inconnue (peut-√™tre par souci de compatibilit√©
   avec le champ EFGE_ELGA qui est strictement √©gal √† SIEF_ELGA pour les lois globales).
   L'utilisateur peut donc demander √† regarder ou tester QX et QY. leur valeur est cependant
   toujours nulle !
   
   4) 
   En 2012, on a introduit la mod√©lisation Q4GG. Elle s'adresse uniquement aux lois globales,
   tout comme DKTG. On a introduit la capacit√© de calculer QX et QY pour ces √©l√©ments. Les
   d√©veloppements ont √©t√© mutualis√©s, autant que possible, avec ceux de DKTG existants. Cela
   a r√©sult√© √† modifier notamment dxgrlc.f dans laquelle on calcule diverses options. En
   particulier, on en est arriv√© √† dimensionner SIG et DSIG √† 8, mais √† remplir uniquement
   les 6 premi√®res composantes pour DKTG (NXX, NYY, NXY, MXX, MYY, MXY) et les 8 pour Q4GG
   (les 6 m√™mes + QX et QY). Tout ceci sans initialisation des champs SIG et DSIG. En
   cons√©quence, dans le cas des DKTG, QX et QY valent n'importe quoi (la valeur de SIG(7) et
   SIG(8) non initialis√©e).
   
   5)
   En cons√©quence, il suffit donc d'initialiser SIG et DSIG dans dxglrc, et le cas-test passe
   alors sans probl√®me. ceci r√©sout la fiche pr√©sente d'anomalie.
   Notons que QX et QY sont non pertinents √† regarder pour l'instant. On pourrait vouloir
   supprimer le test √† leur encontre, tant qu'ils ne sont pas calcul√©s pour DKTG (√ßa vaut
   toujours 0). Je pr√©f√®re le garder, √ßa pourrait permettre de voir des impacts si on modifie
   √† l'avenir les sources.
   
   6) 
   En parall√®le, il est quand m√™me impropre d'autoriser la cr√©ation des champs QX et QY pour
   DKTG alors qu'ils ne sont pas vraiment calcul√©s. Dans tous les cas, ils seront √©gaux √† 0.
   Il faudrait en fait scinder le catalogue des √©l√©ments Q4GG et DKTG en deux (actuellement
   c'est le m√™me). Puis faire le tri propre de ce que chacun peut calculer ou non, puisqu'on
   voit ici qu'il y a de petites diff√©rences (au moins sur SIEF_ELGA). Ou alors, il faudrait
   introduire le calcul propre de QX et QY pour les DKTG. Qu'on choisisse l'un ou l'aute, √ßa
   fait l'objet d'une √©volution trac√©e dans une nouvelle fiche (issue19937).
   
   
   Validation 
   ============
   
   Le test est OK sur Rocks.
   
   
   Impact 
   =========
   
   dxglrc.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ssls118v
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 019770 DU 2012-10-19 08:43:14
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.02.19, le cas-test sslv139a est NOOK sur Rocks.
FONCTIONNALITE
   Probl√®me 
   ==========
   
   sslv139a est NOOK sur rocks (apr√®s √™tre redevenu OK le temps d'une version du code)
   
   
   Analyse 
   ===========
   
   Valgrind ne voit rien.
   L'ex√©cutable instrument√© pour la recherche de variables non initialis√©es n'a rien d√©tect√©
   non plus.
   
   J'ai lanc√© plusieurs run cons√©cutifs sur rocks, et il y a des petits √©carts parfois entre
   deux run :
   
   - les d√©placements changent un chouia (12eme d√©cimale pour N1, mais j'ai pas analys√© les
   1700 diff sur les d√©placements ...)
   - les fr√©quences propres calcul√©es (8eme decimale)
   - etc ...
   
   Que ces √©carts produisent ensuite de tr√®s l√©gers NOOK sur ETOT para√Æt plausible.
   
   Il s'agit d'un calcul de flambement, donc a priori un calcul sensible ... Je ne vois pas
   comment analyser plus avant le probl√®me, et comme les NOOK sont tr√®s l√©gers, je propose
   juste d'augmenter la tol√©rance de 1e-3 √† 2e-3.
   
   
   
   Impact
   ===========
   
   sslv139a.comm
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sslv139a
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR lefebvre     LEFEBVRE Jean-Pierre   DATE 11/20/2012 - 12:19:10

--------------------------------------------------------------------------------
RESTITUTION FICHE 019657 DU 2012-10-05 09:47:11
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TMA : Phimeca
TITRE
    En NEW11.02.16, les cas-tests ssnl119a, ssnp123b, wdnp101a, ssnl130b, ssnv128c, wtna105a et ssls124a s'arrxc3xaatent en erreur fatale sur Rocks.
FONCTIONNALITE
   Probl√®me:
   ---------
   En NEW11.02.16, les cas-tests ssnl119a, ssnp123b, wdnp101a, ssnl130b, ssnv128c, ssls124a
   et wtna105a
   s'arr√™tent en erreur fatale sur Rocks. 
    
   Les tests ne convergent pas (<MECANONLINE9_7>) ou la matrice n'est pas factorisable
   (FACTOR_10).
   
   
   Changements effectu√©s sur les cas-tests :
   ------------------------
   
   1/ Passage au solveur MUMPS :
   --------------------------
   ssnl130b
   ssnp123b
   ssnv128c
   
   2/ Passage au solveur MUMPS
     +
      RESI_GLOB_RELA √† 1E-5 au lieu de 1E-6 :
   -----------------------------------------------------------------
   wtna105a
   
   3/ Passage √† RENUM='MD' au lieu de METIS
      + 
      test de non-regression du TEST_FONCTION √† 2.E-3 au lieu de 1E-3 :
   ----------------------------------------------------------------------------
   wdnp101a
   
   4/ Remplacement de 3 calculs MECA_STATIQUE (RESU33,RESU34 et RESU35) par STAT_NON_LINE 
     +
      RESI_GLOB_RELA √† 1E-5 au lieu de 1E-6 pour RESU35 (sinon probl√®me de convergence parfois) :
   ----------------------------------------------------
   ssls124a
   
   Points positifs:
   - Les r√©sultats sont meilleurs en employant SNL pour RESU34 et RESU35.
    (Pour RESU33 on a 1.9950E-3 au lieu de 1.9951E-3 pour un test analytique √† 2E-3)
   - Les r√©sultats sont coh√©rents entre les 3 machines Aster4, Rocks et Calibre7
   
   ---> Les valeurs de non-regression ont √©t√© modifi√©es pour RESU33, RESU34 et RESU35
       et les tol√©rances des tests analytiques de RESU35 et RESU34 ont √©t√© mises √† 0.1%
   
   ---------------
   ---------------
   ---------------
   
   5/ Passage au solveur MUMPS :
   --------------------------
   ssnl119a
   
   On n'a plus de probl√®me de convergence mais parfois il se termine en NOOK sur
   Rocks(valgrind r√©alis√© non concluant).
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : v3.03.124
VALIDATION
    ssnl119a, ssnp123b, wdnp101a, ssnl130b, ssnv128c, ssls124a , wtna105a
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR laverne      LAVERNE J√©r√¥me       DATE 11/19/2012 - 04:28:41

--------------------------------------------------------------------------------
RESTITUTION FICHE 019543 DU 2012-09-20 09:06:02
TYPE anomalie concernant Code_Aster (VERSION 11.2)
TITRE
    En NEW11.02.13, le cas-test ssnp118g sxe2x80x99arrxc3xaate en erreur fatale sur Rocks.
FONCTIONNALITE
   Le probl√®me vient bien du fait qu'a la fin du chargement on casse le seul √©l√©ment coh√©sif
   existant en pilotant.
   
   Le pilotage est bas√© sur une sortie de crit√®re qui n'est plus valable sur les √©l√©ments
   cass√©s. Quand il y a plusieurs √©l√©ments coh√©sifs on ignore ceux cass√©s et on pilote sur
   les autres. Quand il n'y en a qu'un cela plante √† l'instant o√π on cherche √† le casser.
   
   Dans ce test le dernier instant de chargement est cens√© casser l'√©l√©ment. En g√©n√©ral c'est
   fait par valeur n√©gative √† la pr√©cision machine pr√®s et √ßa passe. Quand il y a une modif
   au niveau de cette derni√®re et qu'on veut casser l'√©l√©ment √† 100%, cela plante dans le
   pilotage. D'o√π l'instabilit√© de ce test.
   
   Pour r√©gler ce probl√®me on propose de ne pas faire le calcul au dernier instant.
   
   Par ailleurs on en profite pour normaliser le vecteur d√©placement impos√© √† 1 (on mentionne
   cette modif dans la doc). Cela ne change pas les r√©sultats sauf les valeurs du
   ETA_PILOTAGE. Cette valeur est test√©e une fois, on modifie le test_table en cons√©quence.
   
   Je r√©alise ces modifs √©galement sur les mod√©lisations H et I qui sont identiques mais en 3D.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V6.03.118
VALIDATION
    ssnp118GHI
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------
RESTITUTION FICHE 019941 DU 2012-11-15 15:04:48
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.02.24, le cas-test ssnp118g s‚Äôarr√™te en erreur fatale sur Rocks.
FONCTIONNALITE
   Fiche doublon avec issue19543.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ssnp118g
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR lefebvre     LEFEBVRE Jean-Pierre   DATE 11/20/2012 - 01:53:05

--------------------------------------------------------------------------------
RESTITUTION FICHE 019243 DU 2012-07-25 06:02:56
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Test zzzz120b en version NEW11 lancxc3xa9 en interactif sur aster4
FONCTIONNALITE
   Probl√®me :
   ----------
   Le lancement du test zzzz120b (Assemblage goujon-bride) en interactif sur aster4 provoque
   une erreur lors de l'appel √† gibi pour construire le maillage.
   
   Analyse du probl√®me :
   ---------------------
   La construction du maillage s'appuie sur un fichier externe provenant du r√©pertoire
   /aster/NEW11/datg. Le nom du r√©pertoire d'ex√©cution cr√©√© en interactif par astk est de la
   forme : 
   
   /tmp/lefebvre-frontal1-tmpname-1352122611.11017-frontal1.214316
   
   Le nom du fichier externe est alors :
   
   PDATG = CHAINE '/tmp/lefebvre-frontal1-tmpname-1352122611.11017-fr'
   'ontal1.214316/datg/gouj1.datg';
    
   Ce qui va au-del√† des 72 caract√®res. 
   
   Correction effectu√©e :
   ----------------------
   La correction est effectu√©e dans le fichier de commande.
   On prend directement le fichier datg dans le r√©pertoire d'installation et on ajoute un
   assert sur la longueur de la chaine de caract√®res.
   ...
   if FILET_ABST!=None :
     for num in FILET_ABST :
        textp = textp + 'FILETS = DIFF FILETSFIL00'+str(num)+';
     loc_datg = aster_core.get_option("repdex")
   ...
   assert len(seq) <= 72, "Gibi does not support paths longer than 72 characters!"
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    zzzz120b
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR martin       MARTIN Alexandre       DATE 11/19/2012 - 05:03:27

--------------------------------------------------------------------------------
RESTITUTION FICHE 019745 DU 2012-10-15 17:35:27
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    X-FEM : Bug de Visu en quadratique: post_cham_xfem
FONCTIONNALITE
   Probl√®me :
   ----------
   
   En visualisant les champs de d√©placement XFEM, avec des √©l√©ments quad8 Marcel constate un
   rendu assez chaotique (cf. fichier joint). Le champ de d√©placement au voisinage de la
   pointe de fissure semble √™tre faux.
   
   Analyse :
   ---------
   
   Le parcours des sources de l'op√©rateur POST_CHAMP_XFEM, permet √† Marcel de constater qu'il
   y a un traitement particulier pour la level normale des points milieux, dans la routine
   xpoajm.f:
   
   ( Lignes 180 √† 183)
             IF (INO.GT.2000) THEN
               DO 500 IFISS = 1,NFISS
                 LSN(IFISS) = D(IFISS)
    500        CONTINUE
   
   ( Lignes 193 √† 197)
             IF (INO.GT.2000) THEN
               DO 600 IFISS = 1,NFISS
                 LSN(IFISS) = D(IFISS)
    600        CONTINUE
   
   Il constate √©galement que la suppression de ces lignes lui permet de retrouver un r√©sultat
   correct.
   
   Les tableaux LSN et D sont les calcul√©s par la routine xpolsn.f. L'analyse de cette
   routine montre que les level-sets normales, LSN, sont calcul√©es au point consid√©r√© par
   interpolation des level-sets au noeuds de l'√©l√©ment parent. Cette proc√®dure doit donner un
   r√©sultat correct, m√™me aux points milieux. 
   Pourtant, des level-sets corrig√©es, D, sont calcul√©es et remplacent les valeurs de LSN
   dans le bloc identifi√© par Marcel.
   
   Il semble que le calcul de ce terme correctif soit le vestige d'une √©poque o√π le calcul
   des levels-sets normales √©tait r√©alis√© en utilisant les fonctions de formes des
   sous-triangles plut√¥t que les fonctions de formes de l'√©l√©ment parent.
   
   Le calcul de D √©tant devenu compl√®tement inutile, il est r√©sorb√©. D ne figure plus dans la
   liste d'arguments de xpolsn.f.
   Le bloc identifi√© par Marcel est supprim√©.
   
   Impact : xpoajm.f et xpolsn.f.
   
   Validation :
   ------------
   
   L'√©tude de Marcel (jointe √† la fiche) donne des r√©sultats corrects.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    passage de l'ensemble des cas-tests X-FEM
NB_JOURS_TRAV  : 3.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR pellet       PELLET Jacques         DATE 11/19/2012 - 02:00:37

--------------------------------------------------------------------------------
RESTITUTION FICHE 019677 DU 2012-10-08 16:22:31
TYPE express concernant Code_Aster (VERSION 10.5)
TITRE
    sdld21d se plante souvent par manque de m√©moire
FONCTIONNALITE
   Probl√®me :
   ----------
   Dans le test sdld21a on peut voir qu'apr√®s le 1er appel √† DYNA_VIBRA (avec le solveur
   MUMPS), la m√©moire JEVEUX est brusquement amput√©e de 250 Mo (sur les 512 Mo du .para).
                                                                                            
                                                                      
   Analyse :
   ---------
   Il existe un m√©canisme pour d√©truire √† la fin de chaque op√©rateur les instances MUMPS (ou
   PETSC) li√©es aux matrices pr√©sentes sur la base volatile.
   Ce m√©canisme est mis en oeuvre dans la routine detmat.f appel√©e par execop.f apr√®s chaque
   commande fortran.
                                                                                            
                                                                      
   La logique est :
     pour toute matrice M trouv√©e sur la base Volatile :
       Si le solveur par d√©faut pour M est MUMPS : call amumph('DETR_MATR',M,...)
                                                                                            
                                                                      
   Remarque :
     On ne peut pas se permettre de d√©truire syst√©matiquement TOUTES les instances Mumps, car
   la commande FACTORISER a justement pour but de cr√©er une telle instance pour RESOUDRE.
     Il est donc normal de ne traiter que les matrice "volatiles".
                                                                                            
                                                                      
   Dans la commande DYNA_LINE_HARM (appel√©e par DYNA_VIBRA) la logique pr√©c√©dente est mise en
   d√©faut :
     * la matrice de travail M ('&&OP0060.DYNAMIC_MX') est associ√©e au NUME_DDL commun des 3
   matrices fournies en argument de la commande : MATASSR, MATASM, MATASSC.
       Malheureusement, ce NUME_DDL a √©t√© cr√©√© (par d√©faut) avec le solveur MULT_FRONT.
     * le solveur "par d√©faut" de '&&OP0060.DYNAMIC_MX' √©tant MULT_FRONT, on ne demande pas
   la destruction de l'intance MUMPS.
                                                                                            
                                                                      
   Correction :
   ------------
   Dans op0060.f, on renseigne M.REFA(7) avec le solveur r√©ellement utilis√© dans
   DYNA_LINE_HARM (ce que l'utilisateur a indiqu√© dans le mot cl√© SOLVEUR).
   De cette fa√ßon, le solveur par d√©faut de M est Mumps (et non plus le solveur du NUME_DDL).
   La destruction de detmat.f est alors effective.
                                                                                            
                                                                      
                                                                                            
                                                                      
   Validation :
   -----------
   On prend le test sdld21d et on l'arrete pr√®s le 1er appel √† DYNA_VIBRA.
   On le soumet avec m√©moire = 1024 Mo.
                                                                                            
                                                                      
   Avant :
     # M√É¬©moire (Mo) :   937.91 /   937.90 /    27.20 /    20.92 (VmPeak / VmSize / Optimum /
   Minimum)
   Apr√®s :
     # M√É¬©moire (Mo) :   917.80 /   229.32 /    27.20 /    20.92 (VmPeak / VmSize / Optimum /
   Minimum)
    
    
   Liste des fichiers impact√©s par la correction de la fiche:  19677
     execop.f  op0060.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sdld21d
NB_JOURS_TRAV  : 0.3
--------------------------------------------------------------------------------
RESTITUTION FICHE 019717 DU 2012-10-11 16:34:38
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    ENGENDRE_TEST ne produit plus la bonne syntaxe
FONCTIONNALITE
   Probl√®me :
   ----------
   Depuis l'√©volution r√©cente de la syntaxe des commandes TEST_RESU, TEST_TABLE, ... la
   commande ENGENDRE_TEST g√©n√®re des commandes incorrectes.
                                                                                            
               
   Correction :
   ------------
   Je corrige le fortran d'ENGENDRE_TEST pour prendre en compte les changements de syntaxe :
     * suppression de REFERENCE='NON_REGRESSION'
     * PRECISION -> TOLE_MACHINE
     * VALE      -> VALE_CALC
     * VALE_I    -> VALE_CALC_I
     * S_R       -> VALE_CALC
     * S_I       -> VALE_CALC_I
                                                                                            
               
   Validation :
   ------------
   Je v√©rifie sur les tests fdlv106a et ssls124a que les commandes g√©n√©r√©es sont OK
   Je restitue fdlv106a.
    
    
   Liste des fichiers impact√©s par la correction de la fiche:  19717
     engtce.f  engtcn.f  engtrs.f  engttb.f  op0178.f
     fdlv106a.comm
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    fdlv106a
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------
RESTITUTION FICHE 019741 DU 2012-10-15 15:35:33
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    TEST_RESU perfectibles (lot autres)
FONCTIONNALITE
   Probl√®me :
   ----------
   Lors de l'√©volution issue18390 (modifications TEST_RESU), pour un certain nombre de tests,
   il a fallu faire "vite".
   On revient ici sur quelques probl√®mes.
                                                                                            
                
   Analyse et correction :
   -----------------------
                                                                                            
                
   lot1 :
   ~~~~~~
   Dans les tests suivants :
   ssla200a
   ssla200b
   sslp200a
   sslp200b
   sslp201a
   sslp201b
   sslv200a
   sslv200b
                                                                                            
                
   On utilise TEST_RESU / TYPE_TEST='SOMM_ABS' sur l'un ou l'autre des champs 'SIEQ_NOEU',
   'EPEQ_NOEU' ou 'EPMQ_NOEU'.
   On a expliqu√© dans issue19805 pourquoi, pour ces tests, on peut observer une certaine
   variabilit√© des r√©sultats sur diff√©rentes plateformes (probl√®me des valeurs propres multiples)
                                                                                            
                
   Je modifie donc TYPE_TEST: 'SOMM_ABS' -> 'SOMM' pour ces tests.
   Il faut √©videmment modifier les valeurs pour VALE_CALC.
                                                                                            
                
   lot2 :
   ~~~~~~
   Pour les tests sdll110[ce], Hassan Berro a d√©j√† trait√© le probl√®me dans le cadre de
   issue19660. Merci √† lui.
                                                                                            
                
   lot3 :
   ~~~~~~
   Pour les tests comp003[abc], le probl√®me vient de la fonction TEST_ECART qui n'a pas pr√©vu
   de fournir la liste des valeurs de non-regression.
   Pour ces tests :
   * je modifie l'argument "prec_ecart" pour en faire une "double" liste. Cela permet de
   d'adapter la pr√©cision √† chaque valeur test√©e.
   * j'ajoute l'argument vale_calc pour fournir les valeurs observ√©es sur Calibre7.
                                                                                            
                
   Avec ces modifications, les TEST_RESU sont tous OK (sur toutes les plateformes) avec la
   valeur de TOLE_MACHINE par d√©faut (1.e-6).
                                                                                            
                
   lot4 :
   ~~~~~~
   Pour le test sdlv128a, le probl√®me relev√© par M. Courtois (#TODO) est que l'on ne sait pas
   d'o√π viennent les valeurs de r√©f√©rence de vale_mac (REFERENCE='INDEFINI').
                                                                                            
                
   Ce test a √©t√© introduit en version 9 avec les caract√©ristiques suivantes :
   vale_mac = (0.952, 0.916, 0.926, 0.950)
   TEST_TABLE( ...
            REFERENCE = 'NON_REGRESSION',
            VALE = vale_mac[ind], PRECISION = 0.1 );
                                                                                            
                
   Ce test n'a ni responsable ni doc.
   On ne sait pas d'o√π viennent les valeurs de vale_mac.
   Elles sont probablement de type NON_REGRESSION mais la pr√©cision demand√©e (10%) est tr√®s
   importante pour un test de non-regression.
                                                                                            
                
   Modification du test :
   1) pour les valeurs de MAC, je consid√®re qu'il s'agit bien de valeurs de non-regression.
   Je retire donc les mots cl√©s VALE_REFE et PRECISION. Je renseigne VALE_CALC avec les
   valeurs obtenues sur Calibre7.
   2) Apr√®s passage de ce test sur 4 plateformes, je m'aper√ßois que la variabilit√© du
   r√©sultat est assez importante, ce qui m'oblige √† fournir TOLE_MACHINE=0.03.
    
    
   Liste des fichiers impact√©s par la correction de la fiche:  19741
     comp003a.comm  comp003b.comm  comp003c.comm  sdlv128a.comm  ssla200a.comm
     ssla200b.comm  sslp200a.comm  sslp200b.comm  sslp201a.comm  sslp201b.comm
     sslv200a.comm  sslv200b.comm
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    tests incriminxc3xa9s
NB_JOURS_TRAV  : 0.6
--------------------------------------------------------------------------------
RESTITUTION FICHE 019805 DU 2012-10-23 11:32:00
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Sur Rocks, le cas-test sslp201b donne un rxc3xa9sultat NOOK sur SIEQ_NOEU /SOMM_ABS
FONCTIONNALITE
   Probl√®me:
   ---------
   Si on utilise le solveur MULT_FRONT / M√©tis pour le test sslp201b, il devient NOOK sur Rocks.
                                                                                            
                                                                                              
   Analyse:
   --------
   Dans ce test, on remarque 2 TEST_RESU de non-regression pour lesquels TOLE_MACHINE est
   assez lache :
                   _F(NUME_ORDRE=3,
                      TYPE_TEST='SOMM_ABS',
                      RESULTAT=MSLI2,
                      NOM_CHAM='SIEQ_NOEU',
                      VALE_CALC=1.0728506709542E+04,
                      TOLE_MACHINE=1.E-4,      #TODO curieux
                   _F(NUME_ORDRE=3,
                      TYPE_TEST='SOMM_ABS',
                      RESULTAT=MSLI2,
                      NOM_CHAM='EPEQ_NOEU',
                      VALE_CALC=6.6976714324361E+03,
                      TOLE_MACHINE=2.E-4,      #TODO curieux
                                                                                            
                                                                                              
   Ces 2 tests concernent SIEQ_NOEU et EPEQ_NOEU.
   Ce qui est curieux, c'est que les tests de SIEQ_ELNO et EPEQ_ELNO sont tr√®s pr√©cis (1.e-11).
                                                                                            
                                                                                              
   Mais si on regarde de plus pr√®s par exemple SIEQ_ELNO, on s'aper√ßoit que sur la maille M1
   pour le noeud N51, on trouve, pour 2 machines diff√©rentes (calibre7 et clpaster) :
                                                                                            
                                                                                              
    M1                 VMIS                  TRESCA                PRIN_1               
   PRIN_2                PRIN_3                VMIS_SG
                       VECT_1_X              VECT_1_Y              VECT_1_Z             
   VECT_2_X              VECT_2_Y              VECT_2_Z
                       VECT_3_X              VECT_3_Y              VECT_3_Z             
   TRSIG                 TRIAX
    N51       4.03724029196145E-01  4.03724029196146E-01 -4.03724029196146E-01
   -2.07348096854323E-15  0.00000000000000E+00 -4.03724029196145E-01
              5.85831852953864E-01  8.10432625246937E-01  0.00000000000000E+00 
   8.10432625246937E-01 -5.85831852953864E-01  0.00000000000000E+00
              0.00000000000000E+00  0.00000000000000E+00  1.00000000000000E+00
   -4.03724029196148E-01 -3.33333333333336E-01
                                                                                            
                                                                                              
    N51       4.03724029196097E-01  4.03724029196102E-01 -4.03724029196092E-01 
   0.00000000000000E+00  9.80768132138292E-15 -4.03724029196097E-01
              5.85831852953845E-01  8.10432625246951E-01  0.00000000000000E+00 
   0.00000000000000E+00  0.00000000000000E+00  1.00000000000000E+00
              8.10432625246951E-01 -5.85831852953845E-01  0.00000000000000E+00
   -4.03724029196082E-01 -3.33333333333321E-01
                                                                                            
                                                                                              
   On observe que les valeurs propres 2 et 3 sont "doubles" (et quasi nulles) et les vecteurs
   propres 2 et 3 sont permut√©s.
   Comme le TEST_RESU est de type "SOMM_ABS", il est OK car une permutation des valeurs ne
   change pas la somme des valeurs absolues.
                                                                                            
                                                                                              
   En revanche, quand on calcule SIEQ_NOEU, on fait sur certains noeuds la moyenne de
   plusieurs vecteurs qui ne sont pas dans la continuit√© les uns des autres, ce qui conduit √†
   des vecteurs sensiblement diff√©rents, ce qui entraine un TOLE_MACHINE un peu grand.
                                                                                            
                                                                                              
   Remarque :
   ----------
   On pourrait se dire qu'une permutation de certains vecteurs propres conduit √† des vecteurs
   "moyens" diff√©rents mais que leur "somme" doit rester constante.
   Mais ici, ce n'est pas "SOMM" qui est test√© mais "SOMM_ABS".
                                                                                            
                                                                                              
   Illustrons la diff√©rence "SOMM" / "SOMM_ABS" sur un exemple :
   Soient 2 √©l√©ments A et B partageant le noeud N.
   Supposons que le noeud N porte les 2 vecteurs propres : (3,4) et (-4,3).
   1√®re configuration :                              2√®me configuration :
      A : (3,4)  (-4,3)        A :  (3,4)     (-4,3)
      B : (3,4)  (-4,3)        B : (-4,3)      (3,4)
    MOY : (3,4)  (-4,3)      MOY : (-0.5,3.5) (-0.5,3.5)
    SOMM: 6                  SOMM: 6
    SOMM_ABS: 14             SOMM_ABS: 8
   
                                                                             
   Conclusion :
   ------------
   D√®s que 2 contraintes principales sont identiques, le champ SIEQ_NOEU est impr√©visible
   pour ce qui concerne les vecteurs propres.
   On peut le tester globalement avec TYPE_TEST='SOMM' mais il ne faut pas utiliser
   TYPE_TEST='SOMM_ABS'
   
                                                                             
   Correction :
   ------------
   Pour ce test, on modifie le solveur : MUMPS -> MULT_FRONT et on modifie TYPE_TEST:
   'SOMM_ABS' -> 'SOMM' pour les 2 champs SIEQ_NOEU et EPEQ_NOEU
                                                                                            
                                                                                              
   Liste des fichiers impact√©s par la correction de la fiche:  19805
     sslp201b.comm
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sslp201b
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 019814 DU 2012-10-24 09:37:06
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    [FORUM] Assert peu convivial dans CREA_CHAMP
FONCTIONNALITE
   Probl√®me :
   ------------------
   Dans l'√©tude jointe, la commande :
    .Ch_Q = CREA_CHAMP(TYPE_CHAM='NOEU_NEUT_R',
    . . . . . . . . . .OPERATION='EVAL',
    . . . . . . . . . .CHAM_F=Ch_QN,
    . . . . . . . . . .CHAM_PARA=(Mart_N, Mart_0N),)
    .
   s'arrete brutalement dans un ASSERT.
    
   Correction :
   ------------
   Dans la routine cnseva.f, on remplace l'ASSERT par le message d'erreur suivant :
    
   !---------------------------------------------------------------------------------------------!
   ! <F> <CALCULEL2_66> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
   . .!
   ! . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
   . . !
   ! Erreur d'utilisation : . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
   . .!
   ! .On ne peut pas utiliser plus de 50 param√®tres pour √©valuer une fonction. . . . . . . .
   . . !
   ! .Ici, les diff√©rents champs du mot-cl√© CHAM_PARA poss√®dent au total plus de 50
   composantes. !
   ! . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
   . . !
   ! Cette erreur est fatale. Le code s'arr√™te. . . . . . . . . . . . . . . . . . . . . . . .
   . .!
   !---------------------------------------------------------------------------------------------!
    .
   Le probl√®me vient du fait que les champs Mart_N et Mart_0N contiennent tous les deux les
   30 composantes : .X1, X2, ..., X30.
   Au total, on fournit donc 60 param√®tres pour l'√©vatuation des fonctions de Ch_QN.
    .
   Mais il y a un probl√®me plus grave : les 2 champs Mart_N et Mart_0N contiennent tous les
   deux les 30 memes composantes.
   Il y a donc ambiguit√© sur les valeurs √† utiliser pour les param√®tres : celles de Mart_N ou
   celles de Mart_0N ?
   Je pense que l'utilisateur veut que l'on utilise X1 dans Mart_N et X2 dans Mart_ON, mais
   Mart_N contient aussi X2 (mis √† 0.) !
    
    
   Je modifie le fortran de cnseva.f pour v√©rifier que les noms des composantes des champs
   sont tous diff√©rents.
   Apr√®s cette modification, l'√©tude s'arrete avec le message :
   !-------------------------------------------------------------------------------------------------!
   ! <F> <CALCULEL2_78> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
   . . . .!
   ! . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
   . . . . !
   ! Erreur utilisateur : . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
   . . . .!
   ! . Pour √©valuer une fonction, Il ne faut pas fournir plusieurs fois le m√™me param√®tre. .
   . . . . !
   ! . Ici, le param√®tre X1 a √©t√© fourni plus d'une fois. . . . . . . . . . . . . . . . . . .
   . . . .!
   ! . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
   . . . . !
   ! Conseil : . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
   . . . . !
   ! . Si les champs utilis√©s avec le mot cl√© CHAM_PARA ont √©t√© obtenus avec la commande
   CREA_CHAMP, !
   ! . on peut voir leur contenu avec le mot cl√© INFO=2. . . . . . . . . . . . . . . . . . .
   . . . . !
   ! . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
   . . . . !
   ! Cette erreur est fatale. Le code s'arr√™te. . . . . . . . . . . . . . . . . . . . . . . .
   . . . .!
   !-------------------------------------------------------------------------------------------------!
    
    
   Comment r√©soudre ce probl√®me d'utilisation ?
   --------------------------------------------
   L'utilisateur doit faire en sorte que les champs Mart_N et Mart_0N n'aient pas de
   composantes en commun.
   Le plus simple est d'utiliser la commande CREA_CHAMP / OPERATION='ASSE' pour ne conserver
   que les 2 composantes voulues.
    .
   Au lieu de faire :
   Ch_Q = CREA_CHAMP( .TYPE_CHAM='NOEU_NEUT_R',
    . . . . . . . . . .OPERATION='EVAL',
    . . . . . . . . . .CHAM_F=Ch_QN,
    . . . . . . . . . .CHAM_PARA=(Mart_N, Mart_0N),)
    
   Il faut faire :
   # Dans Mart_N, on ne conserve que la CMP 'X1' :
   Mart_N1=CREA_CHAMP(TYPE_CHAM='NOEU_NEUT_R', OPERATION='ASSE', MAILLAGE=Malla,
    . . . . . . . . . ASSE=_F(TOUT='OUI', CHAM_GD=Mart_N, NOM_CMP='X1',
   NOM_CMP_RESU='X1',),INFO=2)
    .
   # Dans Mart_0N, on ne conserve que la CMP 'X2' :
   Mart_0N2=CREA_CHAMP(TYPE_CHAM='NOEU_NEUT_R', OPERATION='ASSE', MAILLAGE=Malla,
    . . . . . . . . . ASSE=_F(TOUT='OUI', CHAM_GD=Mart_N, NOM_CMP='X2',
   NOM_CMP_RESU='X2',),INFO=2)
    
   Ch_Q = CREA_CHAMP( .TYPE_CHAM='NOEU_NEUT_R',
    . . . . . . . . . .OPERATION='EVAL',
    . . . . . . . . . .CHAM_F=Ch_QN,
    . . . . . . . . . .CHAM_PARA=(Mart_N1, Mart_0N2),)
    
    
   Liste des fichiers impact√©s par la correction de la fiche: .19814
     ceseva.f  cnseva.f
     calculel2.py
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    xc3xa9tude jointe
NB_JOURS_TRAV  : 0.4
--------------------------------------------------------------------------------
RESTITUTION FICHE 019882 DU 2012-11-07 10:16:45
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Segmentation fault  dans un POST_CHAMP
FONCTIONNALITE
   Probl√®me:
   ---------
   L'√©tude jointe utilise POST_CHAMP et se plante salement dans cette commande.
                                                                                            
                                                                        
   Analyse :
   ------------
   Le probl√®me vient du fait que la routine w155ch.f n'avait pas pr√©vu les √©l√©ments "tardifs"
   (√† maille < 0) dans le ligrel de mod√®le.
   Ici, l'utilisateur a utilis√© AFFE_MODELE / GROUP_NO pour affecter des "discrets" sur des
   noeuds, ce qui engendre des mailles tardives.
   Cela provoque des √©crasements "m√©moire".
                                                                                            
                                                                        
   Correction :
   ------------
   Je modifie les routines cesred.f et w155ch.f pour qu'elles "oublient" les mailles tardives.
                                                                                            
                                                                        
   Validation :
   ------------
   La commande POST_CHAMP ne se plante plus et le champ calcul√© semble raisonnable.
    
    
   Liste des fichiers impact√©s par la correction de la fiche:  19882
     cesred.f  w155ch.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    xc3xa9tude jointe
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------
RESTITUTION FICHE 019884 DU 2012-11-07 12:34:27
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    CREA_CHAMP/TABLE/VARI_NOEU
FONCTIONNALITE
   Probl√®me :
   ----------
   La commande :
    
   CH1=CREA_CHAMP(OPERATION='EXTR', INFO=2,
                 TYPE_CHAM='NOEU_VARI_R',TABLE=T1,MAILLAGE=MA)
   
   Provoque un "ASSERT" dans la routine cnscno.f
                                                                                            
                         
   Analyse :
   ---------
   Il s'agit en r√©alit√© d'une subtile erreur d'utilisation.
   La grandeur VARI_R est LA grandeur "sp√©ciale" qui permet de "multiplier" les composantes :
   'V1', 'V2', ...
   Dans le catalogue de cette grandeur on ne trouve pourtant qu'une seule composante 'VARI'.
                        
   Il est possible de cr√©er un cham_elem (ELNO/ELGA/ELEM) de VARI_R mais il est impossible de
   cr√©er un cham_no ou une carte de VARI_R.
                        
   Quand on veut creer un cham_no ou une carte de VARI_R, il faut utiliser la grandeur VAR2_R
   qui contient (en "dur" les 100 composantes V1, V2, ..., V100.
                                                                                            
                         
   Correction :
   ------------
   Pour √©viter le plantage "sale" par ASSERT, je modifie le fichier c_type_cham_into.capy
   pour interdire les types NOEU_VARI_R et CART_VARI_R.
                         
   L'utilisateur est alors arret√© par une erreur de syntaxe :
   Mot-cl√© simple : TYPE_CHAM
    . !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    . ! La valeur : 'NOEU_VARI_R' .ne fait pas partie des choix possibles . . . . . . . . !
    . ! (u'ELEM_ABSC_R', u'ELNO_ABSC_R', u'ELGA_ABSC_R', u'CART_ABSC_R', u'NOEU_ABSC_R', .!
    . ...
                                                                                            
                         
   Validation :
   ------------
   Si on modifie la commande : 'NOEU_VARI_R' -> 'NOEU_VAR2_R', l'√©tude jointe va jusqu'au bout.
    
   
   Liste des fichiers impact√©s par la correction de la fiche:  19884
     c_type_cham_into.capy
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    xc3xa9tude jointe
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------
RESTITUTION FICHE 019890 DU 2012-11-08 10:32:41
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Plantage dans MODI_MAILLAGE / ORIE_PEAU_2D
FONCTIONNALITE
   Probl√®me :
   ----------
   Une √©tude utilisant MODI_MAILLAGE / ORIE_PEAU_2D passe en STA11 et se plante en NEW11.
                                                                                            
                           
   Analyse :
   ---------
   Lors de la r√©alisation de la fiche issue17654, j'ai un peu trop nettoy√© les sources !
   J'ai cru (√† tort) que la routine oriem0.f ne pouvait etre appel√©e qu'avec des mailles de
   peau "surfaciques" (TRIA et QUAD) et j'ai retir√© un morceau de fortran concernant les
   peaux "lin√©iques" (SEG).
                                                                                            
                           
   Correction :
   ------------
   Je r√©pare ma betise et r√©tablit la routine oriem0.f
                                                                                            
                           
   Validation :
   ------------
   1) Dans l'√©tude jointe, la commmande MODI_MAILLAGE ne s'arrete plus en erreur fatale.
   2) Je modifie le test ssll117a pour tester la configuration probl√©matique de ORIE_PEAU_2D
   (un segment bord√© par plus d'une maille surfacique).
    
    
   Liste des fichiers impact√©s par la correction de la fiche:  19890
     oriem0.f  utmasu.f
     ssll117a.comm
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ssll117a
NB_JOURS_TRAV  : 0.3
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR sellenet     SELLENET Nicolas       DATE 11/19/2012 - 04:25:26

--------------------------------------------------------------------------------
RESTITUTION FICHE 019919 DU 2012-11-13 07:20:00
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Variables non initialisxc3xa9es dxc3xa9tectxc3xa9es xc3xa0 l'exxc3xa9cution
FONCTIONNALITE
   Probl√®me :
   ----------
   √Ä l'aide d'une option de compilation quelques variables non initialis√©es mais utilis√©es
   ont √©t√© d√©tect√©s :
   CHA vpwecf
   DT mdadap
   IADRNO meficg
   IADZ majou
   IAVAF resthe
   IAVAH resthe
   IDVARI te0490
   IDVARI te0576
   IMATUU te0350
   ISIENM te0497
   ITER gcpc
   IVARIX te0590
   IZG flust3
   JAC te0036
   JNBPGM op0192
   JNORD op0100
   JVALEP nmecmi
   LLITMP calcyc
   LSTOP u2mesg
   LTNMMA cyc110
   NUMORD nmarcp
   VALEUR evala1
   
   
   Solution :
   ----------
   Pour CALCYC, on initialise LLITMP √† 1.
   
   Pour CYC110, on fixe LTNMMA √† 1 en d√©but de routine.
   
   Pour EVALA1, il faut initialiser VALEUR √† 0.
   
   Pour FLUST3, on initialise IZG √† 1
   
   Pour GCPC, il suffit de mettre ITER √† 1.
   
   Pour MAJOU, on initialise IADZ √† 1.
   
   Pour MDAPAP, il faut utilise DT2 √† la place de DT (on supprime au passage DT).
   
   Pour MEFICG, IADRNO est initialis√©e √† 1.
   
   Pour NMARCP, NUMD2 est en fait inutile, on la supprime et on utilise NUMORD √† sa place.
   
   Pour NMECMI, il faut d√©placer le bloc posant probl√®me dans un bloc IF (et dans ce cas, les
   variables sont bien initialis√©es).
   
   Pour OP0100, on initialise JNORD √† 1.
   
   Pour OP0192, je r√©tablis la correction introduite par Josselin la semaine derni√®re.
   
   Pour RESTHE, dans cette routine, il y a beaucoup de variables non initilis√©es (adresses
   JEVEUX), je les mets toutes √† 1 et je mets certaines longueurs de vecteur √† 0.
   
   Pour TE0036, je d√©place le bloc IF (AXI) et je v√©rifie que le seul test qui passe dans ce
   bloc (sslv155b) ne donne pas de r√©sultats faux.
   
   Pour TE0350, on met IMATUU √† 1.
   
   Pour TE0497, le probl√®me a d√©j√† √©t√© corrig√© par Josselin.
   
   Pour TE0490, j'initialise IDVARI √† 1 et j'ajoute un CALL ASSERT dans un bloc (non couvert)
   qui peut potentiellement faire un usage dangereux de IDVARI.
   
   Pour TE0576, on initialise IDVARI √† 1.
   
   Pour TE0590, on initialise IVARIX √† 1.
   
   Pour U2MESG, j'avance l'initialisation de LSTOP.
   
   Pour VPWECF, on ajoute CHA=UNDF en d√©but de routine.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    aucune
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR torkhani     TORKHANI Mohamed       DATE 11/19/2012 - 05:46:19

--------------------------------------------------------------------------------
RESTITUTION FICHE 019928 DU 2012-11-13 16:25:14
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Correction de la modxc3xa9lisation du support simplifixc3xa9 pour le cas-test SDLL123C
FONCTIONNALITE
   Contexte :
   Le cas-test SDLL123C est le seul cas-test de type machine tournante comportant un support de type 
   simplifi√© (ie. support de la ligne d'arbre mod√©lis√© par des syst√®mes masse-ressort-amortisseur au droit 
   des paliers). 
   
   Diagnostic :
   Le jeu de conditions aux limites utilis√© pour le syst√®me Arbre-Palier-Support est bon. Par contre, la 
   mise en donn√©e des caract√©ristiques des √©l√©ments discrets dans AFFE_CARA_ELEM est fausse (on a 
   interverti les raideurs et amortissements entre les paliers et les supports). Du coup, on ne r√©soud pas 
   le probl√®me souhait√©. 
   
   Solution : 
   Bien √©videmment, la correction de la saisie des donn√©es change les r√©sultats, qui sont test√©s en 
   NON_REGRESSION. Le cas-test passe sur les plateformes aster4, calibre7 et Rocks. 
   
   Impact doc : v2.02.123
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : v2.02.123
VALIDATION
    sdll123c
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR tran         TRAN Van-xuan          DATE 11/20/2012 - 03:14:42

--------------------------------------------------------------------------------
RESTITUTION FICHE 019908 DU 2012-11-12 12:52:23
TYPE anomalie concernant Code_Aster (VERSION 11.1)
TITRE
    En NEW11.02.23, les cas-tests sslv135d et szlz107b sont NOOK sur Aster4, Rocks et Calibre7.
FONCTIONNALITE
   Prol√®me:
   =======
   En NEW11.02.23, les cas-tests sslv135d et szlz107b sont NOOK sur Aster4, Rocks et Calibre7 suite aux 
   corrections faites sur les variables non-initialis√©es.
   
    ---- TABLE            NOM_PARA
         FATN_1           EPSPR1
         REFERENCE        LEGENDE          VALE_REFE        VALE_CALC        ERREUR         
    TOLE            
   NOOK  NON_REGRESSION   XXXX             8.75E-04         7.625E-04        12.9%          
    1.0E-03%
   
   Analyses:
   ========
   Le fortran est ok, la valeur de r√©refecen non-r√©gression VALE_CALC fourni au EPSPR1 est mauvais. 
   Par d√©finition:
   EPSPR1 = (max(eps_1) - min(eps_1) ) pendant un cycle.
   Historiquement, un cycle pour ces cas-tests est entre 0 sec et 5 sec pendant lequel entre 0 et 1 est la 
   partie monotonique. En se basant sur cette d√©fintition: max(eps_1) = 1.75E-3, min(eps1) = 0 -->VALE_REFE = 
   8.75E-4
   
   Il y a quelques mosi, on ajoute INST_INIT_CYCLE pour le temps initial du cyle, et dans ce cas, 
   INST_INIT_CYCLE = 1, max(eps_1) = 1.75E-3, min(eps1) = 2.25E-4 (entre 1 √† 5 sec). Comme, min(eps_1) avait 
   mal-initialis√© √† z√©ro --<d'ou vient la coh√©rence entre VALE_REFE et VALE_CALC avant la r√©alisation.
   
   Solution: Modifer la valeur de r√©f√©rence pour EPSPR1.
   
   On profite cette fiche pour initialiser proprement:
   EPRMAX = REPREM()
   EPRMIN = R8MEAM()
   SIGMAX = REPREM()
   SIGMIN = R8MEAM()
   
   On a √©galement pris plus de d√©cimal dans les valeur de r√©f√©rence pour supprimer TOLE_MACHINE.
   
   Cas-test:
   ========
   sslv135d, szlz107b
   
   Docs:
   =====
   V3.04.135, V9.01.107
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V3.04.135, V9.01.107
VALIDATION
    V3.04.135, V9.01.107
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 019703 DU 2012-10-10 13:52:29
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.02.17, les cas-tests sslv134j et sslv154c sont NOOK sur Rocks.
FONCTIONNALITE
   Probl√®me:
   ========
   En NEW11.02.17, les cas-tests sslv134j et sslv154c sont NOOK sur Rocks 
   
   Analyse:
   =======
   En se basant l'analyse de la fiche issue19261 de Samuel.
   
   En entr√©e du calcul de CALC_G, il existe des diff√©rences notables entre aster4 et rocks :
   - sur le champ PBASLO qui correspond √† la base locale du fond de fissure,
   - et sur le champ XCOURB, qui correspond √† la courbure du fond de fissure (la d√©riv√©e de
   la base locale)
   
   Ces diff√©rences ont la meme origine : le calcul de la base locale en chaque noeud du
   maillage, calcul qui est r√©alis√© dans DEFI_FOND_FISS, routine fonbas.f.
   
   Le but est de calculer la projection de chaque noeud sur le fond de fissure.
   Lorsque le fond est courbe, il existe des configurations ou la projection n'est pas unique. 
   Suivant les cas, un noeud peut se projeter sur le segment "√† gauche" ou "√† droite", en
   sym√©trie par rapport au noeud "central" du fond de fissure.
   Suivant le cot√© de projection, les vecteurs de la base locale ne seront pas identiques.
   
   Travaux r√©alis√©s:
   =================
   Dans l'attente d'un meilleur algorithme de projection, on propose une solution simple pour
   traiter la diff√©rence dans le cas on trouve les m√™me distances projet√©s sur sur diff√©rente
   segments du fond de fissure.
   
   Dans les subroutines concern√©s (fonbas, gcouro, gcour2, gcour3, xbaslo) qui calculent les
   bases locales, on modifie:
   
   IF (D. GT. DMIN) D = DMIN
   
   en
    
   IF (D. GT. DMIN*(1-eps)) D = DMIN avec eps = abs(R8PREM*100)
   
   Cette modification permet de fixer le premier segment trouv√©.
   
   Validations:
   ===========
   Les cas-tests NOOK associ√©s, la tol√©rance pour les test autre que non-regression ne
   changent pas. Sauf le cas particulier de sslv134j sur √©l√©ment INCO pour lequel tol√©rance
   analytique change (certain augmente de 0.5-1% et certain diminue 3-4% (plus pr√©cis))
   Il n'y a pas de diff√©rence notable entre rocks et aster (tole machine par d√©faut)
   
   Impact doc:
   ==========
   Test de sslv134h
   
   Je profite cette fiche pour supprimer TOLE_MAHCINE des cas-tests CALC_G
   Il y 117 test avec grep CALC_G et TOLE_MACHINE
   Cette modification du fortran permet de supprimer TOLE_MAHCINE  plus de 80 cas-tests. Les autres sont en 
   cours de'examiner.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    test concernxc3xa9
NB_JOURS_TRAV  : 5.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 019769 DU 2012-10-19 08:09:13
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.02.19, les cas-tests sslv134a, b, d, e, f, h et j sont NOOK sur Rocks.
FONCTIONNALITE
   Probl√®me:
   ========
   En NEW11.02.19, les cas-tests sslv134a, b, d, e, f, h et j sont NOOK sur Rocks. 
   
   Analyse:
   =======
   En se basant l'analyse de la fiche issue19261 de Samuel.
   
   En entr√©e du calcul de CALC_G, il existe des diff√©rences notables entre aster4 et rocks :
   - sur le champ PBASLO qui correspond √† la base locale du fond de fissure,
   - et sur le champ XCOURB, qui correspond √† la courbure du fond de fissure (la d√©riv√©e de
   la base locale)
   
   Ces diff√©rences ont la meme origine : le calcul de la base locale en chaque noeud du
   maillage, calcul qui est r√©alis√© dans DEFI_FOND_FISS, routine fonbas.f.
   
   Le but est de calculer la projection de chaque noeud sur le fond de fissure.
   Lorsque le fond est courbe, il existe des configurations ou la projection n'est pas unique. 
   Suivant les cas, un noeud peut se projeter sur le segment "√† gauche" ou "√† droite", en
   sym√©trie par rapport au noeud "central" du fond de fissure.
   Suivant le cot√© de projection, les vecteurs de la base locale ne seront pas identiques.
   
   Travaux r√©alis√©s:
   =================
   Dans l'attente d'un meilleur algorithme de projection, on propose une solution simple pour
   traiter la diff√©rence dans le cas on trouve les m√™me distances projet√©s sur sur diff√©rente
   segments du fond de fissure.
   
   Dans les subroutines concern√©s (fonbas, gcouro, gcour2, gcour3, xbaslo) qui calculent les
   bases locales, on modifie:
   
   IF (D. GT. DMIN) D = DMIN
   
   en
    
   IF (D. GT. DMIN*(1-eps)) D = DMIN avec eps = abs(R8PREM*100)
   
   Cette modification permet de fixer le premier segment trouv√©.
   
   Validations:
   ===========
   Les cas-tests NOOK associ√©s, la tol√©rance pour les test autre que non-regression ne
   changent pas. Sauf le cas particulier de sslv134j sur √©l√©ment INCO pour lequel tol√©rance
   analytique change (certain augmente de 0.5-1% et certain diminue 3-4% (plus pr√©cis))
   Il n'y a pas de diff√©rence notable entre rocks et aster (tole machine par d√©faut)
   
   Impact doc:
   ==========
   Test de sslv134h
   
   Je profite cette fiche pour supprimer TOLE_MAHCINE des cas-tests CALC_G
   Il y 117 test avec grep CALC_G et TOLE_MACHINE
   Cette modification du fortran permet de supprimer TOLE_MAHCINE  plus de 80 cas-tests. Les autres sont en 
   cours de'examiner.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : V3.04.134
VALIDATION
    test concernxc3xa9
NB_JOURS_TRAV  : 5.0
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST AJOUT ssls141a                     cheignon E.CHEIGNON         300    300      0
 CASTEST AJOUT ssls141b                     cheignon E.CHEIGNON         299    299      0
 CASTEST AJOUT ssls141c                     cheignon E.CHEIGNON         292    292      0
 CASTEST AJOUT ssls141d                     cheignon E.CHEIGNON         291    291      0
 CASTEST AJOUT ssls27c                      cheignon E.CHEIGNON         202    202      0
 CASTEST AJOUT ssls27d                      cheignon E.CHEIGNON         204    204      0
 CASTEST AJOUT ssls27e                      cheignon E.CHEIGNON         206    206      0
 CASTEST MODIF ascou01a                         tran V-X.TRAN           303     17     18
 CASTEST MODIF ascou09a                         tran V-X.TRAN           275     18     18
 CASTEST MODIF ascou16a                         tran V-X.TRAN           397     16     17
 CASTEST MODIF ascou18a                         tran V-X.TRAN           284     10      8
 CASTEST MODIF ascou19a                         tran V-X.TRAN           356      6      7
 CASTEST MODIF aspic01a                         tran V-X.TRAN           188     11     12
 CASTEST MODIF aspic01b                         tran V-X.TRAN           513     10     10
 CASTEST MODIF aspic02a                         tran V-X.TRAN           210     14     13
 CASTEST MODIF aspic07a                         tran V-X.TRAN           188     12     12
 CASTEST MODIF aspic09a                         tran V-X.TRAN           211     16     15
 CASTEST MODIF comp003a                       pellet J.PELLET           276     10      4
 CASTEST MODIF comp003b                       pellet J.PELLET           234     10      4
 CASTEST MODIF comp003c                       pellet J.PELLET           237     12      4
 CASTEST MODIF fdlv106a                       pellet J.PELLET           699     40      1
 CASTEST MODIF fdlv112b                       delmas J.DELMAS           537      3      3
 CASTEST MODIF fdnv100a                       delmas J.DELMAS           511      2      2
 CASTEST MODIF forma08a                       delmas J.DELMAS           258      2      2
 CASTEST MODIF forma08b                       delmas J.DELMAS           286      2      2
 CASTEST MODIF forma20a                       delmas J.DELMAS           381      1      1
 CASTEST MODIF forma20b                       delmas J.DELMAS           383      1      1
 CASTEST MODIF forma20c                       delmas J.DELMAS           344      1      1
 CASTEST MODIF hpla100g                       delmas J.DELMAS           441     20     18
 CASTEST MODIF hpla100h                       delmas J.DELMAS           438     19     17
 CASTEST MODIF hplp100a                         tran V-X.TRAN           311      4      4
 CASTEST MODIF hplv103a                         tran V-X.TRAN          1155    137    136
 CASTEST MODIF hsnv132a                         tran V-X.TRAN           201      4      4
 CASTEST MODIF htna100a                       delmas J.DELMAS          1215      2      2
 CASTEST MODIF miss02a                        delmas J.DELMAS           544      2      2
 CASTEST MODIF miss05a                        delmas J.DELMAS           840      2      2
 CASTEST MODIF miss06b                        delmas J.DELMAS           837      2      2
 CASTEST MODIF miss06c                        delmas J.DELMAS           835      2      2
 CASTEST MODIF miss07b                        delmas J.DELMAS           412      2      2
 CASTEST MODIF perf013d                      boiteau O.BOITEAU           87      4      3
 CASTEST MODIF sdld27a                       boiteau O.BOITEAU         1447      1     37
 CASTEST MODIF sdld321a                       delmas J.DELMAS           763      2      2
 CASTEST MODIF sdld321b                       delmas J.DELMAS           604      2      2
 CASTEST MODIF sdld321c                       delmas J.DELMAS           585      2      2
 CASTEST MODIF sdld325a                       delmas J.DELMAS           909      2      2
 CASTEST MODIF sdld325b                       delmas J.DELMAS           994      2      2
 CASTEST MODIF sdll113c                       delmas J.DELMAS           471      2      2
 CASTEST MODIF sdll123b                      boiteau O.BOITEAU          596      1     39
 CASTEST MODIF sdll123c                     torkhani M.TORKHANI         951    119    139
 CASTEST MODIF sdll123e                      boiteau O.BOITEAU          302      2      2
 CASTEST MODIF sdll123f                      boiteau O.BOITEAU          316      2      2
 CASTEST MODIF sdll140a                      boiteau O.BOITEAU          430     29     16
 CASTEST MODIF sdll23c                        flejou J-L.FLEJOU         783     38     44
 CASTEST MODIF sdll401a                       flejou J-L.FLEJOU         447     10     10
 CASTEST MODIF sdll503a                       delmas J.DELMAS           335     19     30
 CASTEST MODIF sdll503b                       delmas J.DELMAS           347     25     39
 CASTEST MODIF sdll503c                       delmas J.DELMAS           446     41     63
 CASTEST MODIF sdll504b                       delmas J.DELMAS           518      2      2
 CASTEST MODIF sdls103a                       delmas J.DELMAS           417      7      7
 CASTEST MODIF sdls106b                      boiteau O.BOITEAU          372      2      2
 CASTEST MODIF sdls106c                      boiteau O.BOITEAU          374      2      8
 CASTEST MODIF sdls106d                      boiteau O.BOITEAU          337      2      2
 CASTEST MODIF sdls106e                      boiteau O.BOITEAU          373      2      8
 CASTEST MODIF sdls106f                      boiteau O.BOITEAU          276      2      8
 CASTEST MODIF sdls114a                         tran V-X.TRAN           307     11     12
 CASTEST MODIF sdls114b                         tran V-X.TRAN           258      5      6
 CASTEST MODIF sdls119b                       delmas J.DELMAS           618      2      2
 CASTEST MODIF sdls121d                       delmas J.DELMAS           355      2      2
 CASTEST MODIF sdls122a                      boiteau O.BOITEAU          652      3      3
 CASTEST MODIF sdlv128a                       pellet J.PELLET           447      5     19
 CASTEST MODIF sdlv302b                       delmas J.DELMAS           420      2      2
 CASTEST MODIF sdlv302c                      boiteau O.BOITEAU          282      1     72
 CASTEST MODIF sdnl132a                      boiteau O.BOITEAU          442      2      8
 CASTEST MODIF sdnl133b                       delmas J.DELMAS           311      2      2
 CASTEST MODIF sdnv103h                        abbas M.ABBAS            497     17     13
 CASTEST MODIF sdnv105a                       delmas J.DELMAS          1505      2      2
 CASTEST MODIF sdnv105b                       delmas J.DELMAS          1361      2      2
 CASTEST MODIF sdnv105c                       delmas J.DELMAS           951      2      2
 CASTEST MODIF sdnv106a                       delmas J.DELMAS           692      2      2
 CASTEST MODIF sdnv107b                       delmas J.DELMAS           502      2      2
 CASTEST MODIF ssla200a                       pellet J.PELLET          1445     11     11
 CASTEST MODIF ssla200b                       pellet J.PELLET          1515     11     11
 CASTEST MODIF ssll112a                     cheignon E.CHEIGNON         286     95      5
 CASTEST MODIF ssll117a                       pellet J.PELLET           232      5      1
 CASTEST MODIF sslp101b                         tran V-X.TRAN           399     10     11
 CASTEST MODIF sslp101c                         tran V-X.TRAN           467      7      7
 CASTEST MODIF sslp101e                         tran V-X.TRAN           641     13     13
 CASTEST MODIF sslp102a                         tran V-X.TRAN           219     10      9
 CASTEST MODIF sslp103a                         tran V-X.TRAN           257     14     13
 CASTEST MODIF sslp103b                         tran V-X.TRAN           192     11     11
 CASTEST MODIF sslp114a                         tran V-X.TRAN           422      1      1
 CASTEST MODIF sslp114b                         tran V-X.TRAN           427      1      1
 CASTEST MODIF sslp114c                         tran V-X.TRAN           438      8     31
 CASTEST MODIF sslp115a                         tran V-X.TRAN           291      6      6
 CASTEST MODIF sslp200a                       pellet J.PELLET          1668      5      5
 CASTEST MODIF sslp200b                       pellet J.PELLET          1416      5      5
 CASTEST MODIF sslp201a                       pellet J.PELLET          1371      9     11
 CASTEST MODIF sslp201b                       pellet J.PELLET          1405      8      9
 CASTEST MODIF sslp310a                         tran V-X.TRAN          1480    110    110
 CASTEST MODIF sslp311b                         tran V-X.TRAN           337      3      3
 CASTEST MODIF sslp313a                         tran V-X.TRAN           163      4      4
 CASTEST MODIF sslp314d                         tran V-X.TRAN           132      4      5
 CASTEST MODIF sslp314e                         tran V-X.TRAN           132      4      5
 CASTEST MODIF sslp314f                         tran V-X.TRAN           134      4      4
 CASTEST MODIF sslp315a                         tran V-X.TRAN           162      1      2
 CASTEST MODIF sslp315b                         tran V-X.TRAN           164      4      4
 CASTEST MODIF sslp318b                         tran V-X.TRAN           256      6      6
 CASTEST MODIF sslp318c                         tran V-X.TRAN           249      6      6
 CASTEST MODIF sslp319a                         tran V-X.TRAN           277     12      9
 CASTEST MODIF sslp319b                         tran V-X.TRAN           269      9      9
 CASTEST MODIF sslp319e                         tran V-X.TRAN           269      8      5
 CASTEST MODIF sslp321b                         tran V-X.TRAN           242     18      6
 CASTEST MODIF sslp321c                         tran V-X.TRAN           222     18      6
 CASTEST MODIF sslp321d                         tran V-X.TRAN           224     19      6
 CASTEST MODIF sslp323a                         tran V-X.TRAN           200     11      5
 CASTEST MODIF sslp323b                         tran V-X.TRAN           197     11      5
 CASTEST MODIF ssls124a                       ladier A.LADIER           613     38     21
 CASTEST MODIF sslv110f                         tran V-X.TRAN           264      1      2
 CASTEST MODIF sslv111a                       delmas J.DELMAS           516      7     26
 CASTEST MODIF sslv111b                       delmas J.DELMAS           433      6     25
 CASTEST MODIF sslv111c                       delmas J.DELMAS           429      7     26
 CASTEST MODIF sslv111d                       delmas J.DELMAS           429      7     26
 CASTEST MODIF sslv111e                       delmas J.DELMAS           429      7     26
 CASTEST MODIF sslv111f                       delmas J.DELMAS           321      8     17
 CASTEST MODIF sslv111g                       delmas J.DELMAS           320      7     16
 CASTEST MODIF sslv134a                         tran V-X.TRAN           388     23     26
 CASTEST MODIF sslv134b                         tran V-X.TRAN           480     10     10
 CASTEST MODIF sslv134c                         tran V-X.TRAN           221      8      8
 CASTEST MODIF sslv134d                         tran V-X.TRAN           638     10     10
 CASTEST MODIF sslv134e                         tran V-X.TRAN           316     13     13
 CASTEST MODIF sslv134f                         tran V-X.TRAN           322     14     13
 CASTEST MODIF sslv134h                         tran V-X.TRAN           278      3      6
 CASTEST MODIF sslv134j                         tran V-X.TRAN           344     36     49
 CASTEST MODIF sslv134k                         tran V-X.TRAN           168      8      9
 CASTEST MODIF sslv135d                         tran V-X.TRAN           401      4     10
 CASTEST MODIF sslv139a                        idoux L.IDOUX            204     12      4
 CASTEST MODIF sslv154a                         tran V-X.TRAN           433     15     15
 CASTEST MODIF sslv154c                         tran V-X.TRAN           237     11     11
 CASTEST MODIF sslv155c                         tran V-X.TRAN           266      2      2
 CASTEST MODIF sslv200a                       pellet J.PELLET          1355     25     25
 CASTEST MODIF sslv200b                       pellet J.PELLET          1276     13     13
 CASTEST MODIF sslv310a                         tran V-X.TRAN           557     27     28
 CASTEST MODIF sslv312a                         tran V-X.TRAN           288     26     25
 CASTEST MODIF sslv314b                         tran V-X.TRAN           220      4      5
 CASTEST MODIF sslv315a                         tran V-X.TRAN           273     14     17
 CASTEST MODIF sslv316e                         tran V-X.TRAN           310     22     10
 CASTEST MODIF sslv316f                         tran V-X.TRAN           307     22      9
 CASTEST MODIF sslv316i                         tran V-X.TRAN           295     22      9
 CASTEST MODIF ssna122c                       desoza T.DESOZA           307      7      3
 CASTEST MODIF ssna122d                       desoza T.DESOZA           307      7      3
 CASTEST MODIF ssnl106i                       delmas J.DELMAS           233      2      2
 CASTEST MODIF ssnl119a                       ladier A.LADIER           372      3      1
 CASTEST MODIF ssnl127b                       delmas J.DELMAS           447      2      2
 CASTEST MODIF ssnl130b                       ladier A.LADIER           173      2      1
 CASTEST MODIF ssnp102a                         tran V-X.TRAN           541     31     30
 CASTEST MODIF ssnp102b                         tran V-X.TRAN           404     19     19
 CASTEST MODIF ssnp110a                         tran V-X.TRAN           292     16     16
 CASTEST MODIF ssnp110b                         tran V-X.TRAN           275     16     16
 CASTEST MODIF ssnp110c                         tran V-X.TRAN           391      1      2
 CASTEST MODIF ssnp110e                         tran V-X.TRAN           893     31     31
 CASTEST MODIF ssnp118g                      laverne J.LAVERNE          482     18     16
 CASTEST MODIF ssnp118h                      laverne J.LAVERNE          482     16     16
 CASTEST MODIF ssnp118i                      laverne J.LAVERNE          475     16     14
 CASTEST MODIF ssnp123b                       ladier A.LADIER           217      2      1
 CASTEST MODIF ssnp130a                       delmas J.DELMAS           324     15     47
 CASTEST MODIF ssnp130b                       delmas J.DELMAS           315     38     78
 CASTEST MODIF ssnp130c                       delmas J.DELMAS           269     37     63
 CASTEST MODIF ssnp130d                       delmas J.DELMAS           275     25     63
 CASTEST MODIF ssnp130e                       delmas J.DELMAS           234     17     39
 CASTEST MODIF ssnp130f                       delmas J.DELMAS           234     13     15
 CASTEST MODIF ssnp138a                         tran V-X.TRAN           401    116     33
 CASTEST MODIF ssnp138b                         tran V-X.TRAN           351     37     19
 CASTEST MODIF ssnp138c                         tran V-X.TRAN           382     99     32
 CASTEST MODIF ssnp138d                         tran V-X.TRAN           340     56     29
 CASTEST MODIF ssnp138f                         tran V-X.TRAN           336     57     32
 CASTEST MODIF ssnp148a                       delmas J.DELMAS           308      2      2
 CASTEST MODIF ssnp154d                       delmas J.DELMAS           325      2      2
 CASTEST MODIF ssnp156b                       desoza T.DESOZA           137      4      2
 CASTEST MODIF ssnp158a                       delmas J.DELMAS           340      9     10
 CASTEST MODIF ssnv104a                       desoza T.DESOZA           345     38     69
 CASTEST MODIF ssnv104i                       desoza T.DESOZA           393     67     82
 CASTEST MODIF ssnv104j                       desoza T.DESOZA           379     59     83
 CASTEST MODIF ssnv108a                         tran V-X.TRAN           312     13     14
 CASTEST MODIF ssnv108c                         tran V-X.TRAN           201      1      2
 CASTEST MODIF ssnv128c                       ladier A.LADIER           448      7      5
 CASTEST MODIF ssnv166c                         tran V-X.TRAN           305     15     13
 CASTEST MODIF ssnv185a                         tran V-X.TRAN           361     66     17
 CASTEST MODIF ssnv185b                         tran V-X.TRAN           406     58     28
 CASTEST MODIF ssnv185c                         tran V-X.TRAN           527     70     22
 CASTEST MODIF ssnv185d                         tran V-X.TRAN           294     19      6
 CASTEST MODIF ssnv185e                         tran V-X.TRAN           209     18      5
 CASTEST MODIF ssnv185f                         tran V-X.TRAN           248     19      6
 CASTEST MODIF ssnv185g                         tran V-X.TRAN           348     24      6
 CASTEST MODIF ssnv185h                         tran V-X.TRAN           294     18      5
 CASTEST MODIF ssnv185i                         tran V-X.TRAN           247     12      5
 CASTEST MODIF ssnv185j                         tran V-X.TRAN           248      9      5
 CASTEST MODIF ssnv185k                         tran V-X.TRAN           287     26     11
 CASTEST MODIF ssnv185m                         tran V-X.TRAN           354     49     13
 CASTEST MODIF ssnv185n                         tran V-X.TRAN           378     38      9
 CASTEST MODIF ssnv185o                         tran V-X.TRAN           212     33      9
 CASTEST MODIF ssnv185p                         tran V-X.TRAN           422     38     13
 CASTEST MODIF ssnv185q                         tran V-X.TRAN           240      1      1
 CASTEST MODIF ssnv185r                         tran V-X.TRAN           248     18      6
 CASTEST MODIF ssnv192a                         tran V-X.TRAN           431     39      5
 CASTEST MODIF ssnv226a                       delmas J.DELMAS           239      2      2
 CASTEST MODIF ssnv504b                       desoza T.DESOZA           281      7      8
 CASTEST MODIF ssnv506c                       delmas J.DELMAS           299      2      2
 CASTEST MODIF ssnv506f                       delmas J.DELMAS           291      2      2
 CASTEST MODIF szlz107b                         tran V-X.TRAN           631      4      3
 CASTEST MODIF tpls100a                       delmas J.DELMAS           496    104     14
 CASTEST MODIF wdnp101a                       ladier A.LADIER          1095      6      5
 CASTEST MODIF wtna105a                       ladier A.LADIER           763      4      4
 CASTEST MODIF zzzz120b                     lefebvre J-P.LEFEBVRE       786      3      4
 CASTEST MODIF zzzz121a                       delmas J.DELMAS           291      5      7
 CASTEST MODIF zzzz189a                     cheignon E.CHEIGNON         294      2      2
 CASTEST MODIF zzzz189b                     cheignon E.CHEIGNON         151      6      7
 CASTEST MODIF zzzz189d                     cheignon E.CHEIGNON         159      6      7
 CASTEST MODIF zzzz208b                      boiteau O.BOITEAU          486      4      4
 CASTEST MODIF zzzz257a                       delmas J.DELMAS           305      7      7
 CASTEST MODIF zzzz257b                       delmas J.DELMAS           305      7      7
 CASTEST MODIF zzzz257c                       delmas J.DELMAS           279      4      4
CATALOGU MODIF options/char_meca_fr1d1d     cheignon E.CHEIGNON          40      4      1
CATALOGU MODIF options/flux_elga              delmas J.DELMAS            47      3      1
CATALOGU MODIF typelem/gener_mepct1         cheignon E.CHEIGNON         251      2      2
CATALOGU MODIF typelem/gener_thcq_2           delmas J.DELMAS           122      5      2
CATALOGU MODIF typelem/meca_hexs8             delmas J.DELMAS           454     12      1
CATALOPY MODIF commande/affe_cara_elem      cheignon E.CHEIGNON         597      5      7
CATALOPY MODIF commande/calc_modal           boiteau O.BOITEAU          102      2      2
CATALOPY MODIF commande/macro_mode_meca      boiteau O.BOITEAU           94      2      2
CATALOPY MODIF commande/mode_iter_inv        boiteau O.BOITEAU          107      1      2
CATALOPY MODIF commande/mode_iter_simult     boiteau O.BOITEAU          168      4      7
CATALOPY MODIF commun/c_type_cham_into        pellet J.PELLET            44     10      4
 FORTRAN AJOUT utilitai/utmam2                delmas J.DELMAS            86     86      0
 FORTRAN AJOUT utilitai/utmamo                delmas J.DELMAS            73     73      0
 FORTRAN MODIF algeline/flust3              sellenet N.SELLENET         535      2      1
 FORTRAN MODIF algeline/gcpc                sellenet N.SELLENET         265      2      1
 FORTRAN MODIF algeline/op0044               boiteau O.BOITEAU          746     13     15
 FORTRAN MODIF algeline/op0045               boiteau O.BOITEAU         1245     11     17
 FORTRAN MODIF algeline/vpwecf              sellenet N.SELLENET         431      3      2
 FORTRAN MODIF algeline/wp2vec               boiteau O.BOITEAU          319     28     72
 FORTRAN MODIF algeline/wp3vec               boiteau O.BOITEAU          318     25     69
 FORTRAN MODIF algeline/wp4vec               boiteau O.BOITEAU          266     24     70
 FORTRAN MODIF algorith/brksec                 idoux L.IDOUX             87      4      4
 FORTRAN MODIF algorith/calcyc              sellenet N.SELLENET         408      2      1
 FORTRAN MODIF algorith/chrpno              desroche X.DESROCHES        610      3      1
 FORTRAN MODIF algorith/cyc110              sellenet N.SELLENET         349      2      1
 FORTRAN MODIF algorith/gcour3                  tran V-X.TRAN           333      3      3
 FORTRAN MODIF algorith/majou               sellenet N.SELLENET         363      2      1
 FORTRAN MODIF algorith/mdadap              sellenet N.SELLENET         770      4      4
 FORTRAN MODIF algorith/mmmjeu                desoza T.DESOZA           122     25     10
 FORTRAN MODIF algorith/nmarcp              sellenet N.SELLENET          93      3      8
 FORTRAN MODIF algorith/nmecmi              sellenet N.SELLENET         406      4      4
 FORTRAN MODIF algorith/op0060                pellet J.PELLET           542      2      1
 FORTRAN MODIF algorith/op0075                delmas J.DELMAS           174      4      3
 FORTRAN MODIF algorith/op0077                delmas J.DELMAS           296     12      5
 FORTRAN MODIF algorith/op0078                delmas J.DELMAS            68      3     15
 FORTRAN MODIF algorith/regene                delmas J.DELMAS           311      2      3
 FORTRAN MODIF algorith/te0350              sellenet N.SELLENET         171      2      1
 FORTRAN MODIF algorith/xbaslo                  tran V-X.TRAN           197      3      3
 FORTRAN MODIF calculel/ccpoux                flejou J-L.FLEJOU         347     81     60
 FORTRAN MODIF calculel/ccvepo                flejou J-L.FLEJOU         126      2      2
 FORTRAN MODIF calculel/cesred                pellet J.PELLET           261      5      1
 FORTRAN MODIF calculel/engtce                pellet J.PELLET           127      4      5
 FORTRAN MODIF calculel/engtcn                pellet J.PELLET           127      4      5
 FORTRAN MODIF calculel/engtrs                pellet J.PELLET           174      4      5
 FORTRAN MODIF calculel/engttb                pellet J.PELLET           140      4      5
 FORTRAN MODIF calculel/mearcc                delmas J.DELMAS           179      7     13
 FORTRAN MODIF calculel/meca01                flejou J-L.FLEJOU         716      7      7
 FORTRAN MODIF calculel/mecalr                flejou J-L.FLEJOU         487      4      4
 FORTRAN MODIF calculel/medom1                flejou J-L.FLEJOU         190     50     49
 FORTRAN MODIF calculel/medom2                flejou J-L.FLEJOU         143      2      2
 FORTRAN MODIF calculel/meficg              sellenet N.SELLENET         435      2      1
 FORTRAN MODIF calculel/op0038                flejou J-L.FLEJOU         187      3      4
 FORTRAN MODIF calculel/op0100                flejou J-L.FLEJOU         839     13     13
 FORTRAN MODIF calculel/op0178                pellet J.PELLET           173     12      9
 FORTRAN MODIF calculel/pjma2p                delmas J.DELMAS           265      4     14
 FORTRAN MODIF calculel/resthe              sellenet N.SELLENET         251     10      1
 FORTRAN MODIF calculel/thcalr                flejou J-L.FLEJOU         366      4      4
 FORTRAN MODIF calculel/w155ch                pellet J.PELLET           193      4      3
 FORTRAN MODIF elements/crgdm                  idoux L.IDOUX            204      5      4
 FORTRAN MODIF elements/dxglrc                 idoux L.IDOUX            594      3      1
 FORTRAN MODIF elements/erhms2                delmas J.DELMAS           438      5      1
 FORTRAN MODIF elements/evala1              sellenet N.SELLENET         212      3      2
 FORTRAN MODIF elements/fonbas                  tran V-X.TRAN           277      3      4
 FORTRAN MODIF elements/gcour2                  tran V-X.TRAN           641      3      3
 FORTRAN MODIF elements/gcouro                  tran V-X.TRAN           426      4      3
 FORTRAN MODIF elements/mmtppe                desoza T.DESOZA           188      3      3
 FORTRAN MODIF elements/mmvppe                desoza T.DESOZA           195      3      3
 FORTRAN MODIF elements/te0036              sellenet N.SELLENET         496      5      5
 FORTRAN MODIF elements/te0109                delmas J.DELMAS           189     24     67
 FORTRAN MODIF elements/te0291                delmas J.DELMAS           191     58     40
 FORTRAN MODIF elements/te0347                flejou J-L.FLEJOU         219     60      2
 FORTRAN MODIF elements/te0490              sellenet N.SELLENET         892      3      1
 FORTRAN MODIF elements/te0497                delmas J.DELMAS           702      3      1
 FORTRAN MODIF elements/te0576              sellenet N.SELLENET         347      2      1
 FORTRAN MODIF elements/te0590              sellenet N.SELLENET         160      2      1
 FORTRAN MODIF jeveux/jjalls                lefebvre J-P.LEFEBVRE       182      2      2
 FORTRAN MODIF modelisa/aceagb              cheignon E.CHEIGNON         193     35     50
 FORTRAN MODIF modelisa/aceamb              cheignon E.CHEIGNON         181     37     51
 FORTRAN MODIF modelisa/aceinc              cheignon E.CHEIGNON         279      3      3
 FORTRAN MODIF modelisa/chveno                delmas J.DELMAS           382     28     10
 FORTRAN MODIF modelisa/op0056                delmas J.DELMAS           793      2      2
 FORTRAN MODIF modelisa/oriem0                pellet J.PELLET           156     31     13
 FORTRAN MODIF modelisa/pmfd00                delmas J.DELMAS           289     10     13
 FORTRAN MODIF prepost/acgrdo                   tran V-X.TRAN           808      6      9
 FORTRAN MODIF prepost/utmasu                 pellet J.PELLET           173      2      2
 FORTRAN MODIF prepost/xpoajm                 martin A.MARTIN           200      4     14
 FORTRAN MODIF prepost/xpolsn                 martin A.MARTIN            96      9     47
 FORTRAN MODIF supervis/execop                pellet J.PELLET           132      3      1
 FORTRAN MODIF utilifor/u2mesg              sellenet N.SELLENET         195      2      2
 FORTRAN MODIF utilitai/ceseva                pellet J.PELLET           208      9      2
 FORTRAN MODIF utilitai/cnseva                pellet J.PELLET           181     10      3
 FORTRAN MODIF utilitai/mmaxkl                flejou J-L.FLEJOU         310      2      2
 FORTRAN MODIF utilitai/op0192              sellenet N.SELLENET         326      4      1
 FORTRAN MODIF utilitai/rslesd                flejou J-L.FLEJOU         345     18     14
FORTRAN90 MODIF utilitai/mpichk              courtois M.COURTOIS         154      7      1
FORTRAN90 MODIF utilitai/mpicmw              courtois M.COURTOIS          70      3      5
  PYTHON MODIF Macro/calc_modal_ops          boiteau O.BOITEAU          157      2      2
  PYTHON MODIF Macro/macr_lign_coupe_ops      durand C.DURAND           997      3      1
  PYTHON MODIF Macro/macro_mode_meca_ops     boiteau O.BOITEAU          263      6      6
  PYTHON MODIF Messages/algorith2           desroche X.DESROCHES        264      6      1
  PYTHON MODIF Messages/calculel2             pellet J.PELLET           505     21      4
  PYTHON MODIF Messages/mecanonline10         desoza T.DESOZA           131      3      3
  PYTHON MODIF Messages/modelisa            cheignon E.CHEIGNON         543      3      2
  PYTHON MODIF Messages/modelisa9           cheignon E.CHEIGNON         364      2      6
  PYTHON MODIF Messages/utilitai4             flejou J-L.FLEJOU         330     17      1
  PYTHON MODIF Noyau/N_VALIDATOR            courtois M.COURTOIS        1397      2      2


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    9        1953      1953             +1953
 MODIF :  318      129213      4299    3981      +318
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :  327      131166      6252    3981     +2271 
