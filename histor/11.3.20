========================================================================
Version 11.3.20 du : 24/04/2013
========================================================================


-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR abbas        ABBAS Mickael          DATE 04/23/2013 - 01:00:51

--------------------------------------------------------------------------------
RESTITUTION FICHE 020179 DU 2013-01-10 18:01:47
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    petsc01i ne converge pas si on ajoute de la recherche linxc3xa9aire
FONCTIONNALITE
   Probl√®me
   ========
   
   Il s'agit d'un test en dynamique avec un comportement lin√©aire. Si on active la recherche
   lin√©aire, on ne 
   converge pas bien que le coefficient de recherche lin√©aire soit de 1.d0.
   Il y a clairement un bug.
   
   Solution
   ========
   
   La programmation de la routine nmpild.f (actualisation des champs apr√®s recherche lin√©aire
   et pilotage) est buggu√©e.
   Elle est d'ailleurs bcp trop compliqu√©e (des GOTO dans tous les sens)
   Les champs de vitesse et d'acc√©l√©ration √©taient donc faux apr√®s recherche lin√©aire.
   Apr√®s simplification, le probl√®me est corrig√©: les r√©sidus et les solutions sont
   identiques entre le calcul sans recherche lin√©aire et avec recherche lin√©aire en imposant
   RHO = 1.
   Cette correction devrait permettre √† la recherche lin√©aire de bcp mieux fonctionner en
   dynamique non lin√©aire.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    liste restreinte
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 020150 DU 2013-01-07 12:21:36
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    [FORUM] Calcul de stabilitxc3xa9 avec contact
FONCTIONNALITE
   Probl√®me
   ========
   
   Le calcul de stabilit√© avec contact discret √©met le message d'erreur suivant:
   
   !-------------------------------------------------------------------------------!
   ! <EXCEPTION> <ALGELINE3_60>                                                    !
   !                                                                               !
   ! La matrice : &&NMFLAM.MAGEOM a une num√©rotation incoh√©rente avec le NUME_DDL. !
   !-------------------------------------------------------------------------------!
   
   Erreur signal√©e par le forum
   
   http://www.code-aster.org/forum2/viewtopic.php?pid=40333#p40333
   
   Solution
   ========
   
   Le probl√®me vient du fait de la num√©rotation incoh√©rente entre le contact et la
   matrice tangente.
   Cette incompatibilit√© est bien prise en compte pour le contact continue (avec un message
   d'erreur explicite).
   L'erreur survient aussi pour le contact discret dans certaines configurations, celles qui
   vont modifier la matrice tangente globale: p√©nalisation et frottement.
   On interdit donc explicitement de faire du calcul de stabilit√© dans ces cas.
   NB: on ne peut donc pas faire d'√©tudes de stabilit√© en contact (continu ou discret), sauf
   avec la m√©thode contraintes actives.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    liste restreinte
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 020061 DU 2012-12-06 15:01:50
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    En NEW11.02.27, le cas-test sdnv103h est NOOK
FONCTIONNALITE
   Probl√®me
   ========
   
   Le test sdnv103h est NOOK est en 11.3.7 sur Rocks : 
   
   Solution
   ========
   
   Ce test utilise un algorithme de type "DISCRET" pour le frottement. Ces variations sont
   malheureusement fr√©quentes.
   VALGRIND ne dit rien.
   
   L'algorithme de contact ne
   converge pas exactement suivant le m√™me chemin selon les plateformes , mais je n'ai pas
   envie de
   modifier cet algorithme vieillissant avec des epsilons pour le rendre strictement
   identique partout (comme issue20524)
   
   Je propose donc de relever les tol√©rances plut√¥t que de m'acharner dessus.
   
   Nb: le frottement discret sera supprim√© en V12 (issue18059)
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sdnv103h
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 019966 DU 2012-11-20 13:43:23
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    Pas d'archivage du dernier pas de temps
FONCTIONNALITE
   Probl√®mes
   =========
   
   Le traitement des exceptions (en particulier ArretCPU) dans STAT_NON_LIEN donne des
   r√©sultats parfois surprenants.
   
   
   1. Le dernier instant n'est pas archiv√© dans tous les cas.
   2. L'avant dernier instant peut √™tre archiv√© apr√®s l'archivage du dernier instant. C'est tr√®s
   perturbant pour l'utilisateur.
   3. Quand on a converg√© dans un pas de temps, on regarde quand m√™me si l'on a le temps pour
   faire une it√©ration de Newton ce qui peut parfois conduire √† d√©clarer le pas non converg√©.
   
   Le cas 1. se produit quand on a pas assez de temps pour faire une it√©ration de Newton.
   Le cas 2. se produit quand on a pas assez de temps pour faire un pas de temps.
   Le cas 3. se produit quand on n'a pas assez de temps pour finir les it√©rations de Newton,
   il entra√Æne par la suite le cas 1.
   
   Corrections
   ===========
   
   Cas 1
   -----
   
   Le message d'erreur est clair:
   Arr√™t par manque de temps CPU pendant les it√©rations de Newton
   
   Il est donc normal que l'instant 1.190750000000e+00 ne soit pas sauvegard√© !
   
   Par contre, il n'est pas normal que le temps CPU soit insuffisant puisqu'on voit bien que
   le processus a converg√©. C'est √ßa qui est troublant.
   
   Parade: on ne v√©rifie pas le temps si le processus de Newton a converg√©, on corrige
   nmevdt.f en ce sens.
   Cons√©quence: on va s'arr√™ter en manque de temps CPU avant l'archivage, ce qui ne changera
   rien au probl√®me de Jean-Michel mais qui aura le m√©rite d'√™tre plus clair.
   
   Cas 2
   -----
   
   Effectivement, il y a un probl√®me. Le processus de v√©rification pendant l'archivage n'est
   pas assez robuste.
   On v√©rifie bien que l'instant archiv√© n'a pas d√©j√† √©t√© archiv√©. Par contre, on ne v√©rifie
   pas que l'instant archiv√© est bien SUP√âRIEUR au dernier instant archiv√©.
   On modifie nmarch.f
   
   Cas 3
   -----
   
   Voir Cas 1
   
   Validations
   -----------
   
   Ces probl√®mes sont tr√®s difficiles √† valider. Pour v√©rifier, on reprend un cas-test
   non-lin√©aire et on force les exceptions "√† la main".
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    cas-test perso
NB_JOURS_TRAV  : 3.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 019910 DU 2012-11-12 14:36:05
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    CALC_FORC_NONL - Routine NMDORC
FONCTIONNALITE
   Probl√®me
   ========
   
   La commande CALC_FORC_NONL est la seule a lire le mot-clef COMP_INCR sans passer par la
   routine r√©galienne NMDORC, mais en appelant directement NMDOCC.
   L'id√©e de ce shunt est d'√©viter de lire les param√®tres de convergence de type
   ITER_INTE_PAS. Or ce cas est pr√©vu dans NMDORC (variable CRILOC)
   
   Ce cas particulier est g√™nant pour la structuration de NMDORC.
   
   Solution
   ========
   
   On appelle nmdorc.f en utilisant le boolean CRILOC = .FALSE. pour dire de ne pas chercher
   √† lire les param√®tres de convergence
   
   Par ailleurs, une fiche (issue20725) a √©t√© √©mise pour proposer le refactoring de cette
   commande
   
   Impacts: op0183.f, nmdorc.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    cas tests avec CALC_FORC_NONL
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 018501 DU 2012-03-05 12:54:59
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    CHLIGR pas assez blinde
FONCTIONNALITE
   Probl√®me
   ========
   
   La routine CHLIGR permet de transf√©rer un CHAM_ELEM d'un LIGREL √† l'autre.
   Cette routine n'est pas blind√©e dans le cas de l'extension d'un ligrel avec un champ de
   type VARI_R (variables internes).
   En effet, dans ce cas, il n'est pas possible √† Aster de "deviner" le nombre de variables
   internes sur les mailles suppl√©mentaires.
   Il faut arr√™ter en erreur fatale pour √©viter les accidents.
   
   Correction
   ==========
   
   Dans chligr.f, Il y a d√©j√† une v√©rification de la coh√©rence entre les champs ELGA: on
   reporte cette correction dans une routine d√©di√©e (chvepg.f)
   On ajoute une routine qui compare deux LIGRELs (chveva): cette routine retourne -1 si le
   second ligrel n'est pas inclu dans le premier (c'est-√†-dire que des mailles du maillage
   complet sont affect√©es dans le second ligrel alors qu'elles ne l'√©taient pas dans le premier)
   Si le champ projet√© dans CHLIGR est de type VARI_ELGA, alors on impose que le second
   ligrel soit inclu dans le premier.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    cas-test perso
NB_JOURS_TRAV  : 5.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 020757 DU 2013-04-18 16:52:57
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    En NEW11.03.19, le cas-test ssnp15g s'arrete en erreur fatale sur Aster4, Rocks et Calibre 7.
FONCTIONNALITE
   Probl√®me
   ========
   
   En NEW11.03.19, le cas-test ssnp15g s'arrete en erreur fatale sur Aster4, Rocks et Calibre 7. 
    
   # TITRE ESSAI DE TRACTION-CISAILLEMENT (MISES ECROUISSAGE ISOTROPE)
    
   
   
   Solution
   ========
   
   Li√©e √† la fiche 20686.
   Une petite erreur dans l'appel de nmarnr.f dans le cas de DEFI_LIST_INST, le test sur le
   num√©ro est incorrect.
   Il fallait NUMREP.GT.1 et non NUMREP GT.0
   On corrige.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ssnp15g
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR assire       ASSIRE Aimery          DATE 04/22/2013 - 06:45:46

--------------------------------------------------------------------------------
RESTITUTION FICHE 020713 DU 2013-04-11 15:42:06
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    En NEW11.03.18, le cas-test zzzz159b est NOOK sur Aster4, ROcks et Calibre7.
FONCTIONNALITE
   Suite √† la modification de la valeur par d√©faut du param√®tre PARA_DIFF_FINI de MACR_RECAL,
   les param√®tres opbetnus √† la fin de l'optimisation ont un peu vari√©s.
   
   On les ajuste et on augmente la pr√©cision √† 1%, ce qui est suffisant.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    zzzz159b
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 020708 DU 2013-04-11 15:10:04
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    En NEW11.03.18, le cas-test ssna110a est NOOK sur Aster4, Rocks et Calibre7.
FONCTIONNALITE
   Suite √† la modification de la valeur par d√©faut du param√®tre PARA_DIFF_FINI de MACR_RECAL,
   les param√®tres opbetnus √† la fin de l'optimisation ont un peu vari√©s.
   
   On les ajuste et on augmente la tol√©rance √† 1%, ce qui est suffisant.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ssna110a
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 020702 DU 2013-04-11 14:08:40
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    En NEW11.03.18, le cas-test sdls121d est NOOK sur Aster4, Rocks et Calibre7.
FONCTIONNALITE
   Suite √† la modification de la valeur par d√©faut du param√®tre PARA_DIFF_FINI de MACR_RECAL,
   les param√®tres opbetnus √† la fin de l'optimisation ont un peu vari√©s.
   
   On les ajuste et on augmente la pr√©cision √† 1%, ce qui est suffisant.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sdls121d
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 020676 DU 2013-04-09 09:02:07
TYPE anomalie concernant Salome-Meca (VERSION 2008.1)
TITRE
    nom trop long pour le chemin runSalomeScript
FONCTIONNALITE
   Dans la version de SalomeMeca 2013.1 d√©ploy√©e sur les postes Calibre, le fichier
   runSalomeScript n'√©tait pas bon. Du coup, Stanley ne pouvait pas fonctionner correctement
   √† moins de fixer le chemin en dur dans le pr√©f√©rences de Stanley.
   
   La correction a √©t√© faite et remont√©e dans Mercurial pour la constuction de Salome-Meca pa
   YAMM.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    Stanley
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 020495 DU 2013-03-01 15:02:48
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    plexu05a plante pour manque de temps en lancement dans TESTS
FONCTIONNALITE
   Remont√© par un utilisateur :
   Quand on lance sur aster4 plexu05a dans l'onglet ETUDE de ASTK, le test passe.
   Mais quand on le lance dans TESTS il ne passe plus.
   
   En fait, L. Idoux a depuis fait un ASREST en incluant ce test et il est pass√© sans probl√®me.
   
   On ferme la fiche.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    neant
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR bargelli     BARGELLINI Renaud      DATE 23/04/2013 - 17:36:14

--------------------------------------------------------------------------------
RESTITUTION FICHE 020691 DU 2013-04-11 07:04:27
TYPE anomalie concernant Code_Aster (VERSION 11.8)
TITRE
    Couverture de GDINOR
FONCTIONNALITE
   Je propose de rajouter un CALC_G bien senti dans le cas test ssnv218a.
   Cela ne co˚te presque rien bien que cela soit inutile pour le test proprement dit, mais
   permet de couvrir gdinor.f
   
   Solution discutÈe avec S. Geniaut et N. Sellenet.
   
   Impact :
   ssnv218a.comm
   
   Doc : Neant.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ssnv218a
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR boiteau      BOITEAU Olivier        DATE 04/22/2013 - 01:11:04

--------------------------------------------------------------------------------
RESTITUTION FICHE 020669 DU 2013-04-08 11:57:44
TYPE anomalie concernant Code_Aster (VERSION 12.4)
TITRE
    En NEW11.03.17, le cas-test zzzz337a s'arrxc3xaate en erreur fatale sur Aster4_MPI.
FONCTIONNALITE
   ANALYSE
   ========
   Probl√®me vu avec Jean-Pierre.
   Le test semble passer sans probl√®me en // sur Aster4 via Astk et le param√©trage par d√©faut (idem sur
   Ivano√©).
   Quand on le lance √† la main ce n'est plus le cas. 
   En augmentant la m√©moire n√©cessaire (512Mo-->1024Mo) pour tenir compte de la librairie MPI tout 
   redevient OK.
   
   SOURCE RESTITUEE
   =================
    Aucune: zzzz337a.export d√©j√† modifi√© sous NEW11_impi/astest
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    non-rxc3xa9gression
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 019844 DU 2012-10-29 15:46:01
TYPE anomalie concernant Code_Aster (VERSION 12.4)
TITRE
    Le cas-test erreu04a ne plante plus sur l'erreur MUMPS FACTOR_57
FONCTIONNALITE
   PROBLEME
   ========
     Suite aux corrections op√©r√©es lors de la restitution de AL19767, un calcul du cas-test erreu04a ne
     passe plus. Le probl√®me √©tant mineur, on l'avait mis en commentaire afin d'instruire la question
     sans entraver les autres v√©rifications activ√©es par le cas-test.
   
   ANALYSE
   =======
     Dans ce cas-test on construit de diff√©rentes mani√®res une matrice non inversible et on cherche √†
     la r√©soudre afin de d√©clancher une remont√©e d'erreur donn√©e.
     En particulier, le calcul g√©n√©rant la table TAB131 utilise les op. FACTORISER et RESOUDRE avec le
     solveur lin√©aire MUMPS. 
     Son sc√©nario est le suivant: on d√©branche volontairement la d√©tection de singularit√© au niveau de
     FACTORISER (NPREC<0) et on active le crit√®re de v√©rification de qualit√© de la solution de mani√®re
     drastique (RESI_RELA=10-15) afin de r√©cup√©rer l'erreur "solution impr√©cise FACTOR_57".
   
     Avant la correction de la fiche 19767, le sc√©nario pr√©vu de d√©roulait convenablement... par chance.
     Depuis la correction, il ne se d√©roule pas comme pr√©vu (c-a-d le calcul ne plante plus) du fait:
       - d'une erreur de ma part ds Aster,
       - d'une faille d'AQ et de doc de MUMPS (ils sont d'accord la dessus et ils vont prendre en
         compte le pb ds une prochaine release).
   
     Cot√© Aster
     ----------
    Ds Aster (amumpsdcz.F) on d√©truit, apr√®s la facto MUMPS, tous les objets MUMPS encombrants
    dont on a plus besoin. 
    Ds un calcul std (cmde int√©gr√©e) on sait tr√®s bien ce dont on a besoin pour mener √† bien les
    2 √©tapes MUMPS: analyse+facto et un ou plusieurs solve.
    Ds une commande √©clat√©e (FACTORISER & RESOUDRE) on ne peut pas prendre les m√™mes d√©cisions. En par
    ticulier, √† l'issu de la facto, on ne doit pas d√©truire la matrice MUMPS (comme on le fait ds STAT
    _NON_LINE std ou MECA_STATIQUE si resi_rela<0). Car ON PEUT EN AVOIR BESOIN POUR L ESTIMATION DE LA
    QUALITE ET LA PROCEDURE DE RAFFINEMENT ITERATIF DU RESOUDRE SUIVANT.
   
      ===> Je modifie cela. Si on pense √™tre ds FACTORISER, on ne d√©truit plus la matrice MUMPS.
   
      RQ.1
      D'autre part, lorsq'on d√©truit m'occurence MUMPS, jusqu'√† pr√©sent on d√©truisait aussi la matrice
      MUMPS QUE SI L'ANALYSE DE QUALITE AVAIT ETE DEMANDEE.
      On voit, √† cause des op. √©clat√©s, que ce genre de sc√©nario n'est pas tenable. On risque d'avoir
      des fuites m√©moires ou des pbs d'allocations de futures matrices MUMPS (car les anciennes n'auront
      pas √©t√© d√©truites).
      Bref, j'ai assoupli la r√®gle, maintenant on d√©truit DS TOUS LES CAS la matrice MUMPS. Et si elle
      n'existait d√©j√† plus (si elle avait √©t√© d√©truire lors de la facto pr√©c√©dente), ce n'est pas
      grave, le DEALLOCATABLE ne fait rien (il est prot√©g√© par un STAT=).
     
     RQ. 2
     Pour √™tre pr√©cis, on ne d√©truit pas la matrice si on a aucune info sur la gestion de la 
     qualit√© SOLVEUR.SLVK(10)='XXXX' (au lieu des valeurs 'SANS','AUTO' ou 'FORCE' std).
     Strat√©gie comment√©e ds les sources.
   
    Cot√© MUMPS
     ---------
    Quant on demande √† MUMPS de r√©soudre un syst√®me ET d'estimer sa qualit√© voire de l'am√©liorer. Si il
    lui manque des donn√©es pour faire les post-traitements cit√©s, IL NE DIT RIEN et continue le solve
    comme si tout √©tait OK. C'est un comportement normal et souhaitable pour beaucoup de codes, mais pas
    pour l'AQ de Code_Aster.
    Je leur ai parl√© de ce pb et je leur ai dit qu'il serait souhaitable de produire:
      - soit un code d'alarme,
      - soit d'initialiser un output qui aurait du √™tre produit √† -9999,
    pour le code h√¥te qu'on prenne conscience du pb et qu'on le traite ds le code h√¥te.
   
    RQ 3.
    Avec leur prochaine fonctionnalit√© permettant d'utiliser MUMPS en mode POURSUITE, ils devront ins
    truire, je pense, ce genre de pbs.
        
     ====> Cela sera fait ds une prochaine release.
   
   VALIDATION
   ===========
    erreu04a en enlevant les commentaires du calcul de TAB131
   
   NON-REGRESSION
   ==============
    Astout des 237 tests MUMPS (sauf perf) sur Aster4 seq.
   
   SOURCES RESTITUEES
   ==================
    F90:amumps/d/z/c.F
    TEST: erreu04a
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    non-rxc3xa9gression
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 020047 DU 2012-12-04 15:01:05
TYPE anomalie concernant Code_Aster (VERSION 12.4)
TITRE
    Alarme "Mumps" si "Petsc+LDLT_SP"
FONCTIONNALITE
   PROBLEME
   ========
     Lorsqu'on utilise MUMPS en tant que pr√©conditionneur (donc avec peu d'acc√®s √† son param√©trage fin)
     il est inutile de produire la plupart des messages d'INFO ou d'ALARME en cas de pb. Car ds la plu
     part des cas, l'utilisateur ne pourra pas mettre en application les conseils fournis ou il n'est
     pas int√©ress√© par les d√©tails affich√©s.
   
   ANALYSE
   =======
     Apr√®s discussion avec Thomas, je propose, qu'en mode pr√©conditionneur, les sources g√©rant l'interfa
     √ßage avec MUMPS n'√©mettent que des UTMESS_F.
     En cas de UTMESS_I ou UTMESS_A, on prend les m√™mes d√©cisions algorithmiques que pour les 2 autres
     usages de MUMPS (solveur direct pr√©cis, solveur direct approxim√©) mais on ne communique pas dessus.
   
     On laisse les √©ventuellement communications avec les Users √† l'interfa√ßage chef d'orchestre de la
     r√©solution, c-a-d les routines g√©rant PETSc.
   
     RQ. Je laisse 2 exceptions √† cette r√®gle:
   
        - le mode d√©veloppeur qui permet de sortir la matrice et le RHS/sol ds un fichier + 'ALARME':
         il faut avertir que le calcul va s'arr√©ter prochainement et qu'un fichier sera g√©n√©r√©.
   
       - la gestion fine de la m√©moire et les bascules IC/OOC: cela impacte directement les perfs du
         pr√©conditionneur. Cela peut le rendre r√©dhibitoire. Il faut avertir de cet √©tat de fait.
         Cependant ce cas de figure ne devrait pas se produire. Le pr√©conditionneur MUMPS s'utilise
         pour l'instant, qu'uniquement en IC. Je laisse n√©anmoins cela au cas o√π.
   
   NON-REGRESSION
   ==============
    Astout des 237 tests MUMPS (sauf perf) sur Aster4 seq.
   
   SOURCES RESTITUEES
   ==================
    F90:amumps/d/z/c.F
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    non-rxc3xa9grxc3xa9ssion
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR boyere       BOYERE Emmanuel        DATE 04/22/2013 - 05:59:36

--------------------------------------------------------------------------------
RESTITUTION FICHE 020703 DU 2013-04-11 14:47:54
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    En NEW11.03.18, le cas-test sdnl105c sxe2x80x99arrxc3xaate en erreur fatale sur Aster4, Rocks et Calibre7.
FONCTIONNALITE
   Lors de la restitution la fiche 17858 (version 11.3.18) qui autorisait la projection d'un
   champ sans qu'il soit muni d'un NUME_DDL, on a oubli√© un cas particulier l√©g√®rement
   borderline, mis en √©vidence par le test SDNL105c. Il s'agit d'un calcul sous-structur√©
   avec chocs sur une base modale de Ritz, construite avec des PROFCHNO qui ne sont pas
   compatibles entre eux.
   Le probl√®me venait du fait que dans la routine COPMOD, on faisait confiance au NUME_DDL
   attach√© √† la base modale pour g√©rer la num√©rotation. Ce n'√©tait pas prudent car ce
   NUME_DDL n'√©tait pas coh√©rent avec le PROFCHNO attach√© √† chaque mode. On corrige COPMOD en
   for√ßant la v√©rification.
   
   Cette fois-ci on √©largit la v√©rification de la correction au-del√† de la dynamique lin√©aire
   en l'√©tendant √† tous les tests ?d*.comm et zzzz*.comm.
   
   PS : je corrige une petite faute de fran√ßais dans le message UTILITAI_24.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ?d*.comm & zzzz*.comm
NB_JOURS_TRAV  : 2.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR courtois     COURTOIS Mathieu       DATE 22/04/2013 - 14:37:30

--------------------------------------------------------------------------------
RESTITUTION FICHE 017878 DU 2011-11-09 15:01:05
TYPE evolution concernant Code_Aster (VERSION )
TITRE
    CALC_MISS : gestion des points de controle
FONCTIONNALITE
   L'objet de cette fiche est de traiter les points de contr√¥le dans CALC_MISS.
   
   Les fonctionnalit√©s qui n√©cessitent encore l'utilisation de MACRO_MISS_3D sont :
   - les sources ponctuelles,
   - les ondes inclin√©es,
   - l'interaction sol, fluide, structure.
   
   Les points de contr√¥le consiste √† demander √† Miss le calcul de la r√©ponse en quelques points donn√©s.
   On applique une fonction unitaire (acc√©l√©ration harmonique) et Miss fournit donc la fonction de transfert 
   en chacun de ces points.
   
   On ajoute donc TYPE_RESU='TABLE_CONTROL', le groupe des mailles √©tant fourni (puis transmis √† 
   IMPR_MACR_ELEM) sous le mot-cl√© GROUP_MA_CONTROL (d'o√π l'absence de E).
   
   Le calcul Miss est assez proche du calcul standard avec TYPE_RESU='FICHIER', calcul des imp√©dances et 
   forces sismiques. Le post-traitement est diff√©rent.
   
   Remarque: Les mots-cl√©s UNITE_RESU_IMPE, UNITE_RESU_FORC n'ont plus de valeur par d√©faut. Pour deux 
   raisons:
   1. la lisibilit√©: avec les valeurs par d√©faut, on ne voit pas qu'un fichier en sortie de CALC_MISS est relu 
   dans une autre commande.
   2. parce que sur le test zzzz108c (sans doute non repr√©sentatif), en ne post-traitant pas les fichiers des 
   imp√©dances et forces, on gagne beaucoup de temps (35s au lieu de 170s initialement).
   
   A cette occasion, on a compl√®tement revu la mani√®re de produire le fichier de commandes Miss. L√†, o√π on 
   avait quelques templates fig√©s pour 2-3 types de calculs, on a essay√© de le cr√©er par blocs logiques. Sur 
   des conditions que l'on peut d√©terminer d√®s la lecture des mots-cl√©s, on appelle des fonctions qui ajoutent 
   un bloc de commandes Miss.
   Cela permet aussi d'ajouter des tests unitaires sur les fichiers de commandes Miss produits par ce 
   g√©n√©rateur pour les diff√©rents cas.
   
   On am√©liore aussi le lecteur des r√©sultats Aster, pour les transmettre √† Miss, qui n'est plus d√©pendant du 
   type de calcul que l'on veut faire, mais des donn√©es (pr√©sence de groupes de mailles en particulier).
   
   La sollication temporelle est fournie comme pour le cas TYPE_RESU='TABLE' par les mots-cl√©s ACCE_X, ACCE_Y, 
   ACCE_Z.
   On utilise INST_FIN, PAS_INST pour interpoler les acc√©l√©rogrammes fournis en entr√©e.
   On lit √©galement les mots-cl√©s AMOR_SPEC_OSCI, NORME pour calculer le spectre de r√©ponse d'oscillateur.
   
   Les √©tapes internes √† la macro en pr√©sence de ACCE_i sont:
   - interpolation des acc√©l√©ros temporels sur la liste d'instants √† pas fixe
   - calcul de l'acc√©l√©ration harmonique par fft
   - combinaison de cette acc√©l√©ration par la fonction de transfert en chaque point de contr√¥le
   - fft inverse pour fournir la r√©ponse temporelle
   
   La table produite est tr√®s proche de celle du cas TYPE_RESU='TABLE':
   
    GROUP_NO . . NOM_CHAM . . .NOM_PARA . . . FONC_X . . . .FONC_Y . . . FONC_Z
    . . . . . . .ACCE . . . . .INST . . . . . - . . . . . . - . . . . . ._9000034
    . . . . . . .ACCE . . . . .FREQ . . . . . - . . . . . . - . . . . . ._9000035
    PC1 . . . . .TRANSFERT . . FREQ . . . . . _9000036 . . ._9000037 . . _9000038
    PC1 . . . . .ACCE . . . . .INST . . . . . - . . . . . . - . . . . . ._9000040
    PC1 . . . . .ACCE . . . . .FREQ . . . . . - . . . . . . - . . . . . ._9000039
    PC1 . . . . .ACCE . . . . .SPEC_OSCI . . .- . . . . . . - . . . . . ._9000041
    PC2 . . . . .TRANSFERT . . FREQ . . . . . _9000042 . . ._9000043 . . _9000044
    PC2 . . . . .ACCE . . . . .INST . . . . . - . . . . . . - . . . . . ._9000046
    PC2 . . . . .ACCE . . . . .FREQ . . . . . - . . . . . . - . . . . . ._9000045
    PC2 . . . . .ACCE . . . . .SPEC_OSCI . . .- . . . . . . - . . . . . ._9000047
    PC3 . . . . .TRANSFERT . . FREQ . . . . . _9000048 . . ._9000049 . . _9000050
    PC3 . . . . .ACCE . . . . .INST . . . . . - . . . . . . - . . . . . ._9000052
    PC3 . . . . .ACCE . . . . .FREQ . . . . . - . . . . . . - . . . . . ._9000051
    PC3 . . . . .ACCE . . . . .SPEC_OSCI . . .- . . . . . . - . . . . . ._9000053
   
   Elle contient des noms de fonctions :
   - l'acc√©l√©ration interpol√©e et sa fft,
   - pour chaque point de contr√¥le dans l'ordre du groupe de mailles fourni, la fonction de transfert, la 
   r√©ponse temporelle et harmonique, le spectre de r√©ponse d'oscillateur
   
   On acc√®de √† ses fonctions avec EXTR_TABLE.
   
   Aujourd'hui, il n'y a qu'un test qui utilise les points de contr√¥le : zzzz108b
   On le "d√©grade" pour supprimer les ondes inclin√©es et ne conserver la sollication uniquement dans une 
   direction.
   Cela nous fournit la solution AUTRE_ASTER qui sert de r√©f√©rence au nouveau cas-test zzzz108c.
   
   La r√©f√©rence est reproduite √† 1-2 % (cf. courbes).
   Les valeurs de non r√©gression sont stables sur les diff√©rentes plates-formes (un TOLE_MACHINE √† 1.e-5 car 
   le format du fichier Miss est E15.6).
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    zzzz108c + autres CALC_MISS
NB_JOURS_TRAV  : 10.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 020099 DU 2012-12-18 07:33:38
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    Anomalie documentation U7.03.11
FONCTIONNALITE
   Probl√®me avec les unit√©s logiques par d√©faut qui sont diff√©rentes dans MACRO_MISS_3D et 
   IMPR_MACR_ELEM, IMPR_MISS_3D...
   
   C'est vrai mais on ne fait rien, car :
   - MACRO_MISS_3D doit mourir !
   - le bon moyen d'enchainer des commandes est de passer par des concepts, pas des fichiers 
   plus ou moins cach√©s justement avec ses unit√©s logiques par d√©faut,
   - il faut utiliser CALC_MISS quand il sait faire, sinon il faut lui apprendre,
   - la doc est juste.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    neant
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 020107 DU 2012-12-18 14:07:59
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    utilisation des validators dans les catalogues de commande
FONCTIONNALITE
   "Anomalie" concernant le d√©veloppement d'un catalogue de commande et les "validators" en 
   particulier.
   
   Rappel: les "validators" permettent d'imposer des conditions avant de valider la valeur 
   d'un mot-cl√©.
   
   Par exemple: validators=NoRepeat() signifie qu'on n'accepte pas de doublon.
   
   Ce qui g√™ne le d√©veloppeur est que :
   .  validators = (OrdList('croissant'), NoRepeat())
   et
   .  validators = [OrdList('croissant'), NoRepeat()]
   fonctionnent diff√©remment.
   
   Le premier correspond √† l'op√©ration logique OU alors que le second correspond √† un ET.
   
   1). it's not a bug, it's a feature, cf. N_VALIDATOR.py:
   
   def validatorFactory(validator):
    . .if type(validator) == types.FunctionType:
    . . . .return FunctionVal(validator)
    . .elif type(validator) is tuple:
    . . . .return OrVal(do_liste(validator))
    . .elif type(validator) is list:
    . . . .return AndVal(do_liste(validator))
    . .else:
    . . . .return validator
   
   2). Cette syntaxe tuple/list n'est pas claire et pi√©geuse. Utiliser AndVal() ou OrVal().
   
   3). Le Noyau √©tant partag√© avec Eficas, on ne modifie pas cette particularit√©.
   
   4). Quant √† la validation des diff√©rents "validators", m√™me r√©ponse: le partage avec 
   Eficas fait que la plupart n'ont pas d'int√©r√™t pour nous.
   
   
   On met AndVal(...) dans ces catalogues :
   - impr_resu.capy
   - info_mode.capy
   - mode_iter_inv.capy
   - mode_iter_simult.capy
   et on pr√©cise l'utilisateur des validators logiques dans d5.01.01.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : d5.01.01
VALIDATION
    ras
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 020767 DU 2013-04-20 14:35:30
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    [FORUM] Utilisation de CHAM_UTIL sur un rxc3xa9sultat thermique
FONCTIONNALITE
   Probl√®me
   --------
   
   L'utilisateur essaie d'utiliser l'op√©ration CHAM_UTIL sur un evol_ther.
   
    .potVec = CALC_CHAMP(reuse=potVec,
    . . . . . . . . . . .CHAM_MATER=matFIELD,
    . . . . . . . . . . .RESULTAT=potVec,
    . . . . . . . . . . .MODELE=magMODE,
    . . . . . . . . . . .CHAM_UTIL=_F(FORMULE=(BMod, ),
    . . . . . . . . . . . . . . . . . NOM_CHAM='FLUX_ELGA',
    . . . . . . . . . . . . . . . . . NUME_CHAM_RESU=1,),
    . . . . . . . . . . .PRECISION=1.E-06,
    . . . . . . . . . . .THERMIQUE=('FLUX_ELGA', ),
    . . . . . . . . . . .INFO=1,
    . . . . . . . . . . .CRITERE='RELATIF',)
   
   Or les champs utilisateurs 'UT01_ELGA' ne sont pas d√©clar√©s dans rscrsd.
   Le code retour dit donc qu'on ne peut pas cr√©er ce champ. L'assert n'est pas
   v√©rifi√©.
   
   
   Correction
   ----------
   
   Double :
   
   1. En cas de probl√®me, on am√©liore le message :
   
    . !-----------------------------------------------------------------------------------!
    . ! <F> <CHAMPS_14> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . !
    . ! . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . !
    . ! Il n'est pas possible de cr√©er le champ 'UT01_ELGA' dans la structure . . . . . . !
    . ! de donn√©e 'potVec'. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . !
    . ! . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . !
    . ! Conseil: . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .!
    . ! . . V√©rifiez que le champ n'existe pas d√©j√†. . . . . . . . . . . . . . . . . . . .!
    . ! . . Il est possible que cette structure de donn√©e n'accepte pas ce type de champ. !
    . ! . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . !
    . ! . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . !
    . ! Cette erreur est fatale. Le code s'arr√™te. . . . . . . . . . . . . . . . . . . . .!
    . !-----------------------------------------------------------------------------------!
   
   2. On ajoute les champs utilisateurs √† la structure de donn√©e evol_ther.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    test joint
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR cuvillie     CUVILLIEZ Sam          DATE 04/22/2013 - 01:32:41

--------------------------------------------------------------------------------
RESTITUTION FICHE 020644 DU 2013-04-02 12:21:35
TYPE anomalie concernant Code_Aster (VERSION 11.4)
TITRE
    RUPT : Object JEVEUX inexistant pour DEFI_FOND_FISS
FONCTIONNALITE
   ########
   Probl√®me
   ########
   
   Dans DEFI_FOND_FISS : 
   
   Dans le cas CONFIG_INIT='DECOLLEE', si on renseigne le mot cl√© LEVRE_SUP (et LEVRE_INF si
   SYME='NON'), le code s'arr√™te en erreur fatale dans la routine fonnof.f, sur une requ√™te
   .JEVEUO portant sur l'objet '.BASEFOND'¬†:
   
   ff=DEFI_FOND_FISS(MAILLAGE=mail,
    . . . . . . . . .FOND_FISS=_F(GROUP_NO='A',),
    . . . . . . . . .CONFIG_INIT='DECOLLEE',
    . . . . . . . . .SYME='OUI',
    . . . . . . . . .LEVRE_SUP=_F(GROUP_MA='sup',)
    . . . . . . . . .NORMALE=(0,1,0,))
   
    . !----------------------------------------------------------------------------!
   
    . ! <F> <JEVEUX_26> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .!
   
    . ! . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .!
   
    . ! . . .Objet JEVEUX inexistant dans les bases ouvertes : >ff . . ..BASEFOND< !
   
    . ! . . .l'objet n'a pas √©t√© cr√©√© ou il a √©t√© d√©truit . . . . . . . . . . . . .!
   
    . ! . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .!
   
    . ! . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .!
   
    . ! Cette erreur est fatale. Le code s'arr√™te. . . . . . . . . . . . . . . . . !
   
    . !----------------------------------------------------------------------------!
   
   Traceback printed by Intel compiler
   
   ...
   asteru . . . . . . 0000000000537172 .jeveuo_ . . . . . . . . . .74 .jeveuo.f
   
   asteru . . . . . . 00000000008ABA62 .fonnof_ . . . . . . . . . .84 .fonnof.f
   
   asteru . . . . . . 0000000000823971 .op0055_ . . . . . . . . . 237 .op0055.f
   ...
   
   En effet, l'objet '.BASEFOND' n'est pas cr√©√© en pr√©sence du MC simple NORMALE, ce dernier
   √©tant rendu obligatoire dans defi_fond_fiss.capy si CONFIG_INIT=='DECOLLEE'.
   
   ########
   Solution
   ########
   
   fonno.f permet de cr√©er des objets qui sont lus uniquement dans l'op√©rateur POST_K1_K2_K3
   ('.SUPNORM.NOEU', et '.INFNORM.NOEU' en l'absence de sym√©trie). Or, POST_K1_K2_K3 ne peut
   √™tre appel√© que dans le cas d'une fissure en configuration coll√©e (CONFIG_INIT='COLLEE'
   dans DEFI_FOND_FISS).
   
   -> Je modifie op0055.f de telle sorte que fonnof.f ne soit appel√©e que si
   CONFIG_INIT='COLLEE'.
   
   ##############
   Impact sources 
   ##############
   
   op0055.f
   
   ##########
   Validation
   ##########
   
   - tous les tests comportant un appel √† DEFI_FOND_FISS
   - test perso : √©tude fournie par l'utilisateur -> on sort proprement de DEFI_FOND_FISS.
   
   ##########
   Impact doc
   ##########
   
   Les docs U4 de DEFI_FOND_FISS, CALC_G, et POST_K1_K2_K3 ne pr√©cisent pas clairement que le
   calcul des FICs (POST_K1_K2_K3 ou CALC_G/OPTION='CALC_K_G') ne peut √™tre r√©alis√© que si
   CONFIG_INIT='COLLEE'. 
   Il faut les modifier
   
   [U4.82.01] Op√©rateur DEFI_FOND_FISS
   -> Ajouter cette pr√©cision au ¬ß3.3.1 (Mot cl√© CONFIG_INIT)
   
   [U4.82.03] Op√©rateur CALC_G
   [U4.82.05] Op√©rateur POST_K1_K2_K3
   [U2.05.01] Notice d'utilisation des op√©rateurs de m√©canique de la rupture
   
   -> Ajouter cette pr√©cision dans un ¬ß faisant r√©f√©rence √† DEFI_FOND_FISS (fissures maill√©e)
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : U4.82.01,U4.82.03,U4.82.05,U2.05.01
VALIDATION
    tous les tests DEFI_FOND_FISS
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR delmas       DELMAS Josselin        DATE 22/04/2013 - 16:45:20

--------------------------------------------------------------------------------
RESTITUTION FICHE 020752 DU 2013-04-18 15:05:22
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    En NEW11.03.19, les cas-tests mac3c04a,  mac3c04b,  sslp116a, sslp116b, sslp117a, sslp117b s'arrxc3xaatent sur Calibre 7
FONCTIONNALITE
   Probl√®me :
   ========
   En NEW11.03.19, les cas-tests mac3c04a,  mac3c04a,  sslp116a, sslp116b, sslp117a, sslp117b
   s'arr√™tent sur Calibre7.
   
   Ils manquent de m√©moire.
   
   Correction :
   ==========
   Je double pour chacun des tests la ressource m√©moire (256->512)
   
   Impacts :
   =======
   mac3c04a.export  sslp116a.export  sslp117a.export
   mac3c04b.export  sslp116b.export  sslp117b.export
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    passage des tests
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 020654 DU 2013-04-03 15:11:08
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    IMPR_RESU au format RESULTAT avec l'option FORM_TABL
FONCTIONNALITE
   Probl√®me :
   ========
   En STA10, lorsqu'on cherche √† imprimer des champs au format RESULTAT avec IMPR_RESU, le
   mot cl√© FORM_TABL permet de choisir le format d'impression.
   
   Or, quelque soit l'option choisie sous FORM_TABL, le format d'√©criture reste le m√™me (avec
   un retour √† la ligne).
   
   De plus, le mot cl√© FORM_TABL n'est pas reconnu si le RESU est un CHAM_GD. Ceci n'est pas
   coh√©rent avec la doc U4.91.01.
   
   Correction :
   ==========
   Le mot-cl√© FORM_TABL permet de choisir le format d'impression des param√®tres et seulement
   des param√®tres. Si on n'imprime pas les param√®tres, il n'a aucun effet.
   
   Comme les param√®tres n'ont de sens que pour une SD, ce mot-cl√© ne fonctionne pas avec
   CHAM_GD. Sur ce point, la doc est claire.
   
   Ainsi lorsqu'on imprime les param√®tres, FORM_TABL a bien un effet.
   On note toutefois que pour l'impression "synth√©tique" pour tous les instants en d√©but de
   fichier, le format utilis√© √©tait pour FORM_TABL='NON' comme pour FORM_TABL='OUI'. Par
   contre pour chaque instant, l'affichage est correct.
   
   Le probl√®me est dans la routine IRECRI o√π IRPARA n'est pas correctement appel√©e. On
   corrige cet appel.
   
   Impact :
   ======
   irecri.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    visuel
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 020182 DU 2013-01-11 11:36:22
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    Comportement ELAS non trouvxc3xa9
FONCTIONNALITE
   Probl√®me :
   ========
   Un utilisateur effectue un calcul non lin√©aire en OLD11 avec la relation MONOCRISTAL sur
   un materiau ELAS_ORTH.
   Elle demande le calcul des d√©formations (EPSI_ELGA,EPSI_ELNO). Aster refuse avec le message : 
   "comportement ELAS" non trouv√©.
   
   Correction :
   ==========
   Ce probl√®me est une erreur d'utilisation.
   
   En effet, on se plante au calcul de l'option EPSI_ELGA dans rccoma car on ne trouve pas le
   comportement ELAS. Ce plantage a lieu au premier pas de temps.
   
   Or ce premier pas de temps n'a pas √©t√© calcul√© par STAT_NON_LINE mais est issu d'une
   relecture de champs via LIRE_RESU pour lequel on ne pr√©cise pas CHAM_MATER.
   
   Pour contourner ce probl√®me, il faut dans le calcul de EPSI_ELGA pr√©ciser le champ de
   mat√©riau.
   
   C'est un mauvais concours de circonstance :
   * Dans le TE0025, le programmeur a √©t√© imprudent car on fait un TECACH('NNN' : on ne
   s'arr√™te pas si le champ n'existe pas. Avec un JEVECH on se serait arr√™t√© avec un message
   tr√®s clair indiquant qu'il faut ajouter CHAM_MATER.
   * On ne peut pas lui en vouloir car dans la plupart des cas, on n'a pas besoin du mat√©riau
   pour calculer les d√©formations.
   
   M√™me si le mat√©riau n'est pas n√©cessaire (en principe) pour calculer les d√©formations, on
   en a besoin car on utilise des routines g√©n√©riques (peut-√™tre pas tr√®s bien programm√©es).
   On remplace TECACH par JEVECH dans le te0025 (comme c'est fait pour le te0087 qui fait la
   m√™me chose en 2D). Ainsi dans ce cas on plante avec un message clair qui indique qu'il
   manque CHAM_MATER.
   
   Impact :
   ======
   te0025.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    liste des tests utilisant te0025
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 017598 DU 2011-09-26 12:57:20
TYPE evolution concernant Code_Aster (VERSION )
TITRE
    AR01 - Chantier CALC_CHAMP : Quelle SD resultat en sortie de POST_CHAMP
FONCTIONNALITE
   Probl√®me :
   ========
   Dans le cadre de la fiche issue17592, il a fallu autoris√© en plus de evol_elas et
   evol_noli, les dyna_harm et mult_elas pour POST_CHAMP. La cons√©quence est que SDLS01B est
   en SDVERI=NON car il y a un probl√®me avec POST_CHAMP (.REFD manquant).
   
   Doit-on recopier tout ce qu'il faut pour avoir des SD conformes ou se contenter de SD
   "partielles" dont l'objectif est la post-traitement (nouvelle SD de type post).
   
   Correction :
   ==========
   Le probl√®me initial a √©t√© corrig√© (test NOOK en SD_VERI='OUI') par la fiche issue19222.
   
   De plus les interrogations concernant la SD en sortie de de POST_CHAMP ont √©t√© reprise
   dans la fiche issue18002.
   
   Je classe cette fiche.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    *
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR corus        CORUS Mathieu          DATE 22/04/2013 - 16:45:22

--------------------------------------------------------------------------------
RESTITUTION FICHE 019940 DU 2012-11-15 15:02:15
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    En NEW11.02.24, le cas-test sdls106e est NOOK sur Rocks.
FONCTIONNALITE
   Probl√®me :
   ========
   En NEW11.02.24, le cas-test sdls106e est NOOK sur Rocks.
   
   Correction :
   ==========
   Le test n'est plus cass√© sur Rocks et n'est pas cass√© sur la rempla√ßante de Rocks.
   
   On clos la fiche.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sans objet
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desoza       DE SOZA Thomas         DATE 23/04/2013 - 19:15:30

--------------------------------------------------------------------------------
RESTITUTION FICHE 020759 DU 2013-04-19 08:26:52
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    En NEW11.03.19, le cas-test perf014b s'arrete en erreur fatale sur Aster4_MPI.
FONCTIONNALITE
   '''
   En NEW11.03.19, le cas-test perf014b s'arrete en erreur fatale sur Aster4_MPI. 
    
   # TITRE CONTACT ENTRE 2 PLAQUES EN PARALLELE
   '''
   
   Je n'arrive pas √† reproduire ce probl√®me. Ce test utilise un solveur lin√©aire it√©ratif et
   tourne en parall√®le. Il est donc sensible √† la machine sur laquelle il s'ex√©cute (le
   r√©sidu non-lin√©aire peut varier).
   Par ailleurs le probl√®me de contact r√©solu est difficile (il n√©cessite plus d'une dizaine
   d'it√©rations pour converger).
   
   Bref ce test peut √™tre instable mais tant que le probl√®me n'est pas persistant, je propose
   de ne rien faire.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    perf014b
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 020749 DU 2013-04-18 14:41:40
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    Blinder PETSC+MATR_DISTRIBUEE avec le contact
FONCTIONNALITE
   Contexte
   ========
   
   Il faut blinder l'utilisation du contact continu avec PETSc et MATR_DISTRIBUEE='OUI'.
   On a en effet une erreur actuellement :
   
   [1,0]<stdout>:   !-------------------------------------------------------------------!
   [1,0]<stdout>:   ! <F> <JEVEUX_10>                                                   !
   [1,0]<stdout>:   !                                                                   !
   [1,0]<stdout>:   !  Erreur de programmation :                                        !
   [1,0]<stdout>:   !                                                                   !
   [1,0]<stdout>:   !  Le nom demand√© existe d√©j√† dans la base RESU    .00000.NUML.PDDL !
   [1,0]<stdout>:   !                                                                   !
   [1,0]<stdout>:   !                                                                   !
   [1,0]<stdout>:   ! Cette erreur est fatale. Le code s'arr√™te.                        !
   [1,0]<stdout>:   !-------------------------------------------------------------------!
   
   Analyse
   =======
   
   Cette erreur appara√Æt car en contact continu on reconstruit fr√©quemment la num√©rotation
   car le profil de la matrice change apr√®s un appariement.
   Or quand on d√©truit les objets associ√©s √† la num√©rotation locale avec
   DETRSD('NUML_DDL',NUM), les objets sp√©cifiques √† la num√©rotation locale pour PETSc (cr√©√©s
   par NUPODD) ne sont pas d√©truits.
   
   Correction
   ==========
   
   J'ai essay√© de faire la correction et de la valider sur perf014a mais le calcul ne
   converge pas sur ce test avec 2 processeurs. Je ne pense pas qu'il y ait un bug mais
   plut√¥t que l'utilisation du contact continu avec 'PETSC' reste d√©licate et le probl√®me
   choisi difficile.
   Je propose donc de traiter cela dans une √©volution plut√¥t qu'ici.
   
   ==> on blinde en interdisant l'utilisation de MATR_DISTRIBUEE avec le contact continu.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    perf014a
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 020650 DU 2013-04-03 09:45:30
TYPE aide utilisation concernant Code_Aster (VERSION 10.9)
TITRE
    Problxc3xa8me de convergence pour un calcul de CONTACT (avec prise en compte du dxc3xa9collement)
FONCTIONNALITE
   Contexte
   ========
   
   '''
   Le mod√®le est un support (compos√© de plats et de raidisseurs) fix√© au g√©nie civil par le
   biais de 12 tirants (suppos√©s solidaires avec les √©crous et les rondelles). Le calcul, par
   la pr√©sence de multiples surfaces de contact (sans frottement) est un calcul non lin√©aire
   sur la version STA10 (STAT_NON_LINE avec DEFI_CONTACT). L'option CONTACT_INIT est utilis√©e
   pour √©viter des probl√®mes de corps rigide en d√©but de calcul.
   
   Ces tirants sont initialement pr√©-tensionn√©s (fictivement via une dilatation thermique des
   tirants). Cette phase de tensionnement se d√©roule entre les instants 0 et 1000, via une
   rampe. Aucun probl√®me de calcul.
   
   Dans un second temps, un effort ext√©rieur est appliqu√© sur certains √©l√©ments du 
   support (2 x 3050 kN). Cette phase d'application de l'effort se d√©roule entre 
   les instants 1000 et 2000, via une rampe. Cet effort tend √† d√©coller le support 
   du g√©nie civil. Le d√©collement est probablement effectif sur l'int√©gralit√© de 
   la surface de contact g√©nie civil - support en fin de calcul.
   
   On ajoute une phase de stabilisation entre les instants 2000 et 3000.
   
   Le calcul diverge aux alentours de1750 secondes, soit √† 75% de l'affectation du 
   chargement m√©canique. Malgr√© plusieurs tentatives (raffinement du pas de temps, 
   option p√©n√©tration, type de solveur, valeurs diff√©rentes de l'effort 
   ext√©rieur), le calcul ne converge pas. Pour information, en abaissant l'effort 
   ext√©rieur (pas de d√©collement aux surfaces de contact), le calcul converge.
   '''
   
   Analyse
   =======
   
   1. Optimisations
   
   Plusieurs optimisations ont √©t√© apport√©es √† l'√©tude : 
   - utilisation de AFFE_CHAR_CINE pour diminuer le nombre de ddls du probl√®me
   - application du chargement thermique par un champ cr√©√© √† la main plut√¥t que par un calcul
   thermique (car la temp√©rature est uniforme dans les tirants)
   - utilisation de l'algorithme standard en formulation continue (pas de p√©nalisation)
   * application du chargement sur les port√©es par une densit√© d'effort surfacique
   (FORCE_FACE) calcul√©e √† partir de la surface de ces derni√®res et de la force totale. On
   √©vite ainsi les discrets et les liaisons 3D_POU
   * application du chargement en 2 pas (1 pas de serrage, 1 pas de d√©collement, pas de pas
   d'√©quilibrage car ce n'est pas n√©cessaire compte tenu du crit√®re de convergence de Newton
   choisi)
   
   2. Maillage non conforme
   
   Enfin on a d√©couvert un probl√®me dans la transformation du maillage en quadratique r√©alis√©
   dans le fichier de commandes : le raidisseur P7 est converti en quadratique tout seul
   alors qu'il est connect√© avec la plaque P2. On produit donc un maillage non conforme.
   
   3. Premier calcul
   
   Une fois ces am√©liorations apport√©es, le calcul a √©t√© r√©alis√© dans un premier temps en
   NEW11 et avec un maillage lin√©aire pour la mise au point :
   - on constate l'int√©r√™t de la recherche lin√©aire dans l'appariement (issue16860) puisque
   sans elle l'appariement √©choue d√®s le serrage des tirants
   - n√©anmoins la d√©sactivation du m√©canisme de rattrapage dans cette m√™me fiche n'√©tait pas
   une bonne id√©e car on tombe sur l'erreur de projection en fin de chargement sur les
   port√©es (instant 2000). En r√©activant ce m√©canisme le calcul va au bout.
   
   4. Maillage quadratique
   
   On a r√©alis√© ensuite un calcul avec un maillage quadratique sauf pour les tirants qui sont
   rest√©s lin√©aires pour conserver un mod√®le raisonnable (le maillage compl√®tement
   quadratique totalisait plus de 4M de ddls).
   Le calcul a aussi pu √™tre men√© √† son terme en utilisant la version parall√®le (la
   r√©solution du syst√®me lin√©aire de taille 1,6M de ddls est tr√®s consommatrice de temps et
   le parall√©lisme du solveur lin√©aire est donc int√©ressant).
   
   Remarque : le maillage quadratique a √©t√© construit dans Salom√©, puis les tirants ont √©t√©
   repass√©s en lin√©aire dans Code_Aster.
   Des √©l√©ments HEXA27 ont √©t√© utilis√©s en lieu et place des HEXA20 qui sont d√©conseill√©s en
   contact.
   
   Id√©alement on pr√©f√®rera utiliser un maillage quadratique construit sur la g√©om√©trie (c'est
   √† dire dont les n≈ìuds milieux sont situ√©s sur cette derni√®re).
   
   R√©sultats
   =========
   
   On trouvera dans l'archive jointe un r√©pertoire avec quelques vues du r√©sultat en quadratique.
   
   Les r√©sultats obtenus montrent :
   - en lin√©aire un d√©placement max de 0.88mm
   - en quadratique un d√©placement max de 0.98mm
   
   La contrainte de Von Mises sign√©e varie :
   - en lin√©aire entre 
   - en quadratique entre -377Mpa et +385Mpa
   
   La zone de contact apr√®s serrage et apr√®s d√©collement ne pr√©sente pas d'anomalies
   apparentes. Apr√®s d√©collement la plaque P2 est presque compl√®tement d√©coll√©e du b√¢ti.
   
   Fichiers joints
   ===============
   
   Outre les images, on trouvera dans l'archive :
   
   - un fichier de commandes pour la STA10 permettant de faire tourner le calcul en √©l√©ments
   lin√©aires avec toutes les optimisations cit√©es plus haut (sauf celles signal√©es par une *)
   ==> AOM_20650_maillage_lineaire_STA10.comm
   
   - un fichier de commandes pour la STA10 utilisant le maillage quadratique complet et
   utilisant toutes les optimisations propos√©es (en particulier calcul en 2 pas et
   application du chargement par un effort surfacique)
   ==> AOM_20650_maillage_quadratique_2pas_STA10.comm
   
   Correction en V11
   =================
   
   On r√©tablit le m√©canisme de "rattrapage" dans l'appariement du contact afin d'√©viter des
   √©checs pour un simple n≈ìud ne s'√©tant pas projet√© parfaitement.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    xc3xa9tude jointe
NB_JOURS_TRAV  : 6.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 020253 DU 2013-01-24 14:50:32
TYPE evolution concernant Code_Aster (VERSION )
TITRE
    Mettre GCR comme solveur par dxc3xa9faut dans PETSc
FONCTIONNALITE
   Contexte
   ========
   
   Cette fiche avait pour but d'√©tudier l'opportunit√© de choisir 'GCR' comme le solveur
   it√©ratif par d√©faut dans 'PETSC'.
   
   Conclusion
   ==========
   
   On d√©cide finalement de ne pas r√©aliser cette √©volution.
   
   'GCR' √©tant un algorithme qui pr√©-conditionne √† droite, il pr√©serve le crit√®re
   de convergence "standard", c'est √† dire en norme non pr√©-conditionn√©e. Cela le rend bien
   adapt√© aux probl√®mes r√©solus dans Code_Aster qui comportent toujours au second membre des
   conditions aux limites (qu'elles soient √©limin√©es ou dualis√©es). On observe ainsi que
   celles-ci sont r√©solus tr√®s pr√©cis√©ment avec 'GCR' alors qu'elles ne le sont pas mieux que
   la valeur du crit√®re (souvent 1.0E-6) avec 'GMRES'.
   
   Pour √™tre totalement objectif, on rappellera que la norme non pr√©-conditionn√©e pr√©sente
   aussi des inconv√©nients comme l'a montr√© issue17052 mais dans des cas particuliers
   rarement rencontr√©s dans les √©tudes. Enfin 'GCR' consomme plus de m√©moire que 'GMRES' mais
   la quantit√© de m√©moire utilis√©e par le solveur it√©ratif (lui-m√™me) est g√©n√©ralement
   n√©gligeable devant la quantit√© de m√©moire totale.
   
   Cependant 'GCR' pose des probl√®mes lorsqu'on l'utilise avec la m√©thode NEWTON_KRYLOV pour
   des probl√®mes de contact par exemple (√† noter que issue20106). Ainsi les tests de
   performances PERF014 ne convergent plus d√®s que la taille du probl√®me grossit. Comme cette
   m√©thode tend √† √™tre de plus en plus utilis√©e, il ne para√Æt pas int√©ressant de choisir
   'GCR' par d√©faut.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    nxc3xa9ant
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR flejou       FLEJOU Jean Luc        DATE 04/22/2013 - 01:24:24

--------------------------------------------------------------------------------
RESTITUTION FICHE 020721 DU 2013-04-12 09:34:49
TYPE anomalie concernant Code_Aster (VERSION 11.3)
TITRE
    AFFE_CARA_ELEM : PREC_AIRE et PREC_INERTIE pas bien pris en compte
FONCTIONNALITE
   Lorsque l'on a une mod√©lisation avec des PMF, pour aider l'utilisateur on fait quelques
   v√©rifications, notamment celle-ci : dans AFFE_CARA_ELEM on fait la v√©rification que les
   donn√©es telles que A, Iy, Iz sont coh√©rentes avec l'int√©gration sur les fibres.
   Pour cela il y a 2 mots clefs PREC_AIRE, PREC_INERTIE sous le mot clef facteur POUTRE.
   
   Lorsque l'on affecte les sections avec le mot clef facteur MULTIFIBRE on fait la
   v√©rification de coh√©rence.
   POUTRE= (
    _F(GROUP_MA = aa, PREC_AIRE = paa , PREC_INERTIE = pia , ... )
    _F(GROUP_MA = bb, PREC_AIRE = pab , PREC_INERTIE = pib , ... )
    _F(GROUP_MA = cc, PREC_AIRE = pac , PREC_INERTIE = pic , ... )
   )
   MULTIFIBRE=(
    _F(GROUP_MA = dd, GROUP_FIBRE='SECFd' )
    _F(GROUP_MA = ee, GROUP_FIBRE='SECFe' )
    _F(GROUP_MA = ff, GROUP_FIBRE='SECFf' )
   )
   
   Le probl√®me c'est que lorsque l'on est dans MULTIFIBRE sur une maille qui est dans le
   groupe de maille "ee", il faudrait rechercher les PREC_* correspond √† cette maille sous le
   mot clef POUTRE, et trouver le bon groupe de mailles en pensant √† la r√®gle de surcharge.
   ==> C'est pas simple et cela va co√ªter cher en CPU
   ==> Actuellement c'est mal fait. On va chercher les PREC_* sous la 1√®re occurrence de
   POUTRE, on ne compare donc pas avec les bonnes "grandeurs". De plus la recherche des
   valeurs dans la carte contenant les caract√©ristiques de poutre est mal fait, pas de prise
   en compte de l'entier cod√©, on suppose que les grandeurs sont pr√©sentes et sont les 3
   premi√®res de la carte.
   
   Solution :
   ----------
   D√©placer les PREC_* sous le mot clef MULTIFIBRE. Quand on est sur une maille d'un groupe
   de maille, on conna√Æt donc les PREC_* concernant cette maille. On va interroger la carte,
   puis v√©rification de la coh√©rence des valeurs A, Iy, Iz.
   Mise au carr√© de la recherche des grandeurs dans la carte.
   
   Message de type <I> pour avoir toutes les alertes
   -------------------------------------------------
    La somme des moments d'inertie des fibres par rapport √† l'axe %(k2)s est diff√©rente
    du moment d'inertie donn√© sous le mot clef facteur POUTRE.
    L'erreur relative est sup√©rieure √† la pr√©cision d√©finie par le mot cl√© PREC_INERTIE :
      - occurrence de MULTIFIBRE      : %(i1)d
      - maille                        : %(k1)s
      - moment d'inertie de la poutre : %(r1)12.5E
      - moment d'inertie des fibres   : %(r2)12.5E
      - erreur relative               : %(r3)12.5E   > PREC_INERTIE = %(r4)12.5E
   
   Message de type <F> s'il existe un seul message <I>
   ---------------------------------------------------
    AFFE_CARA_ELEM / MULTIFIBRE
    Les mots clefs PREC_AIRE et PREC_INERTIE servent √† d√©finir la tol√©rance entre les
    caract√©ristiques de poutres affect√©es sous le mot clef facteur POUTRE et celles
    calcul√©es par int√©gration sur les fibres.
    Vous ne respectez pas les crit√®res impos√©s par PREC_AIRE et PREC_INERTIE.
   
   Impacts :
   ---------
   catalogue : affe_cara_elem.capy (d√©placement des PREC_*)
   message   : modelisa8_[4,5,6]
   fortran   : pmfd00
   cas tests : d√©placement des PREC_* et ajustement des valeurs, aucun impacts sur TEST_*
   sdll123f sdll130b sdll132a sdll132b sdnl130a sdnl130b ssll111a ssll119a
   ssll119b sslv105b ssnl119a ssnl119b ssnl120a ssnl120b ssnl122a ssnl123a
   ssnl127b ssnl127c ssnl128a ssnl128d ssnl135a ssnl135b ssnl135c ssnl139a
   ssnl141a ssnl141b ssns106h ssns106i ssns106j zzzz234a zzzz234f zzzz293a
   zzzz293b zzzz293c zzzz293d zzzz318a zzzz318b zzzz323a zzzz330a zzzz330b
   zzzz330c
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : U4.42.01
VALIDATION
    passage cas test
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 020764 DU 2013-04-19 12:48:46
TYPE anomalie concernant Documentation (VERSION 11.*)
TITRE
    U4.43.01 : SIGM_ELS, EPSI_ELU ou SIGM_LIM, EPSI_LIM
FONCTIONNALITE
   J'avais chang√© le texte du ¬ß mais pas le titre ¬ß.
   SIGM_ELS ==> SIGM_LIM
   EPSI_ELU ==> EPSI_LIM
   
   j'ai fait un grep sur les DOC_TXT chez JP, il restait √©galement des traces dans R5.03.09
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : U4.43.01,R5.03.09
VALIDATION
    grep sur les docs
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR jaubert      JAUBERT Andre          DATE 04/22/2013 - 01:53:06

--------------------------------------------------------------------------------
RESTITUTION FICHE 020520 DU 2013-03-07 08:35:01
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    Couverture de XPRFON
FONCTIONNALITE
   Anomalie : La routine XPRFON n'est √† nouveau plus couverte. Cela est d√ª au fait que
   sslv320c plante en version couverture de code sur aster4 en FPE dans PROPA_FISS.
   
   Cause : xprfon sert √† renum√©roter les morceaux du front de fissure dans le cadre de la
   construction des points virtuels (m√©thodes Upwind ou Simplexe en 3D pour la propagation
   X-FEM). Le seul cas-test avec multi-morceaux du front (sslv320c) ne comporte au maximum
   que deux morceaux, et donc inutilit√© de renum√©roter ces morceaux. D'o√π le probl√®me de
   couverture pour la routine xprfon.
   
   Correction : suite √† la fiche 19948, on a augment√© le nombre maximal de morceaux du front
   de fissure (2 √† 4), ce qui redonne de l'int√©r√™t √† xprfon. Du coup, xprfon est √† nouveau
   couverte.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sslv320c
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 020707 DU 2013-04-11 15:08:17
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    En NEW11.03.18, les cas-tests sslv320c et sslv316d sxe2x80x99arrxc3xaatent en erreur fatale sur Rocks et sslv316d et sslv316h sxe2x80x99arrxc3xaatent en erreur fatale sur Aster4.
FONCTIONNALITE
   On faisait en effet une destruction d'un objet dont le nom n'√©tait pas initialis√©. Je
   pense que la correction apport√©e corrige sur toutes les plateformes.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    cas-tests X-FEM
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR martin       MARTIN Alexandre       DATE 04/22/2013 - 09:04:19

--------------------------------------------------------------------------------
RESTITUTION FICHE 018945 DU 2012-06-06 09:08:22
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    X-FEM : plantage sale si elements AXIS quadratiques
FONCTIONNALITE
   Probl√®me :
   ----------
   
   Si on tente de lancer un calcul X-FEM en mod√©lisation axisym√©trique avec des √©l√©ments
   quadratiques (e.g. le cas-test sslv155b avec un maillage quadratique), le code s'arr√™te
   sur une erreur de segmentation dans le TE0514.
   
   Analyse :
   ---------
   
   Le TE0514 est charg√© de la d√©coupe des √©l√©ments travers√© par la fissure en sous-√©l√©ments.
   Lors du d√©veloppement des √©l√©ments quadratiques (2D), l'id√©e √©tait de d'ajouter les
   fonctionnalit√©s progressivement et donc de brider l'axisym√©trie.
   
   Cependant, la technique utilis√©e s'av√®re assez maladroite. L'id√©e est de ne pas aller
   chercher le champ stockant les points milieux des sous-√©l√©ments cr√©√©s lors du
   sous-d√©coupage des √©l√©ments. Le code essaye donc de reconstruire les coordonn√©es des
   sous-√©l√©ments en allant chercher les coordonn√©es des points milieux √† une adresse JEVEUX
   qui n'a pas √©t√© renseign√©e, d'o√π l'erreur de segmentation.
   
   Nous avons tout d'abord essay√© de lib√©rer les √©l√©ments axisym√©triques en supprimant le
   test dans tous les TE concern√©s.
   Malheureusement, le calcul du cas-test sslv155b avec un maillage quadratique s'est sold√©
   par une mauvaise √©valuation du taux de restitution G et des facteurs d'intensit√© de
   contrainte K1 et K2. Le cas-test consid√©r√© est relativement compliqu√© puisqu'il s'agit
   d'une fissure en lentille. Nous avons donc par la suite consid√©r√© un cas-test plus simple
   avec une fissure circulaire (cas-test sslv134i) o√π seul K1 est nul, mais nous avons aussi
   obtenu des r√©sultats faux.
   
   Finalement, cette tentative √©tait hors du p√©rim√®tre de la fiche puisque nous avons cherch√©
   √† r√©aliser une √©volution en r√©ponse √† une fiche d'anomalie.
   
   Correction :
   ------------
   
   Nous proposons finalement une correction r√©pondant mieux √† la probl√©matique soulev√©e par
   la fiche : indiquer √† l'utilisateur qu'il ne peut pas utiliser d'√©l√©ments X-FEM
   quadratiques axisym√©triques. 
   Quand l'usage d'√©l√©ments X-FEM quadratiques axisym√©triques est d√©tect√© dans le TE0514,
   l'erreur suivante est lanc√©e :
   
      !--------------------------------------------------------------------------------!
      ! <F> <XFEM_76>                                                                  !
      !                                                                                !
      !   -> Il n'est pas possible d'utiliser des √É¬©l√É¬©ments quadratiques dans le cadre  !
      !      d'un mod√É¬©le X-FEM axisym√É¬©trique.                                          !
      !                                                                                !
      !   -> Risque & Conseil:                                                         !
      !      Veuillez utiliser un maillage lin√É¬©aire.                                   !
      !                                                                                !
      !                                                                                !
      ! Cette erreur est fatale. Le code s'arr√É¬™te.                                     !
      !--------------------------------------------------------------------------------!
   
   Le code s'arr√™te donc en erreur fatale dans l'op√©rateur MODI_MODELE_XFEM.
   
   sources impact√©es : te0514.f et xfem.py
   
   Validation :
   ------------
   
   Passage de l'ensemble des cas-tests X-FEM.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    passage de l'ensemble des cas-tests X-FEM.
NB_JOURS_TRAV  : 10.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 018974 DU 2012-06-13 12:52:09
TYPE anomalie concernant Documentation (VERSION 10.*)
TITRE
    X-FEM : objet de la sd modele_xfem non documente
FONCTIONNALITE
   Probl√®me :
   ----------
   
   La documentation D4.10.02 √©tait incompl√®te puisqu'elle ne documentait pas l'objet .TOPOFAC.OE.
   
   Correction :
   ------------
   
   Dans le cadre de la r√©solution de la fiche issue18321, Guilhem a d√ª reprendre cette
   documentation. Il en a profit√© pour la compl√©ter.
   
   Conclusion :
   ------------
   
   La documentation disponible sur le site est √† jour et cette fiche peut donc √™tre ferm√©e.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sans objet
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 020580 DU 2013-03-21 06:42:24
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    Variable non initialisxc3xa9e dans te0534 en version NEW11.3.15
FONCTIONNALITE
   Probl√®me :
   ----------
   
   Le passage des cas-tests Aster sur ivanoe montre que la variable JMATE du TE0534 n'est pas
   toujours initialis√©e.
   
   Analyse :
   ---------
   
   La lecture du TE0534 (d√©di√© au calcul des seconds memebre de contact-frottement pour
   X-FEM) montre que la variable JMATE n'est initialis√©e que dans le cas coh√©sif, alors que
   ZI(JMATE) est pass√© inconditionnellement √† la routine XVCONT.
   
   Correction :
   ------------
   
   La variable JMATE est initialis√©e √† 1 avant le bloc qui lui attribue sa v√©ritable valeur
   dans le cas coh√©sif.
   
   Validation :
   ------------
   
   Passage de l'ensemble des cas-tests X-FEM.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    passage de l'ensemble des cas-tests X-FEM.
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR proix        PROIX Jean-Michel      DATE 04/23/2013 - 09:30:52

--------------------------------------------------------------------------------
RESTITUTION FICHE 020758 DU 2013-04-19 07:41:01
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    TEST_COMPOR: Pb dans LIST_NPAS
FONCTIONNALITE
   Plantage dans la macro TEST_COMPOR quand on demande une liste personnalis√©e de
   red√©coupages allong√©e
   
   
   Ex. LIST_NPAS = [1,1,1,1,1,5,10,15,50,100,1000]
   La raison est que, dans la macro, la longueur de la liste est donn√©e en dur.
   
   Voici le diff entre la version d'origine et la correction de Marc, que je restitue
   
   627c627
   <       label_cal=['_Pa_','_Th_','_sym_','_rot_'] + (Ncal-4)* ['_N']
   ---
   >       label_cal=['_Pa_','_Th_','_sym_','_rot_'] + 6* ['_N']
   689c689
   <       for i in range(Ncal-4): P_idef.append(nomdef)
   ---
   >       for i in range(6): P_idef.append(nomdef)
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    tous les tests TEST_COMPOR
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 020765 DU 2013-04-19 15:13:32
TYPE express concernant Code_Aster (VERSION 10.9)
TITRE
    petite modif dans les tests mfront mazars et monocristal
FONCTIONNALITE
   Une petite correction dans les fichiers mfront du comportement cristallin, constat√©e lors
   d'une v√©rification sur une √©tude avec √©crouissage cin√©matique.
   
   Les fichiers mfron03b.22 et mfront03c.22 sont modifi√©s, ainsi que le test mfron03b, pour
   prendre en compte l'√©crouissage cin√©matique.
   
   D'autre part, une formulation plus √©l√©gante de Mazars en Mfront a √©t√© propos√©e par Thomas
   Helfer. Je la restitue dans mfron02c.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    mfront03b, mfron03c
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR pellet       PELLET Jacques         DATE 04/23/2013 - 08:51:53

--------------------------------------------------------------------------------
RESTITUTION FICHE 020722 DU 2013-04-12 10:16:23
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    RCCOMA et ELAS_FO
FONCTIONNALITE
   Probl√®me :
   ----------
   La routine rccoma.f ne fait le boulot qu'elle est sens√©e faire :
   C
   C     OBTENTION DU COMPORTEMENT COMPLET D'UN MATERIAU DONNE A PARTIR
   C     D'UN PREMISSE
                                                                                            
                                     
                                                                                            
                                     
   Analyse :
   ----------
   Etienne s'attend √† ce que si :
                                                                                            
                                     
      ACIER=DEFI_MATERIAU(ELAS_FO=_F( E = E,NU = NU,RHO = 2500,) )
                                                                                            
                                     
      CALL RCCOMA(ZI(JMATE),'ELAS',1,PHENOM,ICODRE)
      retourne PHENOM='ELAS_FO'
                                                                                            
                                     
   Etienne, comme d'autres programmeurs, croit avoir compris ce que veut dire :
   "COMPORTEMENT COMPLET" et une "PREMISSE", mais il se trompe.
                                                                                            
                                     
   En faisant quelques essais, j'observe que la routine a le comportement suivant :
                                                                                            
                                     
   DEFI_MATERIAU/ELAS        RCCOMA('ELAS')           -> 'ELAS'
   DEFI_MATERIAU/ELAS        RCCOMA('ELAS_FO')        -> ' '
   DEFI_MATERIAU/ELAS        RCCOMA('ELAS_COQUE')     -> ' '
   DEFI_MATERIAU/ELAS        RCCOMA('ELAS_COQUE_FO')  -> ' '
                                                                                            
                                     
   DEFI_MATERIAU/ELAS_FO     RCCOMA('ELAS')           -> 'ELAS'
   DEFI_MATERIAU/ELAS_FO     RCCOMA('ELAS_FO')        -> ' '
   DEFI_MATERIAU/ELAS_FO     RCCOMA('ELAS_COQUE')     -> ' '
   DEFI_MATERIAU/ELAS_FO     RCCOMA('ELAS_COQUE_FO')  -> ' '
                                                                                            
                                     
   DEFI_MATERIAU/ELAS_COQUE  RCCOMA('ELAS')           -> 'ELAS_COQUE'
   DEFI_MATERIAU/ELAS_COQUE  RCCOMA('ELAS_FO')        -> ' '
   DEFI_MATERIAU/ELAS_COQUE  RCCOMA('ELAS_COQUE')     -> 'ELAS_COQUE'
   DEFI_MATERIAU/ELAS_COQUE  RCCOMA('ELAS_COQUE_FO')  -> ' '
                                                                                            
                                     
   Mes conclusions :
   -----------------
                                                                                            
                                     
   1) Il ne faut jamais appeler RCCOMA avec l'argument "in" (PHENO) de la forme 'XXXX_FO' car
   il n'y aura jamais de r√©ponse.
                                                                                            
                                     
   2) L'argument de sortie de rccoma (PHENOM) ne contient JAMAIS le suffixe _FO.
      Les lignes ci-dessous montrent qu'Etienne n'est pas le seul √† ne pas avoir compris ce
   qu'est le "COMPORTEMENT COMPLET"
                                                                                            
                                     
       te0038.f:         IF (PHENOM.EQ.'ELAS' .OR. PHENOM.EQ.'ELAS_FO' .OR.
       te0038.f:     &       PHENOM.EQ.'ELAS_ISTR' .OR. PHENOM.EQ.'ELAS_ISTR_FO' .OR.
       te0038.f:     &       PHENOM.EQ.'ELAS_ORTH' .OR. PHENOM.EQ.'ELAS_ORTH_FO') THEN
       te0065.f:        IF (PHENOM.EQ.'ELAS' .OR. PHENOM.EQ.'ELAS_FO' .OR.
       te0065.f:     &      PHENOM.EQ.'ELAS_ISTR' .OR. PHENOM.EQ.'ELAS_ISTR_FO' .OR.
       te0065.f:     &      PHENOM.EQ.'ELAS_ORTH' .OR. PHENOM.EQ.'ELAS_ORTH_FO') THEN
       te0333.f:     &      PHENOM.EQ.'ELAS_ORTH_FO' .OR. PHENOM.EQ.'ELAS_ISTR_FO') THEN
       te0334.f:     &      PHENOM.EQ.'ELAS_ORTH_FO' .OR. PHENOM.EQ.'ELAS_ISTR_FO') THEN
       te0583.f:            IF (PHENOM.EQ.'ELAS' .OR. PHENOM.EQ.'ELAS_FO' .OR.
       te0583.f:     &          PHENOM.EQ.'ELAS_ISTR' .OR. PHENOM.EQ.'ELAS_ISTR_FO' .OR.
       te0583.f:     &          PHENOM.EQ.'ELAS_ORTH_FO') THEN
                                                                                            
                                     
   3) Si je dois d√©crire le but de la routine rccoma, je ne sais pas faire mieux que dire ce
   que fait le programme :
      Soit L_MFAC la liste des mots cl√©s facteurs utilis√©s lors de la cr√©ation du mat√©riau IMATE.
      Remarque : les noms de cette liste sont d√©barrass√©s de leur √©ventuel suffixe _FO
      On parcourt les noms (MFAC) de L_MFAC et on retourne le premier mot de la liste qui
   dont la partie "gauche" est identique √† l'argument d'entr√©e (PHENO)
                                                                                            
                                     
                                                                                            
                                     
   Corrections :
   ------------
   1) J'interdis le suffixe '_FO' dans l'argument d'entree (PHENO)
                                                                                            
                                     
   2) Dans les routines :
     dxroep.f te0038.f  te0065.f  te0245.f  te0285.f  te0333.f  te0334.f  te0583.f
     je retire les comparaisons inutiles du style " IF(PHENOM.EQ.'ELAS_ORTH_FO')".
                                                                                            
                                     
   3) Je modifie l'entete de la routine rccoma.f :
   C
   C     OBTENTION DU NOM DU MOT CLE FACTEUR CORRESPONDANT A UN NOM "COURT"
   C
   C     EXEMPLES :
   C      'ELAS' -> / 'ELAS'
   C                / 'ELAS_ISTR'
   C                / 'ELAS_GONF'
   C                / ...
   C      'ECRO' -> / 'ECRO_PUIS'
   C                / 'ECRO_LINE'
   C
   C     ARGUMENTS D'ENTREE:
   C        JMAT   : ADRESSE DU MATERIAU CODE
   C        PHENO  : NOM "COURT" RECHERCHE
   C        IARRET : = 0 ON REMPLIT ICODRE ET ON SORT SANS MESSAGE.
   C                 = 1 ON S'ARRETE AU PREMIER PROBLEME AVEC UN MESSAGE
   C     ARGUMENTS DE SORTIE:
   C        PHENOM : NOM DU MOT-CLE FACTEUR (SANS L'EVENTUEL SUFFIXE _FO)
   C                 DONT LE NOM COMMENCE PAR LE NOM "COURT" (PHENO)
   C        ICODRE : = 0 SI ON A TROUVE 1 PHENOM UNIQUE
   C                 = 1 SI ON N'A TROUVE AUCUN PHENOM
   C                 = 2 SI ON A TROUVE PLUSIEURS PHENOM
   C
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    rien de particulier
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 020729 DU 2013-04-15 13:20:57
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    Couverture de code : IMPR_RESU-RESU-ANGLE
FONCTIONNALITE
   Probl√®me :
   ----------
   Le mot cl√© IMPR_RESU / RESU / ANGLE n'est pas test√©.
                                                                                            
                                     
   Analyse :
   ---------
   Dans la doc U d'IMPR_RESU, ce mot cl√© est de type K16. Il est cit√© mais pas d√©crit.
   Dans le catalogue d'IMPR_RESU, ce mot cl√© est de type R.
                                                                                            
                                     
   Apr√®s examen (en profondeur) du fortran d'IMPR_RESU, je me suis convaincu qu'il ne peut
   etre utilis√© que pour s√©lectionner des num√©ros d'ordre dans les sd_resultat de type
   COMB_FOURIER.
                                                                                            
                                     
   Correction :
   ------------
   J'ajoute le test de ce mot cl√© dans le test tplv305a.
   Comme souvent, √ßa ne marche pas du premier coup !
                                                                                            
                                     
   Il y a en effet un petit bug dans le catalogue d'IMPR_RESU car le mot cl√©
   CRITERE='RELA'/'ABSO' est interdit avec le mot cl√© ANGLE et ce mot cl√© est indispensable.
    
   Impact documentaire :
   ---------------------
   U4.91.01 (IMPR_RESU) :
   1) corriger K16 -> R
   2) modifier la syntaxe pour permettre CRITERE et PRECISION avec le mot cl√© ANGLE.
                                                                                            
                                     
   NEW10 :
   -------
   Je ne pense pas qu'il soit n√©cessaire de corriger la version 10 pour cette fonctionnalit√©
   inutilis√©e jusqu'√† pr√©sent.
    
   Liste des fichiers impact√©s par la correction de la fiche:  20729
     impr_resu.capy
     tplv305a.comm
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.91.01
VALIDATION
    tplv305a
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------
RESTITUTION FICHE 020737 DU 2013-04-17 09:31:53
TYPE express concernant Code_Aster (VERSION 10.9)
TITRE
    2 "write xc3xa0 JACOT" laissxc3xa9s dans la routine conori.f
FONCTIONNALITE
   Probl√®me :
   ----------
   J√©r√¥me Laverne a remarqu√© 2 write(6,*) laiss√©s par erreur dans la routine conori.f.
   C'est de ma faute. J'ai oubli√© d'√©crire AJACOT dans le write et je n'ai pas √©t√© alert√©
   lors de ma derni√®re restitution.
                                                                                            
                                   
   Correction :
   ------------
   Je retire les 2 lignes "polluantes"
    
    
   Liste des fichiers impact√©s par la correction de la fiche:  20737
     conori.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    rien de particulier
NB_JOURS_TRAV  : 0.05
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR tran         TRAN Van-xuan          DATE 04/23/2013 - 02:01:08

--------------------------------------------------------------------------------
RESTITUTION FICHE 020217 DU 2013-01-18 14:04:01
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    En version 11.3.3, ssnv507c et d prennent plus de temps CPU qu'en version 11.3.2.
FONCTIONNALITE
   Probl√®me:
   ========
   En version 11.3.3, ssnv507c et d prennent plus de temps CPU qu'en version 11.3.2. 
   Le probl√®me se confirme en version 11.3.4. 
   
   La commande qui demande plus de temps est STAT_NON_LINE.
   
   Analyse:
   ========
   A partir la version 11.3.5, le temps de calcul a fortement diminu√© et stable, comme le
   montre les figures attach√©s. Suite √† discuter √† avec Samuel, on d√©cide le fermer.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sslv507c,d
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 020661 DU 2013-04-05 08:12:55
TYPE anomalie concernant Code_Aster (VERSION 10.9)
TITRE
    En NEW11.03.17, le cas-test sslv135e manque de temps CPU sur Aster4.
FONCTIONNALITE
   Probl√®me:
   =========
   En NEW11.03.17, le cas-test sslv135e manque de temps CPU sur Aster4.
   
   Analyse:
   ========
   Ce probl√®me vient de la fiche 18802 que j'ai restitue.
   
   Pour TYPE_CHARGE='NON_PERIODIQUE', auparavant on a balay√© sur tous les angles autour d'une
   seule direction critique. Apr√®s la fiche 18802, on balaie sur tous les angles autour de 2
   directions critiques -->augmenter les temps de calculs.
   
   Cette augmentation est pour tous les points de la cube.
   
   En tout cas, une augmentation du temps de calculs est possible pour
   TYPE_CHARGE='NON_PERIODIQUE'.
   
   Solutions:
   ==========
   Augmenter le temps de calculs de 6 mn √† 8 mn.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sslv135e
NB_JOURS_TRAV  : 0.3
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST AJOUT zzzz108c                     courtois M.COURTOIS         334    334      0
 CASTEST MODIF erreu04a                      boiteau O.BOITEAU          318      4      4
 CASTEST MODIF fdlv112b                     courtois M.COURTOIS         477      2     62
 CASTEST MODIF forma12e                        abbas M.ABBAS            262      5     11
 CASTEST MODIF mac3c04a                       delmas J.DELMAS           147      1      1
 CASTEST MODIF mac3c04b                       delmas J.DELMAS           157      1      1
 CASTEST MODIF mfron02c                        proix J-M.PROIX          396     10     12
 CASTEST MODIF mfron03b                        proix J-M.PROIX          277    201    251
 CASTEST MODIF mfron03c                        proix J-M.PROIX          343      1      1
 CASTEST MODIF miss01a                      courtois M.COURTOIS         208      1      1
 CASTEST MODIF miss05a                      courtois M.COURTOIS         842      4      2
 CASTEST MODIF sdll123f                       flejou J-L.FLEJOU         316      3      7
 CASTEST MODIF sdll130b                       flejou J-L.FLEJOU         317      5      8
 CASTEST MODIF sdll132a                       flejou J-L.FLEJOU         893     10     14
 CASTEST MODIF sdll132b                       flejou J-L.FLEJOU         707     11     15
 CASTEST MODIF sdls121d                       assire A.ASSIRE           356      4      4
 CASTEST MODIF sdnl130a                       flejou J-L.FLEJOU         286      6      7
 CASTEST MODIF sdnl130b                       flejou J-L.FLEJOU         244      4      4
 CASTEST MODIF sdnv103h                        abbas M.ABBAS            501     12      8
 CASTEST MODIF ssll111a                       flejou J-L.FLEJOU         280      7     12
 CASTEST MODIF ssll119a                       flejou J-L.FLEJOU         462      4      5
 CASTEST MODIF ssll119b                       flejou J-L.FLEJOU         432      4      5
 CASTEST MODIF sslp116a                       delmas J.DELMAS           539      1      1
 CASTEST MODIF sslp116b                       delmas J.DELMAS           538      1      1
 CASTEST MODIF sslp117a                       delmas J.DELMAS           489      1      1
 CASTEST MODIF sslp117b                       delmas J.DELMAS           488      1      1
 CASTEST MODIF sslv105b                       flejou J-L.FLEJOU         154      4     12
 CASTEST MODIF sslv135e                         tran V-X.TRAN           646      2      2
 CASTEST MODIF ssna110a                       assire A.ASSIRE          2117     22     19
 CASTEST MODIF ssnl119a                       flejou J-L.FLEJOU         372      6      6
 CASTEST MODIF ssnl119b                       flejou J-L.FLEJOU         192      3      3
 CASTEST MODIF ssnl120a                       flejou J-L.FLEJOU         223      8     10
 CASTEST MODIF ssnl120b                       flejou J-L.FLEJOU         349      3      3
 CASTEST MODIF ssnl122a                       flejou J-L.FLEJOU         629      3      4
 CASTEST MODIF ssnl123a                       flejou J-L.FLEJOU         457      5      8
 CASTEST MODIF ssnl127b                       flejou J-L.FLEJOU         445      7      9
 CASTEST MODIF ssnl127c                       flejou J-L.FLEJOU         480      7      9
 CASTEST MODIF ssnl128a                       flejou J-L.FLEJOU         540      4      6
 CASTEST MODIF ssnl128d                       flejou J-L.FLEJOU         531      4      6
 CASTEST MODIF ssnl135a                       flejou J-L.FLEJOU         678      9     52
 CASTEST MODIF ssnl135b                       flejou J-L.FLEJOU         709      9     28
 CASTEST MODIF ssnl135c                       flejou J-L.FLEJOU         711      9     28
 CASTEST MODIF ssnl139a                       flejou J-L.FLEJOU         144      7      8
 CASTEST MODIF ssnl141a                       flejou J-L.FLEJOU         183      5      5
 CASTEST MODIF ssnl141b                       flejou J-L.FLEJOU         183      6      5
 CASTEST MODIF ssnp15g                         abbas M.ABBAS            236      2      2
 CASTEST MODIF ssns106h                       flejou J-L.FLEJOU         893      4      4
 CASTEST MODIF ssns106i                       flejou J-L.FLEJOU         966      4      4
 CASTEST MODIF ssns106j                       flejou J-L.FLEJOU        1399      4      4
 CASTEST MODIF ssnv218a                     bargelli R.BARGELLINI       333     35      6
 CASTEST MODIF tplv305a                     sellenet N.SELLENET         970      4      1
 CASTEST MODIF zzzz112c                     courtois M.COURTOIS         195      1      1
 CASTEST MODIF zzzz159b                       assire A.ASSIRE           121     11     11
 CASTEST MODIF zzzz175a                        abbas M.ABBAS            299      2      3
 CASTEST MODIF zzzz228a                     courtois M.COURTOIS         126      1      1
 CASTEST MODIF zzzz234a                       flejou J-L.FLEJOU        1118      5     12
 CASTEST MODIF zzzz234f                       flejou J-L.FLEJOU         376      4      5
 CASTEST MODIF zzzz293a                       flejou J-L.FLEJOU         254      4     10
 CASTEST MODIF zzzz293b                       flejou J-L.FLEJOU         257      4     10
 CASTEST MODIF zzzz293c                       flejou J-L.FLEJOU         251      4     10
 CASTEST MODIF zzzz293d                       flejou J-L.FLEJOU         252      4      9
 CASTEST MODIF zzzz318a                       flejou J-L.FLEJOU         474      4     10
 CASTEST MODIF zzzz318b                       flejou J-L.FLEJOU         433      5     11
 CASTEST MODIF zzzz323a                       flejou J-L.FLEJOU         453      3      8
 CASTEST MODIF zzzz330a                       flejou J-L.FLEJOU         189      5      8
 CASTEST MODIF zzzz330b                       flejou J-L.FLEJOU         175      2      5
 CASTEST MODIF zzzz330c                       flejou J-L.FLEJOU         199     10     13
CATALOPY MODIF commande/affe_cara_elem        flejou J-L.FLEJOU         604      4      3
CATALOPY MODIF commande/calc_miss           courtois M.COURTOIS         279     34     13
CATALOPY MODIF commande/defi_fonction       courtois M.COURTOIS          65      6      4
CATALOPY MODIF commande/impr_resu           sellenet N.SELLENET         208      4      3
CATALOPY MODIF commande/info_mode           courtois M.COURTOIS         111      7      4
CATALOPY MODIF commande/mode_iter_inv       courtois M.COURTOIS         109      5      3
CATALOPY MODIF commande/mode_iter_simult    courtois M.COURTOIS         180      5      3
CATALOPY MODIF commun/c_convergence            abbas M.ABBAS             43      2     10
 FORTRAN AJOUT calculel/chvepg                 abbas M.ABBAS             88     88      0
 FORTRAN AJOUT calculel/chveva                 abbas M.ABBAS            103    103      0
 FORTRAN AJOUT calculel/rgcmpg                flejou J-L.FLEJOU          47     47      0
 FORTRAN MODIF algorith/conori              sellenet N.SELLENET         399      1      3
 FORTRAN MODIF algorith/copmod                boyere E.BOYERE           227      7      8
 FORTRAN MODIF algorith/dfllty                 abbas M.ABBAS            224      3      2
 FORTRAN MODIF algorith/exfonc                 abbas M.ABBAS            302     14     11
 FORTRAN MODIF algorith/mmnewt                desoza T.DESOZA           270     19      3
 FORTRAN MODIF algorith/nmarch                 abbas M.ABBAS            164      2      4
 FORTRAN MODIF algorith/nmcore                 abbas M.ABBAS            234      3      5
 FORTRAN MODIF algorith/nmcrcv                 abbas M.ABBAS             69      4     20
 FORTRAN MODIF algorith/nmdepl                 abbas M.ABBAS            228      4      3
 FORTRAN MODIF algorith/nmdorc                 abbas M.ABBAS            114     30     23
 FORTRAN MODIF algorith/nmevdt                 abbas M.ABBAS             86      6      5
 FORTRAN MODIF algorith/nmflma                 abbas M.ABBAS            333      3     20
 FORTRAN MODIF algorith/nmpild                 abbas M.ABBAS            124      5     36
 FORTRAN MODIF algorith/ntarch                 abbas M.ABBAS            122      2      4
 FORTRAN MODIF algorith/xoriff               jaubert A.JAUBERT          201      3      6
 FORTRAN MODIF calculel/ccchuc              courtois M.COURTOIS         343     12      4
 FORTRAN MODIF calculel/chligr                 abbas M.ABBAS            136     70     72
 FORTRAN MODIF calculel/op0055              cuvillie M.CUVILLIEZ        258      5      2
 FORTRAN MODIF elements/dxroep              sellenet N.SELLENET          71      2      6
 FORTRAN MODIF elements/te0025                delmas J.DELMAS           121      2      2
 FORTRAN MODIF elements/te0038              sellenet N.SELLENET         424      4      4
 FORTRAN MODIF elements/te0065              sellenet N.SELLENET         179      4      4
 FORTRAN MODIF elements/te0245              sellenet N.SELLENET         109      2      5
 FORTRAN MODIF elements/te0285              sellenet N.SELLENET         195      2      5
 FORTRAN MODIF elements/te0333              sellenet N.SELLENET         265      2      3
 FORTRAN MODIF elements/te0334              sellenet N.SELLENET         257      2      3
 FORTRAN MODIF elements/te0514                martin A.MARTIN           403      8      2
 FORTRAN MODIF elements/te0534                martin A.MARTIN           282      2      1
 FORTRAN MODIF elements/te0583              sellenet N.SELLENET         493      3      5
 FORTRAN MODIF modelisa/pmfd00                flejou J-L.FLEJOU         345    226    170
 FORTRAN MODIF modelisa/rccoma              sellenet N.SELLENET          89     24     11
 FORTRAN MODIF prepost/irecri                 delmas J.DELMAS           305      3      7
 FORTRAN MODIF prepost/op0183                  abbas M.ABBAS            319      6     29
 FORTRAN MODIF utilitai/rscrsd              courtois M.COURTOIS         463     16     17
FORTRAN90 MODIF mumps/amumpc                  boiteau O.BOITEAU          538     41     30
FORTRAN90 MODIF mumps/amumpd                  boiteau O.BOITEAU          538     41     30
FORTRAN90 MODIF mumps/amumph                  boiteau O.BOITEAU          461      9      5
FORTRAN90 MODIF mumps/amumps                  boiteau O.BOITEAU          537     41     30
FORTRAN90 MODIF mumps/amumpz                  boiteau O.BOITEAU          537     40     30
  PYTHON AJOUT Miss/miss_fichier_cmde       courtois M.COURTOIS         596    596      0
  PYTHON AJOUT Miss/miss_resu_miss          courtois M.COURTOIS         124    124      0
  PYTHON AJOUT Miss/template_miss           courtois M.COURTOIS         395    395      0
  PYTHON AJOUT Utilitai/test_utils          courtois M.COURTOIS          38     38      0
  PYTHON MODIF Macro/calc_miss_ops          courtois M.COURTOIS          54      3      5
  PYTHON MODIF Macro/macr_recal_ops           assire A.ASSIRE           766     10     11
  PYTHON MODIF Macro/test_compor_ops           proix J-M.PROIX          816      4      4
  PYTHON MODIF Messages/calculel               abbas M.ABBAS            457      6      1
  PYTHON MODIF Messages/champs              courtois M.COURTOIS         104     11      1
  PYTHON MODIF Messages/compor1                abbas M.ABBAS            418      1      5
  PYTHON MODIF Messages/mecanonline3           abbas M.ABBAS            122      8      1
  PYTHON MODIF Messages/mecanonline5           abbas M.ABBAS            264      7      1
  PYTHON MODIF Messages/miss0               courtois M.COURTOIS         154      8      4
  PYTHON MODIF Messages/modelisa8             flejou J-L.FLEJOU         339     25     37
  PYTHON MODIF Messages/utilitai              boyere E.BOYERE           420      2      2
  PYTHON MODIF Messages/xfem                  martin A.MARTIN           509      9      1
  PYTHON MODIF Miss/miss_calcul             courtois M.COURTOIS         507     63     48
  PYTHON MODIF Miss/miss_fichier_interf     courtois M.COURTOIS         142     71    551
  PYTHON MODIF Miss/miss_fichier_sol        courtois M.COURTOIS         129      4      3
  PYTHON MODIF Miss/miss_post               courtois M.COURTOIS        1118    177     79
  PYTHON MODIF Miss/miss_resu_aster         courtois M.COURTOIS         355     66     35
  PYTHON MODIF Miss/miss_utils              courtois M.COURTOIS         276     40     12
  PYTHON MODIF Noyau/N_VALIDATOR            courtois M.COURTOIS        1436     41      2
  PYTHON MODIF Validation/V_MCSIMP          courtois M.COURTOIS         197      5      5


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    8        1725      1725             +1725
 MODIF :  133       50934      1850    2291      -441
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :  141       52659      3575    2291     +1284 
